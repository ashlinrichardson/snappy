(window.webpackJsonp=window.webpackJsonp||[]).push([["page.header.v2~b59ad437"],{"03Pf":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("daKX");const o=Object(a.a)("scroll-to-element"),r=new Set;function i(e){return r.add(e),()=>r.delete(e)}function s(){r.forEach(e=>{try{e()}catch(t){Promise.all([n.e("monitoring~60420017").then(n.bind(null,"fFmz")),Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("error-boundary~b59ad437")]).then(n.bind(null,"fEZm"))]).then(([{getMonitoringClient:e},{Attribution:n}])=>{e().submitError(t,{attribution:n.CONTENT_EXPERIENCE})}).catch(()=>{})}})}function c(){s(),window.scrollTo(0,0)}function l(e,t){let n=0,a=e.offsetParent;for(;a instanceof HTMLElement;)n+=a.offsetTop,a=a.offsetParent;const r=e.offsetTop+(t||0)+n;s();try{window.scroll({top:r,behavior:"auto"})}catch(i){o.error`window.scroll() is not supported`}}},"2DyF":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("Czhu"),o=n("zjfJ"),r=n("ERkP"),i=n.n(r),s=n("lZoD");class c extends s.a{constructor(e){super(),Object(o.a)(this,"showDialog",(e,t,n)=>{const o=this.nextKey,r=t||{};this.nextKey++;const s=i.a.createElement(e,Object(a.a)(Object(a.a)({},r),{},{onClose:(...e)=>this.onChildClose(o,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(o,...e)}),n);return this.setState(e=>({stack:[...e.stack,{key:o,component:s,alive:!0,originalProps:{onClose:r.onClose,onCloseComplete:r.onCloseComplete}}]})),()=>{this.onChildClose(o)}}),this.nextKey=0,this.state={stack:e||[]},e&&e.forEach(e=>{this.nextKey=Math.max(this.nextKey,e.key+1)})}onChildClose(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState(e=>({stack:e.stack.map(e=>e===n?Object(a.a)(Object(a.a)({},e),{},{alive:!1}):e)})))}onChildCloseComplete(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState(e=>({stack:e.stack.filter(e=>e!==n)})))}}},"3Z2R":function(e,t,n){"use strict";var a=n("Czhu"),o=n("zjfJ"),r=n("ERkP"),i=n.n(r),s=(n("aWzz"),n("gQ5V")),c=n("yjkv"),l=n.n(c),u=n("jLkM"),d=n.n(u),m=n("aoYE");class p extends r.Component{constructor(...e){super(...e),Object(o.a)(this,"state",{superBatchLoaded:!1})}componentDidMount(){this.mounted=!0;const{webItems:e,onLoad:t,waitForSuperBatch:n}=this.props;t&&t({webItems:e}),n&&Object(m.a)().then(()=>{this.mounted&&this.setState({superBatchLoaded:!0})})}componentWillUnmount(){this.mounted=!1}render(){const{id:e,tagName:t,className:n,style:a,children:o,webItems:r,webSections:s,location:c,contentId:l,waitForSuperBatch:u}=this.props;if(u&&!this.state.superBatchLoaded)return null;const d={"data-webitem-location":c,"data-content-id":l,children:"function"==typeof o?o({webItems:r,webSections:s}):null};return e&&(d.id=e),n&&(d.className=n),a&&(d.style=a),i.a.createElement(t,d)}}Object(o.a)(p,"defaultProps",{tagName:"div"});var f=n("0+uK");n.d(t,"a",(function(){return h}));class h extends r.Component{constructor(...e){super(...e),Object(o.a)(this,"experienceSuccess",e=>{this.props.experienceSuccess&&this.props.experienceSuccess(e)})}render(){const{location:e,children:t,onLoad:n,hasMultipleSections:o,renderWhenLoading:r,allowedWebItems:c,notAllowedWebItems:u,fetchPolicy:m,spaceKey:h,contentId:b,id:E,className:g,style:O,tagName:y,version:v,waitForSuperBatch:I}=this.props,T={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:b||null,spaceKey:h||null,version:v||null};return i.a.createElement(s.b,{query:f.a,variables:T,fetchPolicy:m},({data:s,loading:m,error:f})=>{var h;if(f)return null;if(m&&!s)return r&&"function"==typeof t?t({loading:m}):null;let b=((null!=(h=s)?h.webItemSections:h)||[]).reduce((e,t)=>e.concat((t.items||[]).map(e=>Object(a.a)(Object(a.a)({},e),{},{parentSection:{label:t.label||t.styleClass}}))),[]);b=l()(b,"completeKey"),c&&(b=b.filter(e=>c.includes(e.completeKey))),u&&(b=b.filter(e=>!u.includes(e.completeKey))),b.forEach(e=>{const t={};if(Array.isArray(e.params)&&(e.params.forEach(e=>{t[e.key]=e.value}),e.params=t),e.section&&-1!==e.section.indexOf("/")){const t=e.section.split("/");e.webSection=t[1]}});let v=[];return o&&(v=d()(b.map(e=>e.section))),b.sort((e,t)=>e.weight-t.weight==0?e.label.localeCompare(t.label):e.weight-t.weight),m||this.experienceSuccess(!0),i.a.createElement(p,{id:E,className:g,style:O,tagName:y,location:e,webItems:b,webSections:v,onLoad:n,waitForSuperBatch:I},t)})}}Object(o.a)(h,"defaultProps",{fetchPolicy:"cache-and-network"})},"609a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.072 17.284l-3.905 2.053a1 1 0 0 1-1.451-1.054l.745-4.349-3.159-3.08a1 1 0 0 1 .554-1.705l4.366-.635 1.953-3.956a1 1 0 0 1 1.794 0l1.952 3.956 4.366.635a1 1 0 0 1 .555 1.705l-3.16 3.08.746 4.349a1 1 0 0 1-1.45 1.054l-3.906-2.053z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="StarFilledIcon";var c=s;t.default=c},"65Kk":function(e,t,n){e.exports=n.p+"7H6YRgqowH.gif"},"7ZQk":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("RfuI");const o=Object(a.a)({id:"cOUlh",name:"OnboardingStateUpdate",loader:async()=>(await Promise.all([n.e("afp~af75c846"),n.e("onboarding-state-update~aea5bb3b")]).then(n.bind(null,"ngiW"))).OnboardingStateUpdateComponent}),r=Object(a.a)({id:"PHBnS",name:"OnboardingStateEditor",loader:async()=>(await Promise.all([n.e("afp~af75c846"),n.e("onboarding-state-update~aea5bb3b")]).then(n.bind(null,"Zn5E"))).OnboardingStateEditor})},AKnR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("RfuI");const o=Object(a.a)({id:"onFQC",name:"ViewAllInlineComments",loader:async()=>(await n.e("view-all-inline-comments~0ae2caf4").then(n.bind(null,"fTLd"))).ViewAllInlineComments})},Dsoe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ERkP"),o=n("hpu0");class r extends a.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:n,attributes:a,collect:r,onSuccess:i}=this.props;Object(o.b)().start({attributes:a,name:t,timeout:n,id:e,collect:r,onSuccess:i})}render(){return null}}},JEzt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JnXH");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},JIlu:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("zjfJ"),r=(n("aWzz"),n("ERkP")),i=n.n(r),s=n("gQ5V"),c=n("KsTJ"),l=n("lZoD"),u=n("3IV/"),d=n("beEQ"),m=n("FdGg"),p=n("X2PC"),f=n("Dsoe"),h=n("3VMZ"),b=n("MV18"),E=n("7ZQk"),g=n("2+Cz"),O=n("U63R"),y=n("r+LL"),v=n("EvV7");let I={};var T=n("33EX"),S=n("4O0c"),A=n("Xsc2"),C=n("E2Aa"),_=n("+lf2"),w=n("MjIW"),k=n("fuv9");const N={verticalAlign:"top",display:"inline-block"},j=["wr!com.atlassian.confluence.plugins.confluence-page-banner:page-banner-common-resources"];class P extends r.PureComponent{render(){return i.a.createElement(C.a,{contentId:this.props.contentId,location:w.a.ATL_PAGE_METADATA,style:N},({panels:e})=>e&&e.length?i.a.createElement(k.a,{wrm:j},()=>e.map(e=>i.a.createElement(_.a,{key:e.completeKey,html:e.html}))):null)}}var R=n("3Z2R"),x=n("QBI0");const M=["wrc!com.atlassian.confluence.plugins.confluence-feature-discovery-plugin","wrc!com.atlassian.confluence.plugins.confluence-jira-metadata:confluence-jira-metadata-resources"];class B extends r.PureComponent{render(){const{contentId:e,versionOverride:t}=this.props;return i.a.createElement(R.a,{tagName:"span",location:w.a.PAGE_METADATA_BANNER,contentId:e,version:t},({webItems:t})=>{const n=i.a.createElement(x.a,{pageId:e,webItems:t,id:"page-metadata-banner-items"});return t.some(e=>e.id===y.a.CONTENT_METADATA_JIRA)?i.a.createElement(k.a,{wrm:M},()=>n):n})}}var D=n("hpu0");class L extends r.PureComponent{componentDidMount(){const{excludeIds:e,contentId:t}=this.props;e.includes(y.a.CONTENT_METADATA_PAGE_RESTRICTIONS)||Object(D.b)().start({id:t,name:h.a.VIEW_PAGE_RESTRICTIONS_BUTTON})}render(){const{contentId:e,versionOverride:t,excludeIds:n}=this.props;return i.a.createElement(R.a,{tagName:"span",contentId:e,location:w.a.SYSTEM_CONTENT_METADATA,version:t},({webItems:t})=>{let a=t;return n&&n.length&&(a=a.filter(e=>!n.includes(e.id))),i.a.createElement(x.a,{pageId:e,webItems:a,id:"system-content-items"})})}}Object(o.a)(L,"defaultProps",{excludeIds:[]});var F=n("UhQU"),U=n("66dv"),H=n("C33+"),V=n("LVSP"),G=n("cEjM"),K=n("zJ/j"),W=n("KIs4"),z=n("u6In"),Y=n("Iy7w"),J=n("L21V"),$=n("609a"),q=n.n($),Q=n("ttix"),Z=n.n(Q),X=n("a8dO"),ee=n("+CY+"),te=n("Ua+b"),ne=n("uQoP");const ae=Object(Y.a)(K.a,{target:"ejcd4xa0"})({name:"1g98hqh",styles:"min-width:30px;"}),oe=Object(ne.a)(ae);function re(e){const t=Object(a.a)({},e),n=t.isAnimated;return delete t.isAnimated,n?i.a.createElement(oe,Object(a.a)({},t)):i.a.createElement(ae,Object(a.a)({},t))}class ie extends r.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"handleFavouriteClick",()=>{const{contentId:e,favouritePage:t,isFavouritedByCurrentUser:n,unfavouritePage:a}=this.props;n?a({variables:{pageId:e}}):t({variables:{pageId:e}})})}render(){const{isFavouritedByCurrentUser:e,isAnimated:t}=this.props;return i.a.createElement(r.Fragment,null,i.a.createElement(ee.a,{accelerator:"f",listener:this.handleFavouriteClick}),i.a.createElement(X.a,{tag:"span",content:i.a.createElement(te.a,{shortcut:"f",contentBefore:e?i.a.createElement(J.c,{id:"favourite-button.pageheader.unfavourite.tooltip",defaultMessage:"Unstar this page",description:"Verb: to unfavourite a page"}):i.a.createElement(J.c,{id:"favourite-button.pageheader.favourite.tooltip",defaultMessage:"Star this page",description:"Verb: to favourite a page"})})},i.a.createElement(r.Fragment,null,i.a.createElement(re,{"data-test-id":"page-favourite-button",appearance:"subtle",onClick:this.handleFavouriteClick,iconBefore:e?i.a.createElement(q.a,{label:"StarFilledIcon"}):i.a.createElement(Z.a,{label:"StarIcon"}),isAnimated:t}),i.a.createElement(b.a,{name:h.a.VIEW_PAGE_FAVORITE_BUTTON,attributes:{isFavouritedByCurrentUser:e}}))))}}Object(o.a)(ie,"defaultProps",{isAnimated:!0});var se=n("H5qd"),ce=n.n(se);const le=ce.a`mutation FavouriteButtonFavouriteMutation($pageId:ID!){favouritePage(favouritePageInput:{pageId:$pageId}){content{id metadata{currentuser{favourited{isFavourite favouritedDate}}}}}}`,ue=ce.a`query FavouriteButtonQuery($pageId:ID!){content(id:$pageId){nodes{id type metadata{currentuser{favourited{isFavourite favouritedDate}}}operations{operation targetType}}}}`,de=ce.a`mutation FavouriteButtonUnfavouriteMutation($pageId:ID!){unfavouritePage(favouritePageInput:{pageId:$pageId}){content{id metadata{currentuser{favourited{isFavourite favouritedDate}}}}}}`;class me extends r.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"fireFavouritePageAnalyticsEvent",e=>{this.fireAnalyticsEvent("created",e)}),Object(o.a)(this,"fireUnfavouritePageAnalyticsEvent",e=>{this.fireAnalyticsEvent("deleted",e)}),Object(o.a)(this,"hasReadPermission",(e,t)=>Boolean(e&&e.filter(e=>e.targetType===t&&"read"===e.operation).length))}getAnalyticsData(e,t){const{contentId:n}=this.props;return{action:e,actionSubject:"favouritePage",objectId:n,source:"FavouriteButton",attributes:{componentVersion:"v2",pageType:t}}}fireAnalyticsEvent(e,t){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:this.getAnalyticsData(e,t)}).fire()}render(){const{contentId:e,onRender:t,isAnimated:n}=this.props,a={pageId:e};return i.a.createElement(m.a,{attribution:p.a.DISCO},i.a.createElement(f.a,{id:e,name:h.a.VIEW_PAGE_FAVORITE_BUTTON}),i.a.createElement(W.a,null,({userId:o})=>o?i.a.createElement(s.b,{query:ue,variables:a,fetchPolicy:"cache-and-network"},({data:o,loading:r,error:c})=>{var l,u,d;if(c)return null;if(!o&&r)return i.a.createElement(K.a,{appearance:"subtle"});const m=null!=(d=o)&&null!=(d=d.content)&&null!=(d=d.nodes)&&null!=(d=d[0])?d.type:d;if(!this.hasReadPermission(null!=(u=o)&&null!=(u=u.content)&&null!=(u=u.nodes)&&null!=(u=u[0])?u.operations:u,m))return null;const p=null!=(l=o)&&null!=(l=l.content)&&null!=(l=l.nodes)&&null!=(l=l[0])&&null!=(l=l.metadata)&&null!=(l=l.currentuser)&&null!=(l=l.favourited)?l.isFavourite:l;return i.a.createElement(s.a,{mutation:le,onCompleted:()=>this.fireFavouritePageAnalyticsEvent(m),refetchQueries:[{query:ue,variables:a}]},o=>i.a.createElement(s.a,{mutation:de,onCompleted:()=>this.fireUnfavouritePageAnalyticsEvent(m),refetchQueries:[{query:ue,variables:a}]},a=>(t(),i.a.createElement(ie,{contentId:e,favouritePage:o,unfavouritePage:a,isFavouritedByCurrentUser:Boolean(p),isAnimated:n}))))}):null))}}Object(o.a)(me,"defaultProps",{onRender:()=>{}});const pe=Object(z.a)()(me);class fe extends r.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"isItemMarked",!1),Object(o.a)(this,"markItem",null),Object(o.a)(this,"buttonRendered",()=>{this.isItemMarked||(this.isItemMarked=!0,this.markItem(G.a.PAGE_FAVOURITE))})}render(){const{contentId:e}=this.props;return i.a.createElement(l.c,{to:[v.a]},({addItem:t,markItem:n})=>(t(G.a.PAGE_FAVOURITE),this.markItem=n,i.a.createElement(pe,{contentId:e,onRender:this.buttonRendered,isAnimated:!1})))}}var he=n("0t80"),be=n("1OT/"),Ee=n("hUqX");class ge extends r.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"isItemMarked",!1),Object(o.a)(this,"markItem",null),Object(o.a)(this,"buttonRendered",()=>{this.isItemMarked||(this.isItemMarked=!0,this.markItem(G.a.PAGE_COMMENTS))})}render(){const{contentId:e}=this.props;return i.a.createElement(l.c,{to:[v.a]},t=>(t.addItem(G.a.PAGE_COMMENTS),this.markItem=t.markItem,i.a.createElement(Ee.a,{contentId:e,onRender:this.buttonRendered,isAnimated:!1})))}}var Oe=n("YsBd");const ye=[y.b.WATCH_BUTTON,y.b.PAGE_FAVOURITE,y.b.PAGE_UNFAVOURITE,y.b.EDIT_BUTTON_PAGE,y.b.EDIT_BUTTON_BLOGPOST,y.b.INVITE_TO_EDIT],ve={display:"inline-block"},Ie={display:"flex"},Te=Object(c.default)(U.a)`
  vertical-align: middle;
`,Se=c.default.div`
  align-items: center;
  display: flex;
`,Ae=c.default.div`
  border: none;
  border-left: 2px solid rgba(107, 119, 140, 0.3);
  display: inline-block;
  width: 1px;
  height: 16px;
  margin: 0 4px 0 7px;
`,Ce=c.default.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  min-height: 52px;
`,_e=c.default.div`
  display: ${({itemsLoaded:e})=>e?"none":"block"};
`,we=c.default.div`
  display: ${({itemsLoaded:e})=>e?"block":"none"};
`;class ke extends r.PureComponent{constructor(e){super(e),e.initItems()}render(){const{spaceKey:e,contentId:t,versionOverride:n,headerSticky:a,displayCommentButton:o,includeSystemIds:s,itemsLoaded:c,addItem:l}=this.props,u=a?"auto":void 0;return i.a.createElement(r.Fragment,null,i.a.createElement(_e,{itemsLoaded:c},i.a.createElement(Oe.a,null)),i.a.createElement(we,{itemsLoaded:c},i.a.createElement(Ce,null,i.a.createElement("span",{style:ve},i.a.createElement("span",{"data-test-id":"content-buttons",style:Ie},i.a.createElement(be.a,{key:"edit-content-button",contentId:t}),o?i.a.createElement(ge,{key:"comment-button",contentId:t}):null,i.a.createElement(fe,{key:"favourite-button",contentId:t}),i.a.createElement(he.a,{key:"watch-dialog",contentId:t,headerSticky:a,defaultTab:F.a.PAGE,customPlacement:u}),i.a.createElement(R.a,{key:"page-buttons",contentId:t,location:w.a.PAGE_BUTTONS,notAllowedWebItems:ye,tagName:"span",version:n},({webItems:e})=>i.a.createElement(Te,{webItems:e,buttonType:"aui-button-subtle"})),i.a.createElement(Se,null,i.a.createElement(f.a,{key:"restriction-button-start",id:t,name:h.a.VIEW_PAGE_RESTRICTIONS_BUTTON}),i.a.createElement(R.a,{key:"restriction-button",tagName:"span",contentId:t,location:w.a.SYSTEM_CONTENT_METADATA,version:n},({webItems:e})=>{const n=e.filter(e=>s.includes(e.id));return n.length?(n.forEach(e=>{e.id===y.a.CONTENT_METADATA_PAGE_RESTRICTIONS&&l(G.a.PAGE_RESTRICTIONS)}),i.a.createElement(Se,null,i.a.createElement(Ae,null),i.a.createElement(Te,{pageId:t,webItems:n,id:"system-content-items-extracted"}))):null}),i.a.createElement(f.a,{key:"view-page-share-button-start",id:t,name:h.a.VIEW_PAGE_SHARE_BUTTON}),i.a.createElement(R.a,{key:"share-button",tagName:"span",contentId:t,allowedWebItems:[y.b.INVITE_TO_EDIT],location:w.a.PAGE_BUTTONS,version:n},({webItems:e})=>(e.forEach(e=>{e.completeKey===y.b.INVITE_TO_EDIT&&(e.contentId=t,l(G.a.SHARE_PAGE))}),i.a.createElement(Te,{pageId:t,webItems:e,id:"extracted-share-button"}))))),i.a.createElement(H.b,{origin:"page",contentId:t})),i.a.createElement(V.a,{spaceKey:e,contentId:t,version:n}))))}}Object(o.a)(ke,"defaultProps",{includeSystemIds:[]}),n.d(t,"ContentHeader",(function(){return De}));const Ne=c.default.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  min-height: 52px;
  padding-top: 20px;
`,je=c.default.div`
  flex-grow: 1;
`,Pe=c.default.div`
  width: 10px;
`,Re=c.default.div`
  background-color: #fff;
  border-bottom: 1px solid ${u.N30};
  height: 10px;
`,xe=c.default.div`
  margin-left: 4px;
`;xe.displayName="SpacedActionItem";const Me=[y.a.CONTENT_METADATA_PAGE_RESTRICTIONS,y.a.CONTENT_METADATA_ATTACHMENTS],Be=[y.a.CONTENT_METADATA_PAGE_RESTRICTIONS];class De extends r.Component{render(){const{spaceKey:e,contentId:t,actionItems:n,versionOverride:o,showMetadataItems:c,shouldRefreshContent:u,displayCommentButton:y}=this.props;return i.a.createElement(m.a,{attribution:p.a.BACKBONE},i.a.createElement(f.a,{id:t,name:h.a.VIEW_PAGE_CONTENT_HEADER}),i.a.createElement(s.b,{query:T.a,variables:{contentId:t}},({loading:s,error:m,data:p,refetch:f})=>{var g,T;if(s||m||!p)return i.a.createElement(S.a,null);u&&f();const{isSticky:C,className:_}=this.props,w=null!=(T=p)&&null!=(T=T.content)&&null!=(T=T.nodes)&&null!=(T=T[0])?T.type:T,k=C?null!=(g=p)&&null!=(g=g.content)&&null!=(g=g.nodes)&&null!=(g=g[0])?g.title:g:null;return i.a.createElement(r.Fragment,null,i.a.createElement(E.b,null),i.a.createElement(Ne,{id:A.a,className:_},i.a.createElement("div",{"data-test-id":"breadcrumb"},i.a.createElement(d.a,{contentId:t,spaceKey:e,contentTitle:k,priority:O.a.IMMEDIATE})),i.a.createElement(Pe,null),c&&i.a.createElement(r.Fragment,null,i.a.createElement(L,{contentId:t,versionOverride:o,excludeIds:Me}),i.a.createElement(B,{contentId:t,versionOverride:o})),i.a.createElement(je,null),c&&i.a.createElement(P,{contentId:t}),i.a.createElement(l.c,{to:[v.a]},({state:n,initItems:a,addItem:r})=>{return i.a.createElement(ke,{contentId:t,version:o,headerSticky:C,displayCommentButton:y,includeSystemIds:Be,spaceKey:e,initItems:a,itemsLoaded:!!(window.__SSR_RENDERED__&&(s="confluence.ssr.render.page.buttons",s in I&&I[s]))||n.itemsLoaded,addItem:r});var s}),n.map((n,o)=>{const r={contentId:t,spaceKey:e,contentType:w};return i.a.createElement(xe,{key:n.displayName||o},i.a.createElement(n,Object(a.a)({},r)))})),C?i.a.createElement(Re,null):null,i.a.createElement(b.a,{name:h.a.VIEW_PAGE_CONTENT_HEADER}))}),i.a.createElement(m.a,{attribution:p.a.MISSION_CONTROL},i.a.createElement(g.a,{contentId:t})))}}Object(o.a)(De,"defaultProps",{showMetadataItems:!0,actionItems:[],isSticky:!1,className:"",versionOverride:null})},JIsJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t||e.properties.title;let a="";var o;return"PRODUCTION"!==e.environmentType&&(a=` (${o=e.environmentType||"",o&&o.length?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():""})`),n+a}},JnXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("ERkP"),r=n("7nmT");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,r.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component);t.default=c},L3Ew:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("RfuI");Object(a.a)({id:"H0gce",name:"LazyForgeUIExtensionPoint",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"JKJ1"))).ForgeUIExtensionPointWrapper});const o=Object(a.a)({id:"0A4WZ",name:"LazyForgeUIExtensions",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"JKJ1"))).ForgeUIExtensionsWrapper}),r=Object(a.a)({id:"JWsuJ",name:"LazyForgeUIExtension",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"JKJ1"))).ForgeUIExtensionWrapper})},LPS5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd");const o=n.n(a).a`query CommentButtonQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ROOT){count nodes{id location{type ...on InlineComment{inlineMarkerRef}}}}}`},MjIW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={TOOLS_MENU_CONTAINER:"system.content.action",TOOLS_MENU_MARKER:"system.content.action/marker",TOOLS_MENU_LEADING:"system.content.action/leading",TOOLS_MENU_PRIMARY:"system.content.action/primary",TOOLS_MENU_SECONDARY:"system.content.action/secondary",TOOLS_MENU_MODIFY:"system.content.action/modify",PAGE_BUTTONS:"system.content.button",SYSTEM_DASHBOARD:"system.dashboard",SYSTEM_DASHBOARD_BUTTON:"system.dashboard.button",SYSTEM_CONTENT_BYLINE:"system.content.byline",SYSTEM_CONTENT_METADATA:"system.content.metadata",PAGE_METADATA_BANNER:"page.metadata.banner",SYSTEM_HEADER_LEFT:"system.header/left",SYSTEM_HEADER_LEFT_BUTTON_GROUP:"system.header/left.button.group",SYSTEM_HELP:"system.help/pages",SYSTEM_USER_ANONYMOUS:"system.user/anonymous",SYSTEM_USER:"system.user",SYSTEM_ADMIN_SITE_SECTION:"system.admin.site/site_admin_section",SPACE_SIDEBAR:"system.space.sidebar/main-links",SYSTEM_ADMIN:"system.admin",SYSTEM_EDITOR_LINK_BROWSER_TABS:"system.editor.link.browser.tabs",SYSTEM_EDITOR_PRECURSOR_BUTTONS:"system.editor.precursor.buttons",CREATE_DIALOG:"system.create.dialog/content",ACTION_PANEL:"page.view.selection/action-panel",DASHBOARD_LEFT:"atl.dashboard.left",DASHBOARD_SECONDARY:"atl.dashboard.secondary",ATL_GENERAL:"atl.general",ATL_FOOTER:"atl.footer",ATL_PAGE_METADATA:"atl.page.metadata.banner",ATL_PAGE_CONTENT_FOOTER_ACTIONS:"atl.page.content.footer.actions",ATL_EDITOR_SAVEBAR:"atl.editor.savebar",SYSTEM_ADMIN_SITE_ADMINISTRATION:"system.admin/siteadministration",SYSTEM_ADMIN_SITE_ADMINISTRATION_SECURITY:"system.admin/security"}},RKN0:function(e,t,n){"use strict";var a=n("ERkP"),o=n.n(a),r=n("JEzt"),i=n.n(r),s=n("z3D9"),c=n("nvpc"),l=n("u6In"),u=n("bLpi"),d=n("NI0Q"),m=n("RLdS"),p=n("zLcT"),f=n("KsTJ"),h=n("3IV/"),b=n("w301"),E=n("BMbf"),g=n("bg0W"),O=n("ZgvQ");const y=Object(b.a)({light:h.N0,dark:h.DN50}),v=Object(b.a)({light:h.N900,dark:h.DN600}),I=f.default.div`
  background: ${y};
  border-radius: ${E.c}px;
  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */
  color: ${v};
  max-height: ${Object(O.multiply)(E.h,56)}px;
  max-width: ${Object(O.multiply)(E.h,56)}px;
  padding: ${Object(O.multiply)(E.h,2)}px ${Object(O.multiply)(E.h,3)}px;
  z-index: ${E.i.dialog};

  ${g.e200};

  &:focus {
    outline: none;
  }
`;class T extends a.Component{constructor(){super(...arguments),this.handleClickOutside=e=>{const{isOpen:t,onClose:n}=this.props;if(e.defaultPrevented)return;const a=this.containerRef,o=this.triggerRef,{target:r}=e;o&&o.contains(r)||t&&a&&!a.contains(r)&&n&&n({isOpen:!1,event:e})}}componentDidUpdate(e){"undefined"!=typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))}componentDidMount(){"undefined"!=typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)}componentWillUnmount(){"undefined"!=typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)}render(){const{children:e,placement:t,isOpen:n,content:a,onContentBlur:r,onContentFocus:s,onContentClick:c,testId:l}=this.props,p=n?o.a.createElement(u.a,{placement:t},({ref:e,style:t})=>o.a.createElement(I,{onBlur:r,onFocus:s,onClick:c,innerRef:t=>{this.containerRef=t,"function"==typeof e?e(t):e.current=t},style:t,"data-testid":l},a)):null;return o.a.createElement(d.a,null,o.a.createElement(m.a,null,({ref:t})=>o.a.createElement(i.a,{innerRef:e=>{this.triggerRef=e,"function"==typeof t?t(e):t.current=e}},e)),p)}}T.defaultProps={isOpen:!1,onContentBlur:()=>{},onContentClick:()=>{},onContentFocus:()=>{},onClose:()=>{},placement:"bottom-start"};const S=Object(s.a)("atlaskit");t.a=Object(c.a)({componentName:"inlineDialog",packageName:p.a,packageVersion:p.b})(Object(l.a)({onClose:S({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:p.a,packageVersion:p.b}})})(T))},Xsc2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="content-header-container"},beEQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("RfuI");const o=Object(a.a)({id:"tEtnv",name:"Breadcrumbs",loader:()=>Promise.all([n.e("vendors~4134d62c"),n.e("breadcrumbs~b59ad437")]).then(n.bind(null,"NEUp")).then(({Breadcrumbs:e})=>e)})},gloY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 0 0 .164.033.515.515 0 0 0 .474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e))};s.displayName="CommentIcon";var c=s;t.default=c},hUqX:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("Czhu"),o=n("HbGN"),r=n("Iy7w"),i=n("ERkP"),s=n.n(i),c=n("1U1M"),l=n("L21V"),u=n("zJ/j"),d=n("a8dO"),m=n("gloY"),p=n.n(m),f=n("RKN0"),h=n("3IV/"),b=n("u6In"),E=n("ltac"),g=n("6z9Z"),O=n("3VMZ"),y=n("MV18"),v=n("rc7/"),I=n("FdGg"),T=n("X2PC"),S=n("dIe6"),A=n("uQoP"),C=n("daKX"),_=n("F4Ur"),w=n("LEcB"),k=n("mAAb"),N=n("ZsZh"),j=n("AKnR"),P=n("65Kk"),R=n.n(P),x=n("LPS5");const M=Object(r.a)("div",{target:"e153kvso0"})("border-radius:3px;max-width:100%;min-width:30px;background:",e=>e.isDialogOpen||e.allInlineCommentsOpen?h.N700:h.N0,";& span{color:",e=>e.isDialogOpen||e.allInlineCommentsOpen?h.N0:"inherit",";}> button:hover{background:",e=>e.isDialogOpen||e.allInlineCommentsOpen?h.N700:h.N30,";}"),B=Object(r.a)("div",{target:"e153kvso1"})({name:"vgor0x",styles:"width:241px;height:214px;display:flex;flex-direction:column;align-items:center;justify-content:center;& h1{font-weight:500;font-size:20px;margin-bottom:14px;}"}),D=s.a.createElement(B,{"data-cy":"inline-comment-gif"},s.a.createElement(l.c,{id:"comment-button.heading",defaultMessage:"Be the first to add an inline comment",description:"Heading Section for Inline Comments discoverability Dialog",tagName:"h1"}),s.a.createElement("img",{src:R.a}),s.a.createElement(l.c,{id:"comment-button.message",defaultMessage:"Share your feedback or ask a question by highlighting text and clicking {text}.",description:"Paragraph Section for Inline Comments discoverability Dialog",tagName:"p",values:{text:s.a.createElement("b",null,"Comment")}})),L=Object(A.a)(u.a);function F(e){const{isAnimated:t}=e,n=Object(o.a)(e,["isAnimated"]);return delete n.isAnimated,t?s.a.createElement(L,Object(a.a)({},n)):s.a.createElement(u.a,Object(a.a)({},n))}const U=Object(C.a)("comment-button"),H=Object(i.memo)(({contentId:e,createAnalyticsEvent:t,onRender:n,isAnimated:a})=>{let o,r;const u=Object(i.useContext)(g.a),{viewAllInlineComments:m,isViewAllInlineCommentsVisible:h}=Object(i.useContext)(N.a),{fireExposureEvent:b}=Object(w.a)("confluence.frontend.comments.inline.discoverability",["header-button","not-enrolled"],"not-enrolled",!0),{cohort:A}=Object(w.a)("confluence.frontend.react.inline.comments",["react","not-enrolled","backbone"],"not-enrolled",!1),{cohort:C,fireExposureEvent:P}=Object(w.a)("confluence.frontend.view.all.inline.comments",["control","not-enrolled","variation"],"not-enrolled",!0),R=Object(i.useRef)(null),B=Object(i.useRef)(null),{loading:L,data:H,error:V}=Object(c.d)(x.a,{variables:{pageId:e},fetchPolicy:"cache-and-network"});Object(i.useEffect)(()=>()=>{R.current=null},[R.current]),Object(i.useEffect)(()=>{b()},[b]),Object(i.useEffect)(()=>{P()},[P]),Object(i.useEffect)(()=>{u.start({name:O.a.VIEW_PAGE_COMMENT_BUTTON,id:e,attributes:{framework:"react"===A?k.b.REACT:k.b.BACKBONE}})},[u,A,e]);const[G,K]=Object(i.useState)(!1),W=e=>{e?e&&e.classList.contains("react"===A?"inline-highlight":"valid")?e.click():W(z()):Y()},z=()=>{const e=(()=>{const e=[].slice.call(document.querySelectorAll('[data-mark-annotation-type="inlineComment"],.inline-comment-marker'));return"react"===A?e.find(e=>e.classList.contains("inline-highlight"))||null:e.find(e=>e.classList.contains("valid"))||null})(),t=e&&(e.getAttribute("data-id")||e.getAttribute("data-ref"));return t&&Boolean(r.find(e=>e.location.inlineMarkerRef===t))||!1?(R.current=e,e):null},Y=()=>{K(!G),J(),u.succeed({name:O.a.VIEW_PAGE_DISCOVER_INLINE_COMMENTS_FEATURE,attributes:{pageHasInlineComments:!1}})},J=()=>{t({type:"sendScreenEvent",data:{name:"commentsOnboardingScreen",attributes:{type:"header-button"}}}).fire()},$=()=>{"variation"===C&&j.a.preload()},q=()=>{if("variation"===C&&h)return void m(!1);u.start({name:O.a.VIEW_PAGE_DISCOVER_INLINE_COMMENTS_FEATURE,attributes:{framework:"react"===A?k.b.REACT:k.b.BACKBONE}});const n=Boolean(o&&r.length>0);if(t({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",actionSubjectId:"inlineCommentsIcon",attributes:{pageHasInlineComments:n,icontype:"header"},objectType:"page",objectId:e,source:"viewPageScreen"}}).fire(),n)if("variation"===C)m(!0);else try{R.current?W(R.current):W(z())}catch(V){u.fail({name:O.a.VIEW_PAGE_DISCOVER_INLINE_COMMENTS_FEATURE,error:V,attributes:{pageHasInlineComments:!0}}),U.error`An Error occured when computing to search for first Unresolved Inline comment`}else Y()};return L?null:V&&Object(v.b)(V)?(Object(_.a)(V),u.abort({name:O.a.VIEW_PAGE_COMMENT_BUTTON,reason:"Anonymous user"}),null):(H&&(o=null!=(Q=H)&&null!=(Q=Q.comments)?Q.count:Q,o&&(r=null!=(Z=H)&&null!=(Z=Z.comments)?Z.nodes:Z)),n&&n(),s.a.createElement(I.a,{attribution:T.a.COLLABORATION},s.a.createElement(f.a,{isOpen:G,content:D,placement:(X=B.current,X?Object(E.d)(X)?"bottom-end":"auto-end":"bottom-end"),onClose:()=>{Y()}},s.a.createElement(M,{isDialogOpen:G,allInlineCommentsOpen:h,"data-cy":"comment-button",ref:B},s.a.createElement(d.a,{content:s.a.createElement(l.c,{id:"comment-button.tooltip",defaultMessage:"Show inline comments",description:"Tooltip for button that shows inline comments for a page"}),hideTooltipOnClick:!0,position:"bottom"},s.a.createElement(F,{appearance:"subtle",iconBefore:s.a.createElement(l.c,{id:"comment-button.icon.label",description:"aria-label for the comment button",defaultMessage:"Comment Icon"},e=>s.a.createElement(p.a,{label:e})),onClick:q,onMouseOver:$,isAnimated:a})))),s.a.createElement(y.a,{name:O.a.VIEW_PAGE_COMMENT_BUTTON}),V&&s.a.createElement(S.a,{error:V})));var Q,Z,X});H.defaultProps={isAnimated:!0};const V=Object(b.a)()(H)},i8f0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var a=n("RfuI");const o=Object(a.a)({id:"FwEOx",name:"ByLineForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"g+zn"))).ByLineForgeApp}),r=Object(a.a)({id:"MJUwt",name:"ContentActionForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"7vZn"))).ContentActionForgeApp}),i=Object(a.a)({id:"PS0VN",name:"ContextMenuForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"Nxch"))).ContextMenuForgeApp}),s=Object(a.a)({id:"vuUA2",name:"GlobalSettingsForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"Jt9m"))).GlobalSettingsForgeApp}),c=Object(a.a)({id:"tPS6a",name:"HomepageFeedForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"XCm7"))).HomepageFeedForgeApp}),l=Object(a.a)({id:"u6Byy",name:"SpaceSettingsForgeApp",loader:async()=>(await Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e(0),n.e(12),n.e(13),n.e(18),n.e(20),n.e(21),n.e(74),n.e("forge-ui~b59ad437")]).then(n.bind(null,"75cO"))).SpaceSettingsForgeApp})},ltac:function(e,t,n){"use strict";function a(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function o(e,t){if(!e)return!1;t=t||document.scrollingElement||document.body.parentNode;const n=e.offsetHeight,o=a(e),r=a(t)+t.scrollTop,i=t.offsetHeight;return o>=r&&o+n<=r+i}function r(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:r(e.parentNode)}function i(e,t){t=t||r(e),e&&t&&!o(e,t)&&(t.scrollTop=a(e)-a(t)-t.clientHeight/2)}function s(e){return e.getBoundingClientRect()}function c(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:o,bottom:r}=a,i=n.offsetHeight;return 0<=o&&o<i||0<=r&&r<=i||o<=0&&0<=r&&r>=i}function l(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const a=e.getBoundingClientRect(),{top:o}=a,r=n.offsetHeight;return 0<=o&&o<r}n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}))},mAAb:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const a={EDIT:"edit",VIEW:"view"},o={REACT:"react",BACKBONE:"backbone"},r={INVALID_SELECTION:"Invalid text selection. Cannot create inline comments on macros (mentions, images, emojis, etc.)",FAILED_TO_INSERT_MARK:"Failed to insert highlight, invalid originalSelection, numMatches, or matchIndex",INVALID_ARGUMENT_CREATED_FROM:"Invalid createdFrom, please specify if created from editor or renderer",INVALID_ARGUMENT_MATCHES:"Invalid arguments provided for matchIndex and/or numMatches",STALE_SELECTION:"Selection was made against a stale version of the content",COMMENT_NOT_FOUND:"Content with id %d for comment container is not found. Please provide correct container id.",PARENT_NOT_FOUND:"Parent comment with id %d is not found. Please provide correct parent comment id.",INCOMPATIBLE_PARENT_TYPE:"Incompatible parent type. Please provide comment id.",DELETE_ERROR:"Exception occurred while deleting comment with id",NO_DELETE_PERMS:"Parent page view is restricted",NO_UPDATE_PERMS:"Could not update Content of type : class com.atlassian.confluence.pages.Comment with id %d"}},ttix:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 16.373l3.98 2.193-.76-4.655 3.276-3.347-4.524-.69L12 5.687l-1.972 4.189-4.524.689L8.78 13.91l-.762 4.655L12 16.373zm0 2.283l-3.016 1.662a2 2 0 0 1-2.939-2.075l.599-3.656-2.57-2.624a2 2 0 0 1 1.129-3.377l3.47-.528 1.518-3.224a2 2 0 0 1 3.618 0l1.519 3.224 3.47.528a2 2 0 0 1 1.127 3.377l-2.569 2.624.599 3.656a2 2 0 0 1-2.94 2.075L12 18.656z" fill="currentColor"/></svg>'},e))};s.displayName="StarIcon";var c=s;t.default=c},v5SA:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("Czhu"),o=n("zjfJ"),r=n("lZoD"),i=n("WWAs");class s extends r.a{constructor(...e){super(...e),Object(o.a)(this,"state",{floatingBanners:[]}),Object(o.a)(this,"showFloating",(e,t)=>{const n=Object(i.b)(e,this.state.floatingBanners);-1===n?this.setState(n=>{const o=[...n.floatingBanners];return o.push({name:e,height:t}),Object(a.a)(Object(a.a)({},n),{},{floatingBanners:o})}):this.state.floatingBanners[n].height!==t&&this.setState(e=>{const o=[...e.floatingBanners];return o[n].height=t,Object(a.a)(Object(a.a)({},e),{},{floatingBanners:o})})}),Object(o.a)(this,"hideFloating",e=>{const t=Object(i.b)(e,this.state.floatingBanners);t>-1&&this.setState(e=>{const n=[...e.floatingBanners];return n.splice(t,1),Object(a.a)(Object(a.a)({},e),{},{floatingBanners:n})})}),Object(o.a)(this,"getFloatingHeightBefore",e=>{const t=Object(i.b)(e,this.state.floatingBanners);return-1===t?0:this.state.floatingBanners.slice(0,t).reduce((e,t)=>e+t.height,0)}),Object(o.a)(this,"getFloatingHeight",()=>this.state.floatingBanners.reduce((e,t)=>e+t.height,0))}}},x0zE:function(e,t,n){"use strict";n.r(t);var a=n("Czhu"),o=n("zjfJ"),r=n("ERkP"),i=n.n(r),s=n("lZoD"),c=(n("aWzz"),n("u6In")),l=n("WWAs"),u=n("v5SA"),d=n("KsTJ"),m=n("RNvQ"),p=n.n(m),f=n("NT0K"),h=n("03Pf");const b=({onBeforeExplicitScroll:e})=>(function(e){const{onBeforeExplicitScroll:t}=e;Object(r.useEffect)(()=>{const e=Object(h.a)(t);return()=>e()},[t])}({onBeforeExplicitScroll:e}),null);b.displayName="DocumentScrollListener";var E=n("Xsc2");const g=d.keyframes`
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(0, -100%, 0); }
`,O=d.keyframes`
    0% { transform: translate3d(0px, -100px, 0px); }
    100% { transform: translate3d(0px, 0px, 0px); }
`;const y=d.default.div`
  animation-name: ${function(e){return"top"===e.stuckState?O:"hidden"===e.stuckState?g:"none"}};
  animation-duration: 0.25s;
  animation-timing-function: ease;
  animation-delay: 0s;
  animation-iteration-count: 1;
  animation-direction: normal;
  animation-fill-mode: forwards;
  animation-play-state: running;

  position: ${e=>e.stuckState?"fixed":"initial"};
  width: ${e=>e.stuckState&&e.width?e.width+"px":"inherit"};
  top: ${e=>e.offsetHeight}px;
  z-index: 12;
  background-color: #fff;
  margin-left: -10px;
  padding-left: 10px;
`,v=d.default.div`
  box-sizing: border-box;

  .sticky-header {
    background-color: #fff;
  }
`;class I extends r.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"state",{stuckState:null,width:0}),Object(o.a)(this,"containerRef",i.a.createRef()),Object(o.a)(this,"isMounted",!1),Object(o.a)(this,"lastDownwardTop",0),Object(o.a)(this,"lastTop",0),Object(o.a)(this,"repaintTimeout",null),Object(o.a)(this,"notifyTableTimeout",null),Object(o.a)(this,"height",0),Object(o.a)(this,"preventNextScrollFromTriggeringStickyHeader",!1),Object(o.a)(this,"ignoreNextScroll",()=>{this.preventNextScrollFromTriggeringStickyHeader=!0,"top"===this.state.stuckState&&this.setState({stuckState:"hidden"},this.handleStickyStateChange)}),Object(o.a)(this,"stick",p()(e=>{var t;if(!this.isMounted)return;const n=null!=(t=this.containerRef)?t.current:t;if(!(n&&n.querySelector("#"+E.a)))return void this.setState({stuckState:null},this.handleStickyStateChange);const a=e&&"scroll"===e.type,o=n.getBoundingClientRect().top,r=this.lastTop>=o;a&&(this.lastTop=o,r&&(this.lastDownwardTop=o));const{stuckState:i}=this.state;let s=i;o<0?(this.props.closeOpenDialogAndMenu(),a&&r&&"top"===i?s="hidden":a&&!r&&Math.abs(o-this.lastDownwardTop)>=50&&(this.preventNextScrollFromTriggeringStickyHeader?this.preventNextScrollFromTriggeringStickyHeader=!1:s="top")):s=null,s!=i&&this.setState({stuckState:s},this.handleStickyStateChange)},50)),Object(o.a)(this,"handleStickyStateChange",()=>{const{onStickyStateChange:e}=this.props,{stuckState:t}=this.state;"top"===t?(this.sendHeaderIsStickyAnalyticsEvent(),window.clearTimeout(this.notifyTableTimeout),this.notifyTableTimeout=window.setTimeout(()=>{const{stuckState:t}=this.state,n=this.containerRef&&this.containerRef.current.querySelector("[data-test-id='header-animated-box']"),a=n&&n.getBoundingClientRect()||{},o="top"===t&&a.height||0;e({stuckState:t,headerHeight:o})},250)):e({stuckState:t,headerHeight:0})}),Object(o.a)(this,"setWidth",p()(e=>{this.isMounted&&this.setState({width:e})},100))}componentDidMount(){this.isMounted=!0,this.getHeaderComponent()&&window.addEventListener&&(window.addEventListener("scroll",this.stick),window.addEventListener("resize",this.stick),this.stick())}componentWillUnmount(){this.isMounted=!1,window.removeEventListener&&(window.removeEventListener("scroll",this.stick),window.removeEventListener("resize",this.stick),window.clearTimeout(this.repaintTimeout),window.clearTimeout(this.notifyTableTimeout))}getHeaderComponent(){const{children:e}=this.props;return e&&i.a.Children.only(e)?e:null}cloneHeader(){const e=this.getHeaderComponent();if(!e)return null;const{stuckState:t}=this.state;if(!t)return e;const n={className:(e.props.className||"")+" sticky-header",isSticky:!0};return Object(r.cloneElement)(e,n)}sendHeaderIsStickyAnalyticsEvent(){const{createAnalyticsEvent:e}=this.props;e({type:"sendTrackEvent",data:{source:"viewPageScreen",action:"stuck",actionSubject:"contentHeader",attributes:{source:"v2"}}}).fire()}render(){const{stuckState:e,width:t}=this.state;return i.a.createElement(v,{innerRef:this.containerRef},i.a.createElement(b,{onBeforeExplicitScroll:this.ignoreNextScroll}),i.a.createElement(y,{offsetHeight:this.props.offsetHeight,stuckState:e,width:t,"data-test-id":"header-animated-box"},this.cloneHeader()),i.a.createElement(f.a,null,this.setWidth))}}Object(o.a)(I,"defaultProps",{onStickyStateChange:()=>{},closeOpenDialogAndMenu:()=>{},offsetHeight:0}),n.d(t,"NotifyingStickyWrapper",(function(){return T})),n.d(t,"StickyBanner",(function(){return S}));class T extends i.a.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"onStateChange",e=>{const{onStickyStateChange:t,floatingBanners:n}=this.props;n.showFloating("StickyBanner",e.headerHeight),t&&t(e)})}componentWillUnmount(){const{floatingBanners:e}=this.props;e.hideFloating("StickyBanner")}render(){const{bannerState:e,floatingBanners:t,children:n}=this.props,o=e.getTotalHeight()-t.getFloatingHeightBefore("StickyBanner");return i.a.createElement(I,Object(a.a)(Object(a.a)({},this.props),{},{offsetHeight:o,onStickyStateChange:this.onStateChange}),n)}}const S=Object(c.a)()(e=>i.a.createElement(s.c,{to:[l.a,u.a]},(t,n)=>i.a.createElement(T,Object(a.a)(Object(a.a)({},e),{},{bannerState:t,floatingBanners:n}))))},xBue:function(e,t,n){"use strict";var a=n("ERkP"),o=n.n(a),r=n("aWzz"),i=n.n(r),s=n("I9iR"),c=n.n(s),l=n("W47X"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,a;d(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=m(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!p(e)){e.preventDefault();var t=a.context.router.history,n=a.props,o=n.replace,r=n.to;o?t.replace(r):t.push(r)}},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var r=this.context.router.history,i="string"==typeof t?Object(l.b)(t,null,null,r.location):t,s=r.createHref(i);return o.a.createElement("a",u({},a,{onClick:this.handleClick,href:s,ref:n}))},t}(o.a.Component);f.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired},t.a=f},yjkv:function(e,t,n){var a=n("S3pA"),o=n("s+R0");e.exports=function(e,t){return e&&e.length?o(e,a(t,2)):[]}},zLcT:function(e){e.exports=JSON.parse('{"a":"@atlaskit/inline-dialog","b":"13.0.5"}')}}]);
//# sourceMappingURL=page.header.v2~b59ad437.7X8f3Ki8X6.js.map