(window.webpackJsonp=window.webpackJsonp||[]).push([["content-renderer~dc51bad7"],{"/MSF":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n("EfWO"),r=n("ERkP"),s=n.n(r),o=n("L21V");const i="https://support.atlassian.com/contact/#/";function c({showHostname:e}){const t=i;return s.a.createElement("a",{href:t,target:"_blank"},e?Object(a.parse)(t).hostname:s.a.createElement(o.c,{id:"error-boundary.description.support-link",description:"The text of the link which will lead the user to the Atlassian Support web site",defaultMessage:"Atlassian Support"},e=>e))}},"03Pf":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n("daKX");const r=Object(a.a)("scroll-to-element"),s=new Set;function o(e){return s.add(e),()=>s.delete(e)}function i(){s.forEach(e=>{try{e()}catch(t){Promise.all([n.e("monitoring~60420017").then(n.bind(null,"fFmz")),Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("error-boundary~b59ad437")]).then(n.bind(null,"fEZm"))]).then(([{getMonitoringClient:e},{Attribution:n}])=>{e().submitError(t,{attribution:n.CONTENT_EXPERIENCE})}).catch(()=>{})}})}function c(){i(),window.scrollTo(0,0)}function u(e,t){let n=0,a=e.offsetParent;for(;a instanceof HTMLElement;)n+=a.offsetTop,a=a.offsetParent;const s=e.offsetTop+(t||0)+n;i();try{window.scroll({top:s,behavior:"auto"})}catch(o){r.error`window.scroll() is not supported`}}},"0Y+4":function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),s=n("aWzz"),o=n.n(s),i=n("lZoD"),c=n("a0gl"),u=n("ceER"),l=n("Aqh1"),d=n("Czhu"),m=n("cld1"),f=n("daKX"),b=n("BX6b"),p=n("pa2z");n("WSZS"),n("U63R");var h=n("NJGo"),O=n("oayO");const E={script:!0,other:!0,link:!0},g={"query-preloader":!0,"translations.en-US":!0,runtime:!0,atlaskit:!0,afp:!0,static:!0,vendors:!0,app:!0},j=()=>{const e=performance.getEntriesByName("readyForUser.end")[0].startTime,t=(()=>{try{return JSON.parse(O.a.getItem("confluence.cachedAssets"))||{}}catch(e){return{}}})(),n={},a={};let r=0;return performance.getEntriesByType("resource").forEach(({initiatorType:s,responseEnd:o,duration:i,name:c})=>{if(!E[s]||o>e)return;const u=c.split("/").pop(),l=u.split("~").shift();g[l]&&(n[l]=u,a[l]={cached:t[l]===u,duration:i}),r++}),(e=>{try{O.a.setItem("confluence.cachedAssets",JSON.stringify(e))}catch(t){}})(n),{criticalChunks:a,totalChunkCount:r}};var y=n("+tQq");const A=Object(a.memo)(({shard:e,featureFlags:t,fallback:n,fabric:r,customAttributes:s,progressBar:o,isNav2:i,taskName:c})=>(Object(a.useEffect)(()=>{!async function({shard:e=null,featureFlags:t={},fallback:n=!1,fabric:a=!1,customAttributes:r={},progressBar:s=null,isNav2:o=!0,taskName:i=null}){if(Object(f.a)("APDEX"),!y.a.startedTask)return void 0;const{tasks:c,taskId:u}=y.a.startedTask,l=i&&c.indexOf(i)||0,O=c[l];if(O&&!(y.a.stoppedTasks&&y.a.stoppedTasks.indexOf(O)>-1)){if(Object(y.d)({stoppedTasks:[...y.a.stoppedTasks,O]}),window.__MODULE_USAGES){const e=performance.now();window.__MODULE_USAGES_APDEX=window.__MODULE_USAGES.filter(t=>t.t<=e)}try{performance.mark("readyForUser.end"),performance.measure("readyForUser",y.a.transitionId?"readyForUser.start":void 0,"readyForUser.end");const i=performance.getEntriesByName("readyForUser"),c=i.length&&i[i.length-1].duration,l=await Object(m.getAnalyticsWebClient)(),f=Object(d.a)(Object(d.a)({},r),{},{shard:e,transitionId:y.a.transitionId,isNav2:o,fallback:n,fabric:a,buildInfo:Object(p.a)(),deviceInfo:{networkEffectiveType:navigator.connection&&navigator.connection.effectiveType,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory},rfuDuration:c,featureFlags:Object.entries(t).reduce((e,[t,n])=>(n&&(e[t]=n),e),{})});if(f.cfp63Durations=Object(h.a)(),0===y.a.transitionId){const e=window.performance.getEntriesByType("navigation");e.length&&null!=e[0].transferSize&&(f.pageLoadedFromCache=0===e[0].transferSize),f.sw=window.APDEX_ATTRIBUTES_FROM_SW||{},f.ssr=Boolean(document.querySelector("meta[name='cc-frontend-ssr']")),f.ssrDurations=window.__SSR_MEASURES__||{},f.cacheStatus=j(),f.ssrFeatureFlags=window.__SSR_FEATURE_FLAGS__||{}}s&&s.finish(),performance.mark("rfuStopApdexEvent"),l.stopApdexEvent({task:O,taskId:u,type:0===y.a.transitionId?"initialLoad":"transition",additionalAttributes:f},({attributes:{duration:e,type:t,ssr:n}})=>{let a;a=n?"ssr":"initialLoad"===t?"initial":"transition",Object(b.c)().submitPerformanceMetric("apdex",e,["renderFrom:"+a])})}catch(E){0}}}({shard:e,featureFlags:t,fallback:n,fabric:r,customAttributes:s,isNav2:i,progressBar:o,taskName:c})}),null));A.propTypes={shard:o.a.string,featureFlags:o.a.object,fallback:o.a.bool,fabric:o.a.bool,customAttributes:o.a.object,progressBar:o.a.object,isNav2:o.a.bool,taskName:o.a.string},n.d(t,"a",(function(){return k}));const k=Object(a.memo)(({fallback:e,fabric:t,customAttributes:n,taskName:s})=>{const{isNav2:o}=Object(a.useContext)(l.a),{shard:d,featureFlags:m}=Object(c.a)();return r.a.createElement(i.c,{to:[u.a]},a=>r.a.createElement(A,{shard:d,featureFlags:m,fallback:e,fabric:t,isNav2:o,customAttributes:n,progressBar:a,taskName:s}))})},"8J6f":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u}));var a=n("3IV/");const r="global-progress-bar",s=a.B400,o=300,i=6e3,c=2e4,u=o+50},"8ghD":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n("Czhu");function r(e){return e.type.name||e.type}function s(e,t){return{type:r(e),attrs:Object(a.a)(Object(a.a)({},e.attrs),{},{parameters:Object(a.a)(Object(a.a)({},e.attrs.parameters),t)})}}function o(e,t){const n=[];return function e(t,n){for(const a of Object.keys(t)){const r=t[a];n(a,r),null!==r&&"object"==typeof r&&e(t[a],n)}}(e,(e,a)=>{a&&a.type===t&&n.push(a)}),n}},D3Yu:function(e,t,n){"use strict";var a=n("zjfJ"),r=n("lZoD");n.d(t,"a",(function(){return s}));class s extends r.a{constructor(...e){super(...e),Object(a.a)(this,"state",{ready:null,permissions:{}}),Object(a.a)(this,"setReady",e=>{this.setNewState(1,e)}),Object(a.a)(this,"setNoPermission",e=>{this.setNewState(2,e)}),Object(a.a)(this,"setNotFound",e=>{this.setNewState(3,e)}),Object(a.a)(this,"setError",e=>{this.setNewState(4,e)}),Object(a.a)(this,"reset",e=>{this.setNewState(null,e)}),Object(a.a)(this,"setPermissions",e=>{this.state.permissions=this.checkPermissions(e)})}setNewState(e,t){this.setState({ready:e,permissions:this.checkPermissions(t)})}checkPermissions(e){return void 0===e?this.state.permissions:null===e?{}:e}}},KuFb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("7+Q0");const r={[a.b.DEFAULT]:"full-page",[a.b.FULL_WIDTH]:"full-width"},s=e=>{const t=r[e];return t||o()},o=()=>r[a.b.DEFAULT]},Licu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd"),r=n.n(a),s=n("j+hl");const o=r.a`query ContentRendererQuery($contentId:ID$status:[String]){content(id:$contentId status:$status){nodes{id body{atlas_doc_format{value}}space{id key}type ...contentAppearancePublishedFragment}}}${s.b}`},M2LZ:function(e,t,n){"use strict";var a=n("S2j0");var r={require:(e,t)=>new Promise(n=>{Object(a.a)(e,e=>{n(e),t&&t(e)},()=>{0})})},s=n("zjfJ"),o=n("Czhu"),i=n("ERkP"),c=n.n(i);var u=function(e,t){const n=Object(o.a)({isBlocking:!0},t);return t=>{class r extends i.Component{constructor(...e){super(...e),Object(s.a)(this,"state",{dependenciesLoaded:!1}),Object(s.a)(this,"markAsLoaded",()=>{this.mounted&&this.setState({dependenciesLoaded:!0})})}componentDidMount(){this.mounted=!0,e&&e.length>0?Object(a.a)(e,this.markAsLoaded,()=>{0}):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?c.a.createElement(t,Object(o.a)(Object(o.a)({},this.props),{},{wrmDependenciesLoaded:e})):null}}return r.displayName=`WRMComponent(${t.displayName||t.name})`,r}};n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}))},MV18:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ERkP"),r=n("hpu0");function s({name:e,attributes:t}){return Object(a.useEffect)(()=>Object(r.b)().succeed({name:e,attributes:t}),[e,t]),null}},"Oa+u":function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),s=n("dn5O"),o=n("0Y+4"),i=n("+6Tk"),c=n("MV18"),u=n("3VMZ"),l=n("Aqh1"),d=n("RjSO"),m=n("Ua4J"),f=n("+tQq"),b=n("keNr");const p=e=>e.length&&e[e.length-1].duration,h=({startMark:e,endMark:t,measureName:n})=>{let a;if(performance.getEntriesByName(t).length>0){performance.measure(n,e,t);const r=performance.getEntriesByName(n);a=p(r)}return a>0?Math.round(a):void 0},O=Object(a.memo)(({contentId:e,fabric:t,isNextRendered:n})=>{const{createAnalyticsEvent:r}=Object(d.a)(),{match:s}=Object(a.useContext)(m.a),o=Object(i.a)(b.a);return Object(a.useEffect)(()=>{const a=setTimeout(()=>{const a=Object(f.c)()?void 0:"readyForUser.start",i=performance.getEntriesByName("readyForUser"),c=p(i);let u,l;t&&(u=h({startMark:a,endMark:"Renderer Render Time::end",measureName:"rendererRendered"})),o&&(l=h({startMark:a,endMark:"browser-metric.end",measureName:"browserMetric"}));const d=h({startMark:a,endMark:"rfuStopApdexEvent",measureName:"rfuStopApdexEventMeasure"});r({type:"sendOperationalEvent",data:{action:"rendered",actionSubject:"viewContent",source:"viewContent",attributes:{loadType:Object(f.c)()?"Initial":"Transition",contentId:e,fabric:t,isNextRendered:n,rfuDuration:c,akRenderDuration:u,bmDuration:l,reportedRFUDuration:d,route:s&&s.name}}}).fire()},1500);return()=>{clearTimeout(a)}}),null});n.d(t,"a",(function(){return E}));const E=({fabric:e,contentId:t,isNextRendered:n})=>{const{isNav2:d}=Object(a.useContext)(l.a),m=Object(i.a)("confluence.frontend.omit-cleaning-up-renderer-rendered-end-mark");return r.a.createElement(a.Fragment,null,r.a.createElement(o.a,{fabric:e,customAttributes:{contentId:t,isNextRendered:n}}),t?r.a.createElement(s.a,{customData:{contentId:t,fabric:e,isNav2:d,isNextRendered:n}}):null,m&&r.a.createElement(O,{contentId:t,fabric:e,isNextRendered:n}),r.a.createElement(c.a,{name:u.a.VIEW_CONTENT,attributes:{isNextRendered:n}}),r.a.createElement(c.a,{name:u.a.VIEW_PAGE_RENDERER,attributes:{isNextRendered:n}}))}},"Q//X":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return A})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return L})),n.d(t,"d",(function(){return N}));var a=n("HbGN"),r=n("Czhu"),s=n("lSUb"),o=n("3VMZ"),i=n("A79P"),c=n("hpu0"),u=n("9btq"),l=n("bw/P"),d=n("cld1"),m=n("iB1A");const f="renderer",b="editor",p="confluence.frontend.macro.analytics.tracker",h="taskSuccess",O="taskFail",E="taskAbort",g="taskStart",j=e=>e.split(".").slice(1).join("."),y=(e=new Map)=>{const t=[];for(const n of e.values()){const{name:e}=n;if(e!==o.a.VIEW_ALL_MACRO){const a=Object(r.a)({uniqueHash:j(e)},k(n));t.push(a)}}return t},A=e=>{var t,n,a;return{type:(null!=(a=e)?a.type:a)||"",macroId:Object(m.c)(null!=(n=e)?n.parameters:n),extensionKey:Object(m.b)(e),extensionType:(null!=(t=e)?t.extensionType:t)||""}},k=e=>{var t,n,a,r,s,o,i;return{extensionKey:Object(m.b)(null!=(i=e)?i.experienceAttributes:i),extensionType:(null!=(o=e)&&null!=(o=o.experienceAttributes)?o.extensionType:o)||"",type:(null!=(s=e)&&null!=(s=s.experienceAttributes)?s.type:s)||"",macroId:(null!=(r=e)&&null!=(r=r.experienceAttributes)?r.macroId:r)||"",duration:(null!=(a=e)?a.duration:a)||"",status:(null!=(n=e)?n.status:n)||"",pageId:(null!=(t=e)?t.pageId:t)||""}},v=(e,t)=>{C(e,t).has(t)||L(e,t).start({attributes:{mode:e},name:o.a.VIEW_ALL_MACRO,timeout:i.a.MACRO_LOAD,id:t})},T=(e,t)=>{const n=C(e,t);if(n.has(t)){if(R(n)){const t={mode:e,macros:null};I(n)&&(t.macros=y(n)),Object(c.b)().succeed({name:o.a.VIEW_ALL_MACRO,attributes:Object(r.a)({},t)})}else Object(c.b)().abort({name:o.a.VIEW_ALL_MACRO,reason:`Some macro aborted before completion in ${i.a.MACRO_LOAD}ms`,attributes:{macros:y(n),mode:e}});_(n).forEach(t=>{const n=Object(m.b)(t.experienceAttributes),a=t.status;Object(d.getAnalyticsWebClient)().then(s=>{s.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:a,attributes:Object(r.a)(Object(r.a)({},t.experienceAttributes),{},{extensionKey:n,mode:e,task:""+o.a.VIEW_JIRA_MACRO})})})}),n.clear(),M.set(`${e}.${t}`,n)}},R=(e=new Map)=>{if(0===e.size)return!0;for(const t of e.values())if(t.name!==o.a.VIEW_ALL_MACRO&&t.status!==h)return!1;return!0},I=(e=new Map)=>{for(const t of e.values())if(t.name!==o.a.VIEW_ALL_MACRO)return!0;return!1},w=e=>e.includes(m.a),_=e=>{const t=[];for(const n of e.values())w(n.name)&&t.push(n);return t},S=(e,t)=>{!function n(){setTimeout(()=>{const a=C(t,e);if(!a.has(e))return;const s=a.get(e),u=Math.round(window.performance.now()-s.startTime)>i.a.MACRO_LOAD;if(R(a)&&I(a))Object(c.b)().succeed({name:o.a.VIEW_ALL_MACRO,attributes:{macros:y(a),mode:t}});else if(u){if(I(a)){Object(c.b)().abort({name:o.a.VIEW_ALL_MACRO,reason:`Some macro aborted before completion in ${i.a.MACRO_LOAD}ms`,attributes:{macros:y(a),mode:t}});(e=>{const t=[];for(const n of e.values())w(n.name)&&n.status!==h&&t.push(n);return t})(a).forEach(e=>{const n=Object(m.b)(e.experienceAttributes);Object(d.getAnalyticsWebClient)().then(a=>{a.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskAbort",attributes:Object(r.a)(Object(r.a)({},e.experienceAttributes),{},{extensionKey:n,mode:t,task:""+o.a.VIEW_JIRA_MACRO,reason:`JIRA macro aborted before completion in ${i.a.MACRO_LOAD}ms`})})})})}else Object(c.b)().succeed({name:o.a.VIEW_ALL_MACRO,attributes:{mode:t}});a.clear(),M.set(`${t}.${e}`,a)}else n()},2e3)}()},M=new Map,C=(e,t)=>(M.has(`${e}.${t}`)||M.set(`${e}.${t}`,new Map),M.get(`${e}.${t}`)),x=(e,t,n,a)=>{var s;const c=C(e,t),l=null!=(s=a)?s.macroId:s;if(c.has(l)&&w(n)){const t=Object(m.b)(a),{status:n}=c.get(l);if(n===h){const{duration:n}=c.get(l);Object(d.getAnalyticsWebClient)().then(s=>{s.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskSuccess",attributes:Object(r.a)(Object(r.a)({},a),{},{extensionKey:t,mode:e,duration:n,task:""+o.a.VIEW_JIRA_MACRO})})})}else if(n===E){const{duration:n}=c.get(l);Object(d.getAnalyticsWebClient)().then(s=>{s.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskAbort",attributes:Object(r.a)(Object(r.a)({},a),{},{extensionKey:t,mode:e,duration:n,task:""+o.a.VIEW_JIRA_MACRO,reason:`JIRA macro aborted before completion in ${i.a.MACRO_LOAD}ms`})})})}else if(n===O){const{duration:n}=c.get(l);Object(d.getAnalyticsWebClient)().then(s=>{s.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskFail",attributes:Object(r.a)(Object(r.a)({},a),{},{extensionKey:t,mode:e,duration:n,task:""+o.a.VIEW_JIRA_MACRO,error:new u.a(`JIRA macro failed to complete in ${i.a.MACRO_LOAD}ms`)})})})}}},L=Object(s.a)((e,t)=>{const n=new l.a,s=C(e,t);return n.subscribe(n=>{var u;const{action:l,name:f,attributes:b}=n,p=Object(a.a)(n,["action","name","attributes"]),j=null!=(u=b)?u.macroId:u;if(l===g){const n=s.get(j);if(n&&n.id===j)return;f===o.a.VIEW_ALL_MACRO?s.has(t)||(s.clear(),Object(c.b)().start({name:o.a.VIEW_ALL_MACRO,timeout:i.a.MACRO_LOAD,id:t,attributes:{mode:e}}),s.set(t,Object(r.a)({status:g,name:f,mode:e},p)),M.set(`${e}.${t}`,s)):(s.set(j,Object(r.a)({status:g,name:f,experienceAttributes:Object(r.a)(Object(r.a)({},b),{},{extensionKey:Object(m.b)(b)}),pageId:t,mode:e},p)),((e,t,n,a)=>{if(w(n)){const n=Object(m.b)(a);Object(d.getAnalyticsWebClient)().then(s=>{s.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskStart",attributes:Object(r.a)(Object(r.a)({},a),{},{extensionKey:n,mode:e,pageId:t,task:""+o.a.VIEW_JIRA_MACRO})})})}})(e,t,f,b))}else if(l===h){if(!s.has(j))return;const{duration:a,name:o}=n;s.set(j,Object(r.a)(Object(r.a)({},s.get(j)),{},{id:j,name:o,mode:e,status:h,duration:a,pageId:t})),M.set(`${e}.${t}`,s),x(e,t,o,b)}else if(l===E){if(!s.has(j))return;const{duration:a,reason:i,name:u}=n;s.set(j,Object(r.a)(Object(r.a)({},s.get(j)),{},{id:j,name:u,mode:e,status:E,duration:a,pageId:t,reason:i})),M.set(`${e}.${t}`,s),Object(c.b)().abort({name:o.a.VIEW_ALL_MACRO,reason:"Macro abort loading",attributes:{macros:y(s),mode:e}}),x(e,t,u,b)}else if(l==O){if(!s.has(j))return;const{duration:a,error:i,name:u}=n;s.set(j,Object(r.a)(Object(r.a)({},s.get(j)),{},{id:j,name:u,mode:e,status:O,duration:a,pageId:t,error:i})),M.set(`${e}.${t}`,s),Object(c.b)().fail({name:o.a.VIEW_ALL_MACRO,error:i,attributes:{macros:y(s),mode:e}}),x(e,t,u,b)}S(t,e)}),n}),N=(e,t)=>{const n=A(t);return`${e}.${Object(m.b)(n)}.${n.macroId}`}},U7xr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("RfuI");const r=Object(a.a)({id:"YJqem",name:"DeepLinkHandler",loader:async()=>(await n.e("deep-link-handler~8b1a6a8a").then(n.bind(null,"p4JA"))).DeepLinkHandler})},YVdS:function(e,t,n){"use strict";n.r(t);var a=n("1U1M"),r=n("ERkP"),s=n.n(r),o=n("lZoD"),i=n("FdGg"),c=n("X2PC"),u=n("qhEF"),l=n("D3Yu"),d=n("cGYM"),m=n("H5qd"),f=n.n(m),b=n("j+hl");const p=f.a`query ContentRendererExternalQuery($contentId:ID!$externalToken:String!){sharedContent(contentId:$contentId shareToken:$externalToken){content{id body{atlas_doc_format{value}}type ...contentAppearancePublishedFragment}}}${b.b}`;var h=n("Licu"),O=n("adTp"),E=n("zjfJ"),g=n("L21V"),j=n("KsTJ"),y=n("u6In"),A=n("M2LZ"),k=n("KuFb"),v=n("U7xr"),T=n("/MSF"),R=n("Q//X"),I=n("KIs4"),w=n("U63R"),_=n("aiom"),S=n("Oa+u"),M=n("8ghD"),C=n("RfuI"),x=Object(C.a)({id:"LJYVE",name:"packages/confluence-fabric-editor/src/components/MediaViewer/index.ts",loader:()=>n.e("fabric.media.viewer~dc51bad7").then(n.bind(null,"LFDX"))}),L=n("JpXc");const N=["wr!com.atlassian.confluence.plugins.confluence-jira-content:confluence-jira-content-loader","wr!com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources","wr!confluence.web.resources:view-content","wr!com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles"],D=j.default.div`
  padding-bottom: 10px;
`,F=j.default.pre`
  white-space: normal;
  border: 1px solid #dddddd;
  padding-left: 10px;
  margin-top: 0;
  width: 300px;
  height: 48px;
  overflow-y: scroll;
`,W={margin:"auto"},P=e=>Object(M.a)(e,"media").map(({attrs:e})=>({align:"center",id:e.id,mediaItemType:e.type,collectionName:e.collection})),$=(e,t,n)=>()=>{const a=t&&"#"===t[0]&&t.length>1?t.slice(1):null;return s.a.createElement(r.Fragment,null,s.a.createElement(S.a,{contentId:e,isNextRendered:!1,fabric:!0}),n&&a?s.a.createElement(v.a,{scrollTargetId:a,refOfNodeToWatchForChange:n}):null)},U=Object(y.a)()(Object(g.h)(class extends r.PureComponent{constructor(...e){super(...e),Object(E.a)(this,"refOfNodeToWatchForChange",s.a.createRef())}componentDidMount(){const{contentId:e}=this.props;if(this.props.adfError){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"error",actionSubject:"adf.parsing.error",source:"contentRendererComponent",attributes:{errorMessage:this.props.adfError}}}).fire();!1?this.props.flags.showErrorFlag(this._getStagingErrorText(this.props.adfError)):this.props.flags.showErrorFlag(this._getProductionErrorText())}setTimeout(()=>{A.a.require(N),this.props.contentStateSetReady()},0),Object(R.g)(R.c,e)}componentWillUnmount(){const{contentId:e}=this.props;Object(R.i)(R.c,e)}_getProductionErrorText(){return{title:this.props.intl.formatMessage({id:"adf.translation.error.in.render.title.prod",defaultMessage:"Error displaying content"}),description:s.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.intl.formatMessage({id:"adf.translation.error.in.render.description.prod",defaultMessage:'Refresh the page and try again. If the problem persists, contact <a target="_blank" href="{link}">Atlassian Support</a>.'},{link:T.a})}})}}_getStagingErrorText(e){return{title:this.props.intl.formatMessage({id:"adf.translation.error.in.render.title.staging",defaultMessage:"Error displaying content"}),description:s.a.createElement(r.Fragment,null,s.a.createElement(D,{dangerouslySetInnerHTML:{__html:this.props.intl.formatMessage({id:"adf.translation.error.in.render.description.staging",defaultMessage:'An ADF error is preventing your content from being displayed. Discuss further in the <a target="_blank" href="{link}">#cc-content-experience</a> Slack channel.'},{link:"https://atlassian.slack.com/messages/CFGRZK3MF"})}}),s.a.createElement(g.c,{id:"editor.adf.parsing.error.details"}),s.a.createElement(F,null,e))}}renderMediaViewer(){const{adf:e,contentId:t}=this.props;return t&&e?s.a.createElement(x,{parentId:t,media:P(e)}):null}render(){window.performance.mark("CFP-63.view.page.classic.contentrenderer.rendered");const{adf:e,contentId:t,contentType:n,spaceKey:a,appearance:r,scrollTo:o}=this.props;return t&&e?s.a.createElement(I.a,null,({featureFlags:i})=>{const c=!i["confluence.frontend.fabric.editor.disable.dynamic-text-resizing"],u=Object(k.a)(r);return s.a.createElement("div",{id:"content",className:"page view",ref:this.refOfNodeToWatchForChange},s.a.createElement(_.a,{anchorContainer:this.refOfNodeToWatchForChange}),s.a.createElement(L.a,{priority:w.a.IMMEDIATE,id:"main-content",allowInlineComments:!0,allowHighlightActions:!0,className:i["confluence.frontend.remove-wiki-content"]?"":"wiki-content",allowDynamicTextSizing:c,appearance:u,style:W,adf:e,objectId:t,contentType:n,spaceKey:a,renderWhenReady:$(t,o,this.refOfNodeToWatchForChange)}),this.renderMediaViewer())}):null}})),V=s.a.memo(e=>{var t,n,r,m,f;const{contentId:b,scrollTo:E,data:g,externalToken:j}=e,y=Object(a.d)(j?p:h.a,{skip:!!g,context:{single:!0,contentId:b,allowOnExternalPage:!0},variables:{contentId:b,externalToken:j},fetchPolicy:"cache-and-network"});if(y.error)throw y.error;const A=g||y.data,k=g||!j?null!=(f=A)&&null!=(f=f.content)&&null!=(f=f.nodes)?f[0]:f:null!=(m=A)&&null!=(m=m.sharedContent)?m.content:m;if(!k)return null;const v=g?null!=(r=k)&&null!=(r=r.body)&&null!=(r=r.dynamic)?r.value:r:null!=(n=k)&&null!=(n=n.body)&&null!=(n=n.atlas_doc_format)?n.value:n,{adf:T,adfError:R}=(e=>{try{return{adf:JSON.parse(e)}}catch(t){return console.error("Invalid adf document",t),{adfError:Object(d.a)(t.stack).toString()}}})(v),I=null!=(t=k)&&null!=(t=t.space)?t.key:t,w=k.type,_=Object(O.d)(k).appearance;return s.a.createElement(i.a,{attribution:c.a.CONTENT_EXPERIENCE},s.a.createElement(o.c,{to:[u.a,l.a]},(e,{setReady:t})=>s.a.createElement(U,{flags:e,adf:T,adfError:R,scrollTo:E,contentId:b,contentType:w,spaceKey:I,contentStateSetReady:t,appearance:_})))});t.default=V},aiom:function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),s=n("lZoD"),o=n("WWAs"),i=n("Ua4J");var c=n("03Pf");const u=({anchorContainer:e,scrollCorrectionPixels:t})=>{const{setHash:n}=Object(a.useContext)(i.a),r=Object(a.useCallback)(a=>{if(!e.current)return;if(a.defaultPrevented)return;const r=function(e,t=document){if(!e)return null;if(0!==e.button)return null;if("click"!==e.type)return null;if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return null;const{target:n}=e,a=n?n.closest:null,r=a?a.call(n,"A"):null,s=r||n;if(!(s instanceof HTMLAnchorElement))return null;if(s.target&&"_self"!==s.target)return null;if(!s.hash)return null;const o=s.ownerDocument;if(!o||o!==document)return null;if(!(o.location.origin+o.location.pathname===s.origin+s.pathname))return null;const i=decodeURI(s.hash.substr(1)),c=document.getElementById(i);return null==c?null:t.contains(c)?{anchorElement:c,hash:i}:null}(a,e.current);if(r){const{anchorElement:e,hash:s}=r;a.preventDefault(),Object(c.b)(e,t),n(s)}},[e,t,n]);Object(a.useEffect)(()=>(window.addEventListener("click",r),()=>{window.removeEventListener("click",r)}),[r])};n.d(t,"a",(function(){return d}));const l=({anchorContainer:e,topOffset:t})=>(u({anchorContainer:e,scrollCorrectionPixels:-t}),null),d=({anchorContainer:e})=>r.a.createElement(s.c,{to:[o.a]},t=>r.a.createElement(l,{anchorContainer:e,topOffset:t.getTotalHeight()}));d.displayName="ScrollToHashLinkHandler"},ceER:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("zjfJ"),r=n("lZoD"),s=n("8J6f");class o extends r.a{constructor(e){super(),Object(a.a)(this,"exitAnimationTimer",void 0),Object(a.a)(this,"delayedAnimationTimer",void 0),Object(a.a)(this,"timeoutTimer",void 0),Object(a.a)(this,"recentlyReset",!1),Object(a.a)(this,"isRunning",()=>"START"===this.state.status),Object(a.a)(this,"isDelayed",()=>"DELAYED"===this.state.status),Object(a.a)(this,"isStartable",()=>"RESET"===this.state.status||"SSR"===this.state.status||this.recentlyReset),Object(a.a)(this,"getStatus",()=>this.state.status),Object(a.a)(this,"getDuration",()=>this.state.duration||s.b),Object(a.a)(this,"start",(e=s.b,t=s.f)=>{this.isStartable()&&(this.recentlyReset=!1,this.delayedAnimationTimer=setTimeout(()=>{this.isRunning()&&this.setState({status:"DELAYED"})},e),this.timeoutTimer=setTimeout(()=>{this.isDelayed()&&this.reset()},t),this.setState({status:"START",duration:e}))}),Object(a.a)(this,"finish",()=>{(this.isRunning()||this.isDelayed())&&(this.isDelayed()?this.reset():this.setState({status:"FINISH"}),this.exitAnimationTimer=setTimeout(()=>{this.reset()},s.d))}),Object(a.a)(this,"reset",()=>{clearTimeout(this.exitAnimationTimer),clearTimeout(this.delayedAnimationTimer),clearTimeout(this.timeoutTimer),this.setState({status:"RESET"}),this.recentlyReset=!0}),this.state={status:e?e.status:window.__SSR_RENDERED__?"SSR":"RESET",duration:e&&e.duration||s.b}}}},dn5O:function(e,t,n){"use strict";var a=n("ERkP"),r=n("Ua4J"),s=n("+6Tk"),o=n("keNr"),i=n("daKX"),c=n("rUEv");const u=Object(i.a)("browser-metrics");n.d(t,"a",(function(){return l}));const l=Object(a.memo)(({customData:e,stopTime:t})=>{const{match:n}=Object(a.useContext)(r.a),i=(e=>{const t=Object(a.useContext)(c.a);if(!e)return u.error`metricKey is falthy.`,null;const n=t[e];return n||(u.error`${e} has not been configured`,null)})(n&&n.name),l=Object(s.a)(o.a);return Object(a.useEffect)(()=>{l&&i&&(performance.mark("browser-metric.end"),i.stop({customData:e,stopTime:t}))},[]),null})},iB1A:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n("Z9L/"),r=n("IC1n"),s=n.n(r);const o="jira",i=e=>{var t;if(!e)return s()();const n=null!=(t=e)&&null!=(t=t.macroMetadata)&&null!=(t=t.macroId)?t.value:t;return n||Object(a.a)(e)},c=e=>{var t;if(!e)return"";const{extensionKey:n}=e,a=null!=(t=e)&&null!=(t=t.parameters)?t.macroParams:t;return n===o?`${n}${u(a)}`:n},u=e=>{var t,n,a,r;return"true"===(null!=(r=e)&&null!=(r=r.count)?r.value:r)?"-issue-count":(null!=(a=e)?a.columns:a)&&(null!=(n=e)?n.maximumIssues:n)?"-table-view":(null!=(t=e)&&null!=(t=t.key)?t.value:t)?"-single-issue":""}}}]);
//# sourceMappingURL=content-renderer~dc51bad7.29CBfHczGt.js.map