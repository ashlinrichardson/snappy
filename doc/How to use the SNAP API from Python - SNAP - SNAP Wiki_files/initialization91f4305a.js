(window.webpackJsonp=window.webpackJsonp||[]).push([["initialization~91f4305a","fallback-mode-top-frame~91f4305a"],{"+xrG":function(e,n,t){"use strict";t.r(n);var o=t("HGgJ"),a=t("Jygk"),i=t.n(a);const r=(e,n)=>{if(!e)return;const t=new window.MutationObserver(n);return t.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),t};function d(e,n,t){let o;return function(){const a=this,i=arguments,r=function(){o=null,t||e.apply(a,i)},d=t&&!o;clearTimeout(o),o=setTimeout(r,n),d&&e.apply(a,i)}}var c=(e,n)=>{const t=d(n,50),o=e.querySelectorAll("img");[].forEach.call(o,e=>{"true"!==e.dataset.fallbackImgLoadedListener&&(e.addEventListener("load",t),e.dataset.fallbackImgLoadedListener="true")})},l=(e,n,t)=>{let a,i=!1;document.addEventListener("click",e=>{e.srcElement&&"A"===e.srcElement.tagName&&(i=!0,a=e.srcElement.href,Object(o.a)(a,t,t=>{n(t),e.preventDefault(),i=!1}))}),window.addEventListener("beforeunload",()=>{i&&(i=!1,e(a))})},s=e=>{const n=d(e,50);window.addEventListener("resize",n)},u=t("Czhu"),f=t("jqY8");const p=e=>{const n=(e=>n=>{const t=Object(f.f)();let o=t.origin;o||(o=`${t.protocol}//${t.hostname}${t.port?":"+t.port:""}`),Object(f.c)().parent.postMessage(Object(u.a)(Object(u.a)({},n),{},{bridgeId:e}),o)})(e);return{onIframeLoaded:e=>{n((e=>({type:"iframeDOMContentLoaded",location:e}))(e))},pushLocationToParent:e=>{n((e=>({type:"postNextIframeLocation",nextLocation:e}))(e))},updateLocationToParent:e=>{n((e=>({type:"postUpdateIframeLocation",nextLocation:e}))(e))},updateIframeSize:()=>{n((()=>{const e=i.a.document.body.getBoundingClientRect();return{type:"postIframeSize",width:e.width,height:e.height}})())},updateIframeAnchor:e=>{n((e=>({type:"postUpdateIframeAnchor",anchor:e}))(e))}}};var g=t("z6J1"),m=t("frZf");function w(e){i.a.top.location=e}function b(e){!function(e){if(!e.key||"e"!==e.key.toLowerCase()||(n=e.target,-1!==["INPUT","TEXTAREA","BUTTON","SELECT"].indexOf(n.tagName)))return;var n;const{contentType:t,pageId:o}=Object(g.a)(i.a,document);m.a&&o&&t&&("page"===t?w(`${m.a}/pages/editpage.action?pageId=${o}`):"blogpost"===t&&w(`${m.a}/pages/editblogpost.action?pageId=${o}`))}(e)}t.d(n,"start",(function(){return y}));const y=(e,n)=>{const a=t=>{e.top.location=t,n.write("<style>body { display:none!important }</style>\x3c!--")},{isFallbackModeIframe:i,isIframeAllowed:d,isViewPageContentOnly:u,isWhitelisted:f,bridgeId:m,isSpaceOverview:w,isOverflowAllowed:y}=Object(g.a)(e,n),{onIframeLoaded:h}=p(m),v=f||d;if(i){if(u){const e=n.createElement("base");e.target="_top",n.getElementsByTagName("head")[0].appendChild(e)}v||a(e.location.href),d&&!f&&(n.addEventListener("DOMContentLoaded",()=>{t("HEvi"),t("6t7U"),t("04PE"),w&&n.querySelector("body").classList.add("space-overview"),y&&n.querySelector("html").classList.add("allow-overflow"),((e,n,t)=>{const{pushLocationToParent:o,updateIframeSize:a,updateIframeAnchor:i}=p(e),d=t.location.href;l(o,i,d),r(n.body,()=>{a(),c(n.body,a)}),s(a),c(n.body,a),a()})(m,n,e),h(e.location.href),n.querySelector("body").classList.add("dom-is-ready")}),n.addEventListener("keydown",b),e.addEventListener("load",()=>{Object(o.a)(e.location.href,e.location.href),n.querySelector("body").classList.add("document-has-loaded")}))}else if(u){const n=e.location.href,t=n.split("#")[1];let o=n.replace("/content-only/","/pages/").replace(/&iframeId=(.*)$/,"").replace(/#(.*)$/,"");o+=t?"#"+t:"",a(o)}}},"04PE":function(e,n,t){var o=t("8cg5");"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,a);o.locals&&(e.exports=o.locals)},"6t7U":function(e,n,t){var o=t("GQu/");"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,a);o.locals&&(e.exports=o.locals)},"8cg5":function(e,n,t){(e.exports=t("PBB4")(!1)).push([e.i,"body.cq-body {\n    overflow-y: visible;\n    background: #fff;\n    height: auto !important;\n    min-height: 500px;\n}\n\nbody.cq-body .aui-page-panel {\n    border-bottom: 0;\n}\n\nbody.cq-body .cq-page-header .aui-page-header-inner,\nbody.cq-body .cq-page-main .aui-page-panel-inner {\n    max-width: 1000px;\n    width: 100%;\n}\n\nbody.cq-body .cq-page-main .aui-page-panel-inner.cq-inner-no-fixed-width {\n    max-width: 100%;\n}\n\nbody.cq-body .onboarding {\n    position: relative;\n    padding-top: 110px;\n    width: 100%;\n}\n\nbody.cq-body .onboarding h1 {\n    text-transform: uppercase;\n    color: #707070;\n    font-size: 12px;\n    font-weight: bold;\n}\n\nbody.cq-body .onboarding .ask-question-image-container {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    margin-left: -60px;\n}\n\nbody.cq-body .onboarding .aui {\n    margin-top: 20px;\n}\n\n\nbody.cq-body #full-height-container {\n    height: auto;\n    background-color: #fff;\n}\n\n",""])},"GQu/":function(e,n,t){(e.exports=t("PBB4")(!1)).push([e.i,"body.confluence-inline-tasks {\n    padding-top: 10px;\n}\n\nbody.page-gadget.confluence-inline-tasks #main {\n    width: 100%;\n    padding-left: 10px;\n}\n",""])},HEvi:function(e,n,t){var o=t("L9TW");"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,a);o.locals&&(e.exports=o.locals)},HGgJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var o=t("Jygk"),a=t.n(o);function i(e,n,t){const[o]=n.split("#"),[i,r]=e.split("#");r&&i===o&&((e,n)=>{let t=e;0===e.indexOf("#")&&(t=e.substring(1));let o=a.a.document.getElementById(t);o||(o=a.a.document.querySelector(`[name="${t}"]`)),(e=>{if(!e)return;const n=e.style.display;e.style.display="inline-block",e.scrollIntoView(),e.style.display=n})(o),n&&n()})(r,t)}},L9TW:function(e,n,t){(e.exports=t("PBB4")(!1)).push([e.i,"html, body.page-gadget {\n    height: auto;\n    overflow: hidden;\n}\n\n.allow-overflow {\n    overflow: auto;\n}\n\n.allow-overflow body {\n    background-color: #fff;\n}\n\n.allow-overflow .aui-page-panel,\n.allow-overflow .ap-container iframe {\n    border: 0;\n}\n\nbody.page-gadget {\n    background: #fff;\n    opacity: 1;\n\n    /* We need a padding so the inline comments tooltip has some room to appear in the first line within fallback mode */\n    padding-top: 60px;\n}\n\nbody.page-gadget #page {\n    position: relative;\n}\n\nbody.page-gadget #main {\n    padding: 0;\n    position: static;\n\n    /* bring padding around iframe into content inside iframe so that inline-comment panel shows pretty */\n    width: calc(100% - 110px); /* 110px = (35px + 20px) * 2 */\n    margin: 0 auto;\n}\n\n/* custome style for fallback mode content in SpaceOverView */\nbody.page-gadget.space-overview #main {\n    width: calc(100% - 40px); /* 40px = 20px * 2 */\n}\n\nbody.page-gadget #main.aui-page-panel {\n    border-bottom: 0;\n}\n\nbody.page-gadget #page,\nbody.page-gadget #full-height-container {\n    height: auto;\n}\nbody.theme-default #full-height-container {\n    background-color: #fff;\n}\n\n",""])},jqY8:function(e,n,t){"use strict";function o(){return"undefined"!=typeof window?window.location:void 0}function a(){if("undefined"==typeof window||!window.location)return;let e=window.location.origin;return e||(e=`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`),e}function i(){"undefined"!=typeof window&&window.location.reload()}function r(e){return"undefined"==typeof window||window.confirm(e)}function d(...e){"undefined"!=typeof window&&window.addEventListener.apply(window,e)}function c(...e){"undefined"!=typeof window&&window.removeEventListener.apply(window,e)}function l(){return"undefined"==typeof window?0:window.pageYOffset}function s(){return"undefined"==typeof window?0:window.innerHeight}function u(...e){if(window&&window.require)return window.require.apply(window,e)}function f(){return window}t.d(n,"f",(function(){return o})),t.d(n,"g",(function(){return a})),t.d(n,"i",(function(){return i})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return d})),t.d(n,"j",(function(){return c})),t.d(n,"h",(function(){return l})),t.d(n,"e",(function(){return s})),t.d(n,"d",(function(){return u})),t.d(n,"c",(function(){return f}))},ogbR:function(e,n,t){"use strict";t.r(n);var o=t("axEa"),a=t("U63R"),i=t("8TdO"),r=t("pa2z"),d=t("hpu0"),c=t("BX6b"),l=t("cld1"),s=t("EfWO"),u=t.n(s),f=t("fYnN"),p=t.n(f),g=t("Jygk"),m=t.n(g);function w(e,n){const t=p.a.get(e);return"off"===n||"useFrontendBuildVersion"===e&&!n?p.a.remove(e):n&&p.a.set(e,n),p.a.get(e)!==t}var b=t("+xrG");const y=/(https?):\/\/[a-z0-9]+\.cloudfront\.net\//g,h=/(https?):\/\/[a-z0-9]+\.cloudfront\.net\/download\//g,v=/s\/[^_]+_\/download\//g;function O(e){return e.match(v)?e.replace(v,"download/").replace(y,"$1://"):e}const E=function(e){let n=!1,t=!1;return e.culprit&&(n=n||e.culprit.match(v),t=t||e.culprit.match(h),e.culprit=O(e.culprit)),e.exception&&e.exception.values&&(e.exception.values=e.exception.values.map(e=>(e.stacktrace&&e.stacktrace.frames&&(e.stacktrace.frames=e.stacktrace.frames.map(e=>(e.filename&&(n=n||e.filename.match(v),t=t||e.filename.match(h),e.filename=O(e.filename)),e))),e))),e.logger=n?"wrm":t?"react":"javascript",e.request&&delete e.request.url,delete e.breadcrumbs,e.transaction="",e};t.d(n,"initialization",(function(){return L}));const I=Object(o.a)();function L(e){const{featureFlags:n,cloudId:o,environment:s}=e;n["confluence.frontend.cookie.based.branch.deployment"]&&function(){const e=u.a.parse(m.a.location.href,!0);let n=null,t=null;if(e.query&&(e.query.useFrontendBranch||e.query.useFrontendBuildVersion)){n=e.query.useFrontendBranch,t=e.query.useFrontendBuildVersion;const o=w("useFrontendBranch",n),a=w("useFrontendBuildVersion",t);(o||a)&&m.a.location.assign(u.a.format({pathname:e.pathname,query:e.query,hash:e.hash}))}}(),Object(i.enableGraphqlRetries)(),n["confluence.frontend.experience-tracker.improved-aborting"]&&Object(d.b)().enableImprovedAborting(),Object(b.start)(window,window.document),n["confluence.frontend.sentry.logging.enabled"]&&(()=>{let e,n;e="https://1f56d81aaaae4b1ea5ca08bca6633223@jira-sentry.services.atlassian.com/10",n="CONFLUENCE",t.e("sentry~4d81cd0b").then(t.t.bind(null,"3msI",7)).then(t=>{t.default.config(e,{release:Object(r.a)().FRONTEND_VERSION,environment:n,dataCallback:E,ignoreErrors:["Transport destroyed","Worker was destroyed","Failed to connect on any of the ADC ports","Cannot read property 'postMessage' of undefined","Cannot read property 'postMessage' of null","d.hide is not a function",/^network error/i,/^network failure/i,"TypeError: Failed to fetch","ResizeObserver loop limit exceeded",/Loading chunk (.+?) failed/]}).install()})})(),n["confluence.frontend.new-sentry-client"]&&Object(c.a)(),n["confluence.frontend.sentry-sla-failures"]&&Object(c.b)(),Object(c.c)().updateContext({releaseId:"localhost"===window.location.hostname?void 0:Object(r.a)().FRONTEND_VERSION,tenantId:o,environment:"localhost"===window.location.hostname?"DEVELOPMENT":s}),Object(l.initializeAnalyticsClient)({cloudId:e.cloudId,userId:e.userIdForAnalytics,locale:e.locale,environment:e.environment,featureFlagClient:e.featureFlagClient}),I.push({name:"BackgroundInitialization",task:()=>{window.__CONFLUENCE_SUPPORT=()=>{const e={version:Object(r.a)().FRONTEND_VERSION,tinymce:window.tinymce?`${window.tinymce.majorVersion}.${window.tinymce.minorVersion}`:void 0,activeEditor:!(!window.tinymce||!window.tinymce.activeEditor)||void 0};return JSON.stringify(e)},Promise.all([t.e("web-vitals~2dcfd565").then(t.bind(null,"7t6h")),t.e("web-vitals~2dcfd565").then(t.t.bind(null,"ELgO",7))]).then(([{getTTFB:e,getFCP:n,getLCP:t,getCLS:o},a])=>{const i=Object(c.c)(),r=({name:e,value:n})=>{i.submitPerformanceMetric(e.toLowerCase(),n)};e(r),n(r),t(r),o(r),a.getFirstConsistentlyInteractive().then(e=>{i.submitPerformanceMetric("tti",e)})}).catch(e=>Object(c.c)().submitError(e,{attribution:"unknown"})),t.e("service-worker-client~493df0b3").then(t.bind(null,"QPsM")).then(({register:e})=>{e()}),t.e("legacy-components~21833f8f").then(t.bind(null,"KkmZ")).then(({initializeLegacyMessageQueue:e})=>{e()}),t.e("legacy-components~21833f8f").then(t.bind(null,"VG8/")).then(({setupLegacyAnalytics:e})=>{e()})},priority:a.a.BACKGROUND})}},z6J1:function(e,n,t){"use strict";var o={};function a(e,n){const t=e.getElementsByName(n)[0];return t&&t.getAttribute("content")||""}n.a=(e,n)=>{const t=e.location.href,i="true"===a(n,"ajs-iframe-allowed-for-spa")||!1,r=void 0!==e.__SKIP_FALLBACK_MODE__&&e.__SKIP_FALLBACK_MODE__||(d=t,Object.keys(o).filter(e=>-1!==d.indexOf(o[e])).length>0);var d;return{spaceKey:a(n,"confluence-space-key"),isIframeAllowed:i,isWhitelisted:r,isViewPageContentOnly:t.indexOf("/content-only/")>-1,isFallbackModeIframe:function(e){if(e.top===e.self)return!1;const n=e.frameElement&&e.frameElement.getAttribute("data-is-fallback-mode-iframe");return!(!n||"true"!==n)}(e),bridgeId:function(e){return e.frameElement&&e.frameElement.getAttribute("data-bridge-id")}(e),isSpaceOverview:t.indexOf("isSpaceOverview=true")>0,isOverflowAllowed:-1!==decodeURIComponent(function(e){return e.location&&e.location.search?e.location.search.substr(1).split("&").reduce((e,n)=>{const[t,o]=n.split("=");return e[t]=decodeURIComponent(o),e},{}):{}}(e).addonUrl||t).indexOf("/customcontent/"),darkFeatures:(a(n,"ajs-enabled-dark-features")||"").split(","),contentType:a(n,"ajs-content-type")||"",pageId:a(n,"ajs-page-id")}}}}]);
//# sourceMappingURL=initialization~91f4305a.QDJ1kihqL5.js.map