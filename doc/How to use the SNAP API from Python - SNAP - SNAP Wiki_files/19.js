/*! License: Y539EYKk3y.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+SJH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return n(e,[{key:"indexDocument",value:function(e,t,r){"object"!==i(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=r}},{key:"search",value:function(e,t){for(var r={},n=this._tokenToUidToDocumentMap,o=0,s=e.length;o<s;o++){var a=n[e[o]];if(!a)return[];if(0===o)for(var c=0,u=(h=Object.keys(a)).length;c<u;c++){r[l=h[c]]=a[l]}else for(c=0,u=(h=Object.keys(r)).length;c<u;c++){var l=h[c];"object"!==i(a[l])&&delete r[l]}}var h,d=[];for(o=0,u=(h=Object.keys(r)).length;o<u;o++){l=h[o];d.push(r[l])}return d}}]),e}()},"+gXh":function(e,t,r){(function(i){var n;!function(o){var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function u(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=e,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}function h(e,t,r,i){if(!r)return[];var n,o,s,a,c,u,l,d=[],f=t.length,m=t[i],p=t[i+1];if(i===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(n=0,o=r._listeners.length;n<o;n++)e&&e.push(r._listeners[n]);return[r]}if("*"===m||"**"===m||r[m]){if("*"===m){for(s in r)"_listeners"!==s&&r.hasOwnProperty(s)&&(d=d.concat(h(e,t,r[s],i+1)));return d}if("**"===m){for(s in(l=i+1===f||i+2===f&&"*"===p)&&r._listeners&&(d=d.concat(h(e,t,r,f))),r)"_listeners"!==s&&r.hasOwnProperty(s)&&("*"===s||"**"===s?(r[s]._listeners&&!l&&(d=d.concat(h(e,t,r[s],f))),d=d.concat(h(e,t,r[s],i))):d=s===p?d.concat(h(e,t,r[s],i+2)):d.concat(h(e,t,r[s],i)));return d}d=d.concat(h(e,t,r[m],i+1))}if((a=r["*"])&&h(e,t,a,i+1),c=r["**"])if(i<f)for(s in c._listeners&&h(e,t,c,f),c)"_listeners"!==s&&c.hasOwnProperty(s)&&(s===p?h(e,t,c[s],i+2):s===m?h(e,t,c[s],i+1):((u={})[s]=c[s],h(e,t,{"**":u},i+1)));else c._listeners?h(e,t,c,f):c["*"]&&c["*"]._listeners&&h(e,t,c["*"],f);return d}function d(e,t){for(var r=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<i;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var n=this.listenerTree,o=e.shift();void 0!==o;){if(n[o]||(n[o]={}),n=n[o],0===e.length)return n._listeners?("function"==typeof n._listeners&&(n._listeners=[n._listeners]),n._listeners.push(t),!n._listeners.warned&&this._maxListeners>0&&n._listeners.length>this._maxListeners&&(n._listeners.warned=!0,u.call(this,n._listeners.length,o))):n._listeners=t,!0;o=e.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},l.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},l.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},l.prototype._many=function(e,t,r,i){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&n.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,i),n},l.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,i,n,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];for(i=0,r=o.length;i<r;i++)switch(this.event=e,s){case 1:o[i].call(this,e);break;case 2:o[i].call(this,e,arguments[1]);break;case 3:o[i].call(this,e,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();h.call(this,o,c,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(i=0,r=o.length;i<r;i++)switch(this.event=e,s){case 1:o[i].call(this);break;case 2:o[i].call(this,arguments[1]);break;case 3:o[i].call(this,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,i,n,o,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),n=1;n<c;n++)t[n]=arguments[n];for(i=0,r=this._all.length;i<r;i++)switch(this.event=e,c){case 1:s.push(this._all[i].call(this,e));break;case 2:s.push(this._all[i].call(this,e,arguments[1]));break;case 3:s.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[i].apply(this,t))}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();h.call(this,o,u,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,c){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),n=1;n<c;n++)t[n-1]=arguments[n];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),n=1;n<c;n++)t[n-1]=arguments[n];for(i=0,r=o.length;i<r;i++)switch(this.event=e,c){case 1:s.push(o[i].call(this));break;case 2:s.push(o[i].call(this,arguments[1]));break;case 3:s.push(o[i].call(this,arguments[1],arguments[2]));break;default:s.push(o[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice();i=h.call(this,null,n,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var o=0;o<i.length;o++){var a=i[o];if(r=a._listeners,s(r)){for(var c=-1,u=0,l=r.length;u<l;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?a._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var i in r){var n=r[i],o=t[n];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[n]),0===Object.keys(o).length&&delete t[n])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,r=0,i=0;if(e&&this._all&&this._all.length>0){for(r=0,i=(t=this._all).length;r<i;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,i=(t=this._all).length;r<i;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=h.call(this,null,t,this.listenerTree,0),i=0;i<r.length;i++){var n=r[i];n._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return h.call(this,t,r,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(n=function(){return l}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r("F63i"))},"/dP/":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("ibeu");const n={on(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"1Fob":function(e,t,r){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),n=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(n){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],o(r),o(i))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{r[i[0]]=decodeURIComponent(i[0])}catch(t){var o=s(i[0]);o!==i[0]&&(r[i[0]]=o)}i=n.exec(e)}r["%C2"]="�";for(var a=Object.keys(r),c=0;c<a.length;c++){var u=a[c];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},"2Vsb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||[];for(var r=e=e||{},i=0;i<t.length;i++)if(null==(r=r[t[i]]))return null;return r}},"36mx":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"expandToken",value:function(e){for(var t,r=[],i=0,n=e.length;i<n;++i){t="";for(var o=i;o<n;++o)t+=e.charAt(o),r.push(t)}return r}}]),e}()},"4/oB":function(e,t,r){"use strict";var i=r("UM5q"),n=r("maj8"),o=r("1Fob");function s(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function a(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=r):i[e]=r};case"bracket":return function(e,r,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],r):i[e]=[r]:i[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=n({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:o(s),r(o(n),s,i)})),Object.keys(i).sort().reduce((function(e,t){var r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):i}t.extract=a,t.parse=c,t.stringify=function(e,t){!1===(t=n({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,i){return null===r?[s(t,e),"[",i,"]"].join(""):[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(i){var n=e[i];if(void 0===n)return"";if(null===n)return s(i,t);if(Array.isArray(n)){var o=[];return n.slice().forEach((function(e){void 0!==e&&o.push(r(i,e,o.length))})),o.join("&")}return s(i,t)+"="+s(n,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(a(e),t)}}},"4CAG":function(e,t,r){"use strict";(function(t){function r(e){var t,r,n,o,s,a,c=Object.create(null);if(this[u]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),s=0,a=(o=e.split("&")).length;s<a;s++)-1<(t=(n=o[s]).indexOf("="))?l(c,h(n.slice(0,t)),h(n.slice(t+1))):n.length&&l(c,h(n),"");else if(i(e))for(s=0,a=e.length;s<a;s++)l(c,(n=e[s])[0],n[1]);else for(r in e)l(c,r,e[r])}var i=Array.isArray,n=r.prototype,o=/[!'\(\)~]|%20|%00/g,s=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return a[e]},u="__URLSearchParams__:"+Math.random();function l(e,t,r){t in e?e[t].push(""+r):e[t]=i(r)?r:[""+r]}function h(e){return decodeURIComponent(e.replace(s," "))}function d(e){return encodeURIComponent(e).replace(o,c)}n.append=function(e,t){l(this[u],e,t)},n.delete=function(e){delete this[u][e]},n.get=function(e){var t=this[u];return e in t?t[e][0]:null},n.getAll=function(e){var t=this[u];return e in t?t[e].slice(0):[]},n.has=function(e){return e in this[u]},n.set=function(e,t){this[u][e]=[""+t]},n.forEach=function(e,t){var r=this[u];Object.getOwnPropertyNames(r).forEach((function(i){r[i].forEach((function(r){e.call(t,r,i,this)}),this)}),this)},n.toJSON=function(){return{}},n.toString=function(){var e,t,r,i,n=this[u],o=[];for(t in n)for(r=d(t),e=0,i=n[t];e<i.length;e++)o.push(r+"="+d(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){i.length&&!(i in r)&&(r[i]=this.getAll(i)).forEach((function(r){e.call(t,r,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,r){e.push(r)}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,r){e.push([r,t])}));var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(r[Symbol.iterator]=function(){return r}),r}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,r,i=this.entries(),n=i.next(),o=n.done,s=[],a=Object.create(null);!o;)t=(r=n.value)[0],s.push(t),t in a||(a[t]=[]),a[t].push(r[1]),o=(n=i.next()).done;for(s.sort(),e=0;e<s.length;e++)this.delete(s[e]);for(e=0;e<s.length;e++)t=s[e],this.append(t,a[t].shift())})}((r=e.exports=t.URLSearchParams||r).prototype)}).call(this,r("fRV1"))},"4uLs":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();var n=/[^a-zа-яё0-9\-']+/i;t.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"tokenize",value:function(e){return e.split(n).filter((function(e){return e}))}}]),e}()},"6Hz9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"expandToken",value:function(e){for(var t=[],r="",i=0,n=e.length;i<n;++i)r+=e.charAt(i),t.push(r);return t}}]),e}()},"6L3W":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.StemmingTokenizer=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=r}return i(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()},"7NDX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("4uLs");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return i.SimpleTokenizer}});var n=r("6L3W");Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return n.StemmingTokenizer}});var o=r("xew/");Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return o.StopWordsTokenizer}})},BQ5h:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("VB+a");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return i.CaseSensitiveSanitizer}});var n=r("NQDk");Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return n.LowerCaseSanitizer}})},Bo9c:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return h})),r.d(t,"a",(function(){return m})),r.d(t,"d",(function(){return p}));var i=r("Czhu"),n=r("HbGN"),o=r("eWMb"),s=r("mjri"),a=r("NubX");const c=(e,t)=>{const{getRatio:r=l}=e,s=Object(n.a)(e,["getRatio"]),a=u(r),c=t||{},{queryParams:h={}}=c,d=Object(n.a)(c,["queryParams"]),f=Object(i.a)(Object(i.a)({},d),{},{queryParams:Object(i.a)(Object(i.a)({},a),h)});return o.b.requestService(s,f)},u=e=>e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"},l=()=>window.devicePixelRatio,h=e=>e[u(l).altScale],d=(e,t)=>{if(Object(s.p)(e)&&t&&t.spriteSheets){const{height:r,width:i,x:n,y:o,xIndex:s,yIndex:a,spriteRef:c}=e,u=t.spriteSheets[c];if(u)return{sprite:u,height:r,width:i,x:n,y:o,xIndex:s,yIndex:a}}else if(Object(s.i)(e)){const{height:r,width:i,imagePath:n}=e;return((e,t)=>!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url)))(n,t)?Object(s.c)(e):{height:r,width:i,imagePath:n}}Object(a.a)("failed conversion for representation",e,t)},f=(e,t)=>e&&e!=={}?d(h(e),t):void 0,m=e=>({emojis:e.emojis.map(t=>{const r=d(t.representation,e.meta),o=f(t.altRepresentations,e.meta),a=((e,t)=>{if(!e.skinVariations)return[];const r=e.skinVariations,o=e.id;return r.map(e=>{const{representation:r,altRepresentations:s}=e,a=Object(n.a)(e,["representation","altRepresentations"]);return Object(i.a)({baseId:o,representation:d(r,t),altRepresentation:f(s,t)},a)})})(t,e.meta),{representation:c,skinVariations:u,altRepresentations:l}=t,h=Object(n.a)(t,["representation","skinVariations","altRepresentations"]),m=Object(i.a)(Object(i.a)({},h),{},{representation:r,skinVariations:a});return Object(s.a)(m,o)}),mediaApiToken:e.meta&&e.meta.mediaApiToken}),p=(e,t)=>!!(t&&e.altRepresentation&&(e=>l()>1?2*e:e)(t)>e.representation.height)},CROD:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var i=r("HbGN"),n=r("ERkP"),o=r.n(n),s=r("2Eke");const a=new Map,c=e=>{let t=a.get(e);return t||(t=new s.a(e),a.set(e,t)),t},u=e=>class extends o.a.Component{render(){const t=this.props,{mediaClientConfig:r}=t,n=Object(i.a)(t,["mediaClientConfig"]),a=r?c(r):(()=>{const e={authProvider:()=>Promise.resolve({clientId:"",token:"",baseUrl:""})};return new s.a(e)})();return o.a.createElement(e,Object.assign({},n,{mediaClient:a}))}}},"Dl3+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("36mx");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return i.AllSubstringsIndexStrategy}});var n=r("bb35");Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return n.ExactWordIndexStrategy}});var o=r("6Hz9");Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return o.PrefixIndexStrategy}})},Fga3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHighlighter=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=r("Dl3+"),o=r("BQ5h");t.TokenHighlighter=function(){function e(t,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new n.PrefixIndexStrategy,this._sanitizer=r||new o.LowerCaseSanitizer,this._wrapperTagName=i||"mark"}return i(e,[{key:"highlight",value:function(e,t){for(var r=this._wrapText("").length,i=Object.create(null),n=0,o=t.length;n<o;n++)for(var s=this._sanitizer.sanitize(t[n]),a=this._indexStrategy.expandToken(s),c=0,u=a.length;c<u;c++){var l=a[c];i[l]?i[l].push(s):i[l]=[s]}for(var h="",d="",f=0,m=(n=0,e.length);n<m;n++){var p=e.charAt(n);" "===p?(h="",d="",f=n+1):(h+=p,d+=this._sanitizer.sanitize(p)),i[d]&&i[d].indexOf(d)>=0&&(h=this._wrapText(h),e=e.substring(0,f)+h+e.substring(n+1),n+=r,m+=r)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()},HUcV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};i.constructor=!1,i.hasOwnProperty=!1,i.isPrototypeOf=!1,i.propertyIsEnumerable=!1,i.toLocaleString=!1,i.toString=!1,i.valueOf=!1},IGfZ:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"j",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"m",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"g",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"i",(function(){return h})),r.d(t,"h",(function(){return d})),r.d(t,"k",(function(){return f})),r.d(t,"l",(function(){return m})),r.d(t,"e",(function(){return p}));const i="CUSTOM",n="FREQUENT",o="allUploadsCustomCategory",s="userUploadsCustomCategory",a="data:",c="delete-emoji",u=1e5,l=20,h=350,d=295,f="fabric.emoji",m=f+".selectedTone",p=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"]},NQDk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()},NubX:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));let i=!1;function n(e,...t){i&&console.log(e,...t)}},Qtz0:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));const i=e=>new Promise((t,r)=>{const i=new Image;i.addEventListener("load",()=>{t({width:i.naturalWidth,height:i.naturalHeight})}),i.addEventListener("error",r),i.src=e}),n=e=>new Promise((t,r)=>{let i=new Image;i.onload=()=>t({src:i.src}),i.onerror=()=>r(),i.src=e}),o=e=>e&&e.size>1048576;let s;const a=()=>(void 0!==s?Promise.resolve(s):new Promise(e=>{const t=new Image,r=()=>{s=2===t.height,e(s)};t.addEventListener("load",r),t.addEventListener("error",r),t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"})).then(e=>e?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8")},Tos6:function(e,t,r){"use strict";var i=r("eWMb"),n=r("IGfZ"),o=r("mjri"),s=r("NubX"),a=r("Bo9c");class c{constructor(e){this.config=e}loadEmoji(){return Object(a.b)(this.config).then(e=>Object(a.a)(e))}}var u=r("v7rN"),l=r("Czhu"),h=r("HbGN"),d=r("CROD"),f=r("Qtz0");class m{constructor(e,t){this.mediaImageQueue=[],this.activeProcessing=0,this.pendingRequests=new Map,this.concurrentDownloadLimit=t&&t.concurrentDownloadLimit||16,this.tokenManager=e}loadMediaImage(e){const t=this.pendingRequests.get(e);if(void 0!==t)return t;const r=new Promise((t,r)=>{this.mediaImageQueue.push({url:e,resolve:t,reject:r}),this.processFromQueue()}).then(t=>(this.pendingRequests.delete(e),t)).catch(t=>{throw this.pendingRequests.delete(e),t});return this.pendingRequests.set(e,r),r}getQueueSize(){return this.mediaImageQueue.length}getActiveDownloads(){return this.activeProcessing}processFromQueue(){for(;this.activeProcessing<this.concurrentDownloadLimit&&this.mediaImageQueue.length>0;){this.activeProcessing++;const e=this.mediaImageQueue.shift(),{url:t,resolve:r,reject:i}=e;this.tokenManager.getToken("read",!1).then(e=>{this.requestMediaEmoji(t,e,!0).then(e=>{r(e),this.completedItem()}).catch(e=>{i(e),this.completedItem()})}).catch(e=>{i(e),this.completedItem()})}}completedItem(){this.activeProcessing--,this.processFromQueue()}delay(e){return new Promise(t=>setTimeout(t,e))}requestMediaEmoji(e,t,r,i=2){return Object(f.c)().then(n=>{const o={headers:{Authorization:"Bearer "+t.jwt,"X-Client-Id":t.clientId,Accept:n}};return fetch(e,o).then(n=>{if(404===n.status&&i>0)return this.delay(600/i).then(()=>this.requestMediaEmoji(e,t,!1,i-1));if(403===n.status&&r)return this.tokenManager.getToken("read",!0).then(t=>this.requestMediaEmoji(e,t,!1));if(n.ok)return n.blob().then(e=>this.readBlob(e));throw new Error(`Unable to load media image. Status=${n.status} ${n.statusText}`)})})}readBlob(e){return new Promise((t,r)=>{const i=new FileReader;i.addEventListener("load",()=>t(i.result)),i.addEventListener("error",()=>r(i.error)),i.readAsDataURL(e)})}}var p=r("bShy");const g=(e,t)=>t?e.altRepresentation:e.representation;class y{constructor(e){this.cachedImageUrls=new Set,Object(s.a)("BrowserCacheStrategy"),this.mediaImageLoader=e}loadEmoji(e,t){const r=g(e,t);if(!Object(o.l)(r))return e;const{mediaPath:i}=r;return this.cachedImageUrls.has(i)?e:this.mediaImageLoader.loadMediaImage(i).then(()=>(this.cachedImageUrls.add(i),e)).catch(()=>{})}optimisticRendering(){return!0}static supported(e,t){return(()=>{const e=!!document.documentMode,t=!e&&!!window.StyleMedia;return e||t})()?Promise.resolve(!1):t.loadMediaImage(e).then(()=>new Promise(t=>{const r=new Image;r.addEventListener("load",()=>{t(!0)}),r.addEventListener("error",()=>{t(!1)}),r.src=e})).catch(()=>!1)}}class v{constructor(e){Object(s.a)("MemoryCacheStrategy"),this.mediaImageLoader=e,this.dataURLCache=new p.LRUCache(1e3)}loadEmoji(e,t){const r=g(e,t);if(!Object(o.l)(r))return e;const{mediaPath:i}=r,n=this.dataURLCache.get(i);return n?Object(o.d)(e,n,t):this.mediaImageLoader.loadMediaImage(i).then(r=>{const n=Object(o.d)(e,r,t);return r.length<=1e4?this.dataURLCache.put(i,r):Object(s.a)("No caching as image is too large",r.length,r.slice(0,15),e.shortName),n}).catch(()=>{})}optimisticRendering(){return!1}}class b{constructor(e){this.waitingInitUrls=[],Object(s.a)("MediaEmojiCache"),this.mediaImageLoader=new m(e)}loadEmoji(e,t){const r=g(e,t);if(!Object(o.l)(r))return e;const{mediaPath:i}=r,n=this.getCache(i);return Object(o.n)(n)?n.then(r=>r.loadEmoji(e,t)).catch(()=>{}):n.loadEmoji(e,t)}optimisticRendering(e){const t=this.getCache(e);return Object(o.n)(t)?t.then(e=>e.optimisticRendering()).catch(()=>!1):t.optimisticRendering()}getCache(e){return this.cache?this.cache:(this.waitingInitUrls.push(e),this.cacheLoading||(this.cacheLoading=this.initCache().then(e=>(this.cache=e,this.cacheLoading=void 0,e)).catch(e=>{throw this.cacheLoading=void 0,e})),this.cacheLoading)}initCache(){const e=this.waitingInitUrls.pop();return e?y.supported(e,this.mediaImageLoader).then(e=>(this.waitingInitUrls=[],this.cacheLoading=void 0,e?new y(this.mediaImageLoader):new v(this.mediaImageLoader))).catch(()=>this.initCache()):Promise.reject("Unable to initialise cache based on provided url(s)")}}class j{constructor(e){this.siteServiceConfig=e,this.tokens=new Map}addToken(e,t){this.tokens.set(e,{mediaApiToken:t})}getToken(e,t){let r=this.tokens.get(e);r||(r={},this.tokens.set(e,r));const{mediaApiToken:n,activeTokenRefresh:o}=r;if(n){if(Date.now()/1e3<n.expiresAt-30&&!t)return Promise.resolve(n);if(o)return o;r.mediaApiToken=void 0}const s="token/"+e;return r.activeTokenRefresh=i.b.requestService(this.siteServiceConfig,{path:s}).then(e=>(r.activeTokenRefresh=void 0,r.mediaApiToken=e,e)),r.activeTokenRefresh}}class w{constructor(e,t){this.postToEmojiService=(e,t)=>{const{shortName:r,name:n}=e,{width:s,height:c}=e,u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortName:r,name:n,width:s,height:c,fileId:t})};return i.b.requestService(this.siteServiceConfig,{requestInit:u}).then(e=>{const{emojis:t}=e;if(t.length){const e=t[0],{altRepresentations:r}=e,i=Object(h.a)(e,["altRepresentations"]),n=Object(l.a)(Object(l.a)({},i),{},{representation:Object(o.c)(i.representation)}),s=Object(a.c)(r||{}),c=s?Object(o.c)(s):void 0;return Object(o.a)(n,c)}throw new Error("No emoji returns from upload. Upload failed.")})},this.siteServiceConfig=e,this.mediaApiToken=t,this.tokenManager=new j(e),this.tokenManager.addToken("read",t),this.mediaEmojiCache=new b(this.tokenManager)}loadMediaEmoji(e,t){if(!Object(o.k)(e))throw new Error("Only supported for media emoji");return this.mediaEmojiCache.loadEmoji(e,t)}optimisticRendering(e,t){const r=t?e.altRepresentation:e.representation;if(!Object(o.l)(r))throw new Error("Only supported for media emoji");const{mediaPath:i}=r;return this.mediaEmojiCache.optimisticRendering(i)}uploadEmoji(e,t){const r=Date.now();return this.tokenManager.getToken("upload").then(i=>{const n=Date.now()-r;return Object(s.a)("upload token load time",n),new Promise((o,a)=>{const{url:c,clientId:u,collectionName:l}=i,h=Object(d.a)({authProvider:()=>Promise.resolve({clientId:u,token:i.jwt,baseUrl:c})}).file.upload({content:e.dataURL,name:e.filename,collection:l}).subscribe({next:i=>{if("uploading"===i.status&&t)t({percent:.95*i.progress});else if("processing"===i.status){h.unsubscribe();const t=Date.now()-r,c=t-n;Object(s.a)("total upload / media upload times",t,c),this.postToEmojiService(e,i.id).then(e=>{o(e)}).catch(e=>{a(e.reason||e)})}},error(e){a(e)}})})})}hasUploadToken(){return this.tokenManager.getToken("upload").then(e=>void 0!==e,()=>!1)}prepareForUpload(){this.tokenManager.getToken("upload")}findEmoji(e){const t="../"+e.id;return Object(a.b)(this.siteServiceConfig,{path:t}).then(e=>Object(a.a)(e).emojis[0]).catch(t=>{Object(s.a)("failed to load emoji",e,t)})}deleteEmoji(e){if(!Object(o.k)(e)&&!Object(o.j)(e))return Promise.reject(!1);const t=""+e.id;return i.b.requestService(this.siteServiceConfig,{path:t,requestInit:{method:"DELETE"}}).then(()=>!0).catch(()=>!1)}}r.d(t,"b",(function(){return S})),r.d(t,"a",(function(){return _}));const S=e=>{const{isUploadSupported:t,prepareForUpload:r,uploadCustomEmoji:i}=e;return!!(t&&r&&i)};class k extends i.a{constructor(e){super(),this.activeLoaders=0,this.retries=new Map,this.isLoaded=()=>0===this.activeLoaders&&this.emojiRepository,this.recordConfig=e.recordConfig,this.currentUser=e.currentUser;const t=[];if(this.activeLoaders=e.providers.length,e.providers.forEach((e,r)=>{new c(e).loadEmoji().then(i=>{t[r]=i,this.initEmojiRepository(t),this.initSiteEmojiResource(i,e).then(()=>{this.activeLoaders--,this.performRetries(),this.refreshLastFilter()})}).catch(e=>{this.activeLoaders--,this.notifyError(e)})}),"undefined"!=typeof window&&window.localStorage&&(this.selectedTone=this.loadStoredTone()),0===e.providers.length)throw new Error("No providers specified")}initEmojiRepository(e){let t=[];e.forEach(e=>{t=t.concat(e.emojis)}),this.emojiRepository=new u.a(t)}initSiteEmojiResource(e,t){if(!this.siteEmojiResource&&e.mediaApiToken){this.siteEmojiResource=new w(t,e.mediaApiToken);const{emojis:r}=e;if(r.length){const e=this.siteEmojiResource.optimisticRendering(r[0]);if(Object(o.n)(e))return e.then(()=>{Object(s.a)("Primed siteEmojiResource")}).catch(()=>{Object(s.a)("Failed to prime siteEmojiResource")});Object(s.a)("Already primed siteEmojiResource")}else Object(s.a)("No emoji to prime siteEmojiResource with")}return Promise.resolve()}performRetries(){const e=this.retries;this.retries=new Map,e.forEach((e,t)=>{const r=t();Object(o.n)(r)?r.then(t=>{e.resolve(t)}).catch(t=>{e.reject(t)}):e.resolve(r)})}loadStoredTone(){const e=window.localStorage.getItem(n.l);if(e){const t=parseInt(e,10);return isNaN(t)?void 0:t}}refreshLastFilter(){if(void 0!==this.lastQuery){const{query:e,options:t}=this.lastQuery;this.filter(e,t)}}retryIfLoading(e,t){return this.isLoaded()?Promise.resolve(t):new Promise((t,r)=>{this.retries.set(e,{resolve:t,reject:r})})}notifyResult(e){this.lastQuery&&e.query===this.lastQuery.query&&super.notifyResult(e)}loadMediaEmoji(e,t){return this.siteEmojiResource&&Object(o.k)(e)?this.siteEmojiResource.loadMediaEmoji(e,t):e}optimisticMediaRendering(e,t){if(!Object(o.k)(e))return!0;if(!this.siteEmojiResource)return!1;const r=this.siteEmojiResource.optimisticRendering(e,t);return!Object(o.n)(r)&&r}filter(e,t){this.lastQuery={query:e,options:t},this.emojiRepository?this.notifyResult(this.emojiRepository.search(e,t)):this.notifyNotReady()}findByShortName(e){return this.isLoaded()?this.emojiRepository.findByShortName(e):this.retryIfLoading(()=>this.findByShortName(e),void 0)}findByEmojiId(e){const{id:t,shortName:r}=e;if(this.emojiRepository){if(!t)return this.findByShortName(r);{const i=this.emojiRepository.findById(t);if(i)return i;if(this.isLoaded())return this.siteEmojiResource?this.siteEmojiResource.findEmoji(e).then(e=>e?(this.addUnknownEmoji(e),e):this.findByShortName(r)):this.findByShortName(r)}}return this.retryIfLoading(()=>this.findByEmojiId(e),void 0)}findById(e){return this.isLoaded()?this.emojiRepository.findById(e):this.retryIfLoading(()=>this.findById(e),void 0)}findInCategory(e){return this.isLoaded()?Promise.resolve(this.emojiRepository.findInCategory(e)):this.retryIfLoading(()=>this.findInCategory(e),[])}getAsciiMap(){return this.isLoaded()?Promise.resolve(this.emojiRepository.getAsciiMap()):this.retryIfLoading(()=>this.getAsciiMap(),new Map)}getFrequentlyUsed(e){return this.isLoaded()?Promise.resolve(this.emojiRepository.getFrequentlyUsed(e)):this.retryIfLoading(()=>this.getFrequentlyUsed(e),[])}recordSelection(e){const{recordConfig:t}=this;if(this.emojiRepository&&this.emojiRepository.used(e),t){const r={emojiId:Object(o.q)(e)},n={method:"POST"};return i.b.requestService(t,{queryParams:r,requestInit:n})}return Promise.resolve()}deleteSiteEmoji(e){return this.siteEmojiResource&&e.id?this.siteEmojiResource.deleteEmoji(e).then(t=>!(!t||!this.emojiRepository)&&(this.emojiRepository.delete(e),!0)).catch(e=>(console.error("failed to delete site emoji",e),!1)):this.retryIfLoading(()=>this.deleteSiteEmoji(e),!1)}getSelectedTone(){return this.selectedTone}setSelectedTone(e){if(this.selectedTone=e,window.localStorage)try{window.localStorage.setItem(n.l,e?e.toString():"")}catch(t){console.error("failed to store selected emoji skin tone",t)}}calculateDynamicCategories(){return this.isLoaded()?Promise.resolve(this.emojiRepository.getDynamicCategoryList()):this.retryIfLoading(()=>this.calculateDynamicCategories(),[])}getCurrentUser(){return this.currentUser}addUnknownEmoji(e){this.emojiRepository&&this.emojiRepository.addUnknownEmoji(e)}}class _ extends k{constructor(e){super(e),this.allowUpload=!!e.allowUpload}isUploadSupported(){return this.allowUpload?this.siteEmojiResource?this.siteEmojiResource.hasUploadToken():this.retryIfLoading(()=>this.isUploadSupported(),!1):Promise.resolve(!1)}uploadCustomEmoji(e){return this.isUploadSupported().then(t=>t&&this.siteEmojiResource?this.siteEmojiResource.uploadEmoji(e).then(e=>(this.addUnknownEmoji(e),this.refreshLastFilter(),e)):Promise.reject("No media api support is configured"))}prepareForUpload(){return this.siteEmojiResource&&this.siteEmojiResource.prepareForUpload(),this.retryIfLoading(()=>this.prepareForUpload(),void 0)}}},UM5q:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"VB+a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()},aNTK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var i,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),o=r("2Vsb"),s=(i=o)&&i.__esModule?i:{default:i},a=r("Dl3+"),c=r("BQ5h"),u=r("eOXs"),l=r("7NDX");t.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new a.PrefixIndexStrategy,this._searchIndex=new u.TfIdfSearchIndex(t),this._sanitizer=new c.LowerCaseSanitizer,this._tokenizer=new l.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return n(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var r=this._indexStrategy,i=this._sanitizer,n=this._searchIndex,o=this._tokenizer,a=this._uidFieldName,c=0,u=e.length;c<u;c++){var l,h=e[c];l=a instanceof Array?(0,s.default)(h,a):h[a];for(var d=0,f=t.length;d<f;d++){var m,p=t[d];if(null!=(m=p instanceof Array?(0,s.default)(h,p):h[p])&&"string"!=typeof m&&m.toString&&(m=m.toString()),"string"==typeof m)for(var g=o.tokenize(i.sanitize(m)),y=0,v=g.length;y<v;y++)for(var b=g[y],j=r.expandToken(b),w=0,S=j.length;w<S;w++){var k=j[w];n.indexDocument(k,l,h)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()},bb35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();t.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()},eOXs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("qmmM");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return i.TfIdfSearchIndex}});var n=r("+SJH");Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return n.UnorderedSearchIndex}})},eWMb:function(e,t,r){"use strict";var i={};r.r(i),r.d(i,"requestService",(function(){return d}));class n{constructor(){this.listeners=new Set}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach(t=>{t.result(e)})}notifyError(e){this.listeners.forEach(t=>{t.error&&t.error(e)})}notifyInfo(e){this.listeners.forEach(t=>{t.info&&t.info(e)})}notifyNotReady(){this.listeners.forEach(e=>{e.notReady&&e.notReady()})}}var o=r("Czhu"),s=r("EfWO"),a=r("4CAG"),c=r.n(a);const u=c.a.default||c.a,l={},h=(e,t)=>{if(t)for(const r in t)if({}.hasOwnProperty.call(t,r)){const i=t[r];if(Array.isArray(i))for(let t=0;t<i.length;t++)e[r]=i[t];else e[r]=i}},d=(e,t)=>{const{url:r,securityProvider:i,refreshedSecurityProvider:n}=e,{path:a,queryParams:c,requestInit:f}=t||l,m=i&&i(),p=((e,t="",r,i)=>{const n=new u(s.parse(e).search||void 0);if(e=e.split("?")[0],r)for(const s in r)({}).hasOwnProperty.call(r,s)&&n.append(s,r[s]);if(i&&i.params)for(const s in i.params)if({}.hasOwnProperty.call(i.params,s)){const e=i.params[s];if(Array.isArray(e))for(let t=0;t<e.length;t++)n.append(s,e[t]);else n.append(s,e)}let o="";t&&"/"!==e.substr(-1)&&(o="/");let a=n.toString();return a&&(a="?"+a),`${e}${o}${t}${a}`})(r,a,c,m),g=((e,t)=>{const r={};return h(r,t),e&&h(r,e.headers),r})(m,f&&f.headers),y=(e=>e&&e.omitCredentials?"omit":"include")(m),v=Object(o.a)(Object(o.a)({},f),{},{headers:g,credentials:y});return fetch(p,v).then(e=>204===e.status?Promise.resolve():e.ok?e.json():401===e.status&&n?n().then(e=>d({url:r,securityProvider:()=>e},t)):Promise.reject({code:e.status,reason:e.statusText}))};r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return n}));const f=i},ibeu:function(e,t,r){"use strict";r.r(t);var i=r("+gXh");const n={streams:new(r("bShy").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function o(e){return!!e.clientId}function s(e){return!!e.asapIssuer}const a=e=>{if(s(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}};r.d(t,"mediaState",(function(){return n})),r.d(t,"isClientBasedAuth",(function(){return o})),r.d(t,"isAsapBasedAuth",(function(){return s})),r.d(t,"authToOwner",(function(){return a}))},mjri:function(e,t,r){"use strict";r.d(t,"p",(function(){return s})),r.d(t,"o",(function(){return a})),r.d(t,"i",(function(){return c})),r.d(t,"l",(function(){return u})),r.d(t,"n",(function(){return l})),r.d(t,"f",(function(){return h})),r.d(t,"k",(function(){return d})),r.d(t,"j",(function(){return f})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return p})),r.d(t,"m",(function(){return g})),r.d(t,"q",(function(){return y})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return w})),r.d(t,"a",(function(){return S})),r.d(t,"e",(function(){return k}));var i=r("Czhu"),n=r("nEFo"),o=r("IGfZ");const s=e=>!(!e||!e.spriteRef),a=e=>!(!e||!e.sprite),c=e=>!(!e||!e.imagePath),u=e=>!(!e||!e.mediaPath),l=e=>!(!e||!e.then),h=e=>e&&e.shortName&&e.type,d=e=>u(e.representation),f=e=>{return e.category===o.b&&(t=e.representation,c(t)&&0===t.imagePath.indexOf(o.d));var t},m=e=>!(!e||!e.skinVariations),p=e=>"baseId"in e,g=e=>e in n.a,y=e=>({shortName:e.shortName,id:e.id,fallback:e.fallback}),v=(e,t)=>{if(!t)return!1;for(let n=0;n<e.length;n++)if((r=e[n])===(i=t)||r&&i&&r.id===i.id&&r.shortName===i.shortName)return!0;var r,i;return!1},b=e=>({mediaPath:e.imagePath,height:e.height,width:e.width}),j=(e,t)=>({imagePath:t||e.mediaPath,height:e.height,width:e.width}),w=(e,t,r)=>{const n=e.representation,o=e.altRepresentation,s=r?void 0:t,a=r?t:void 0;if(!u(n)&&!u(o))return e;const c=u(n)?j(n,s):n,l=u(o)?j(o,a):o,h=Object(i.a)(Object(i.a)({},e),{},{representation:c});return S(h,l)},S=(e,t)=>t?Object(i.a)(Object(i.a)({},e),{},{altRepresentation:t}):e,k=e=>e.category},nEFo:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("L21V");const n=Object(i.g)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileAriaLabel:{id:"fabric.emoji.choose.file.ariaLabel",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})},ox06:function(e,t,r){"use strict";var i;r.d(t,"a",(function(){return i})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency"}(i||(i={}))},qmmM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TfIdfSearchIndex=void 0;var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=r("2Vsb"),a=(i=s)&&i.__esModule?i:{default:i};t.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return o(e,[{key:"indexDocument",value:function(e,t,r){this._tokenToIdfCache={};var i,o=this._tokenMap;"object"!==n(o[e])?o[e]=i={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(i=o[e]).$totalNumOccurrences++;var s=i.$uidMap;"object"!==n(s[t])?(i.$numDocumentOccurrences++,s[t]={$document:r,$numTokenOccurrences:1}):s[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var r={},i=0,o=e.length;i<o;i++){var s=e[i],a=this._tokenMap[s];if(!a)return[];if(0===i)for(var c=0,u=(l=Object.keys(a.$uidMap)).length;c<u;c++){r[h=l[c]]=a.$uidMap[h].$document}else{var l;for(c=0,u=(l=Object.keys(r)).length;c<u;c++){var h=l[c];"object"!==n(a.$uidMap[h])&&delete r[h]}}}var d=[];for(var h in r)d.push(r[h]);var f=this._createCalculateTfIdf();return d.sort((function(r,i){return f(e,i,t)-f(e,r,t)}))}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(r,i){if(!t[r]){var n=void 0!==e[r]?e[r].$numDocumentOccurrences:0;t[r]=1+Math.log(i.length/(1+n))}return t[r]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,r=this._createCalculateIdf();return function(i,n,o){for(var s=0,c=0,u=i.length;c<u;++c){var l,h=i[c],d=r(h,o);d===1/0&&(d=0),l=t instanceof Array?n&&(0,a.default)(n,t):n&&n[t],s+=(void 0!==e[h]&&void 0!==e[h].$uidMap[l]?e[h].$uidMap[l].$numTokenOccurrences:0)*d}return s}}}]),e}()},sWty:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Dl3+");Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return i.AllSubstringsIndexStrategy}}),Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return i.ExactWordIndexStrategy}}),Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return i.PrefixIndexStrategy}});var n=r("BQ5h");Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return n.CaseSensitiveSanitizer}}),Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return n.LowerCaseSanitizer}});var o=r("eOXs");Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return o.TfIdfSearchIndex}}),Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}});var s=r("7NDX");Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return s.SimpleTokenizer}}),Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return s.StemmingTokenizer}}),Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return s.StopWordsTokenizer}});var a=r("aNTK");Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return a.Search}});var c=r("HUcV");Object.defineProperty(t,"StopWordsMap",{enumerable:!0,get:function(){return c.StopWordsMap}});var u=r("Fga3");Object.defineProperty(t,"TokenHighlighter",{enumerable:!0,get:function(){return u.TokenHighlighter}})},v7rN:function(e,t,r){"use strict";var i=r("sWty"),n=r("IGfZ"),o=r("mjri"),s=r("ox06");const a=new RegExp("[⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎]|[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ|0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]+[̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯|']*[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]*","gi");class c{constructor(...e){this.chain=e}compare(e,t){for(let r=0;r<this.chain.length;r++){const i=this.chain[r].compare(e,t);if(0!==i)return i}return 0}}class u{constructor(e){this.query=e}compare(e,t){const r=e.ascii&&-1!==e.ascii.indexOf(this.query),i=t.ascii&&-1!==t.ascii.indexOf(this.query);return r&&!i?-1:!r&&i?1:0}}class l{constructor(e){this.colonQuery=`:${e}:`,this.typeComparator=new h(!0)}compare(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0}}class h{constructor(e){this.typeToNumber=e?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}compare(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)}emojiTypeToOrdinal(e){let t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t}}class d{constructor(e){this.positionLookup=new Map,e.map((e,t)=>this.positionLookup.set(e,t+1))}compare(e,t){if(!e.id||!t.id)return 0;return this.getPositionInOrder(e)-this.getPositionInOrder(t)}getPositionInOrder(e){let t=e.id?e.id:"0";Object(o.h)(e)&&(t=e.baseId);const r=this.positionLookup.get(t);return r||n.a}}class f{constructor(e,t){if(this.query=e,!t)throw new Error("propertyToCompare is required");this.propertyName=t}getScore(e){const t=e[this.propertyName],r=t?t.indexOf(this.query):n.a;return-1===r?n.a:r}compare(e,t){return this.getScore(e)-this.getScore(t)}}class m{constructor(){}static get Instance(){return this.INSTANCE||(this.INSTANCE=new this)}compare(e,t){return(e.order?e.order:n.a)-(t.order?t.order:n.a)}}class p{constructor(){}static get Instance(){return this.INSTANCE||(this.INSTANCE=new this)}compare(e,t){return e.shortName.localeCompare(t.shortName)}}var g=r("Czhu");class y{constructor(e){if(e.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(e.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=e.maxDuplicates*e.minUniqueItems,this.perItemSize=e.maxDuplicates,this.createEmptyState()}enqueue(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}getItemsOrderedByDuplicateCount(){return this.itemsOrderedByFrequency}clear(){this.createEmptyState()}bulkEnqueue(e){e.map(e=>this.enqueueWithoutOrdering(e)),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}getItems(){return this.items}createEmptyState(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array}enqueueWithoutOrdering(e){const t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)}orderItemsByFrequency(){return Array.from(this.itemCountMap.entries()).sort((e,t)=>t[1]-e[1]).map(e=>e[0])}decrementCount(e){let t=this.itemCountMap.get(e);t&&(t--,t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))}removeFirstOccurrence(e){const t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))}remove(){const e=this.items.shift();return void 0!==e&&this.decrementCount(e),e}add(e){this.items.push(e);const t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)}}var v=r("NubX");class b extends y{constructor(e){super(e),this.storage=e.storage,this.prefixedStorageKey=`${e.storagePrefix}.${b.storageKey}`,this.load()}enqueue(e){super.enqueue(e),this.save()}clear(){super.clear(),this.storage.removeItem(this.prefixedStorageKey)}load(){const e=this.storage.getItem(this.prefixedStorageKey);if(e)try{const t=JSON.parse(e);this.bulkEnqueue(t)}catch(t){Object(v.a)(`Error parsing the queue stored as ${this.prefixedStorageKey} key from storage`,t)}}save(){const e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(t){Object(v.a)("Error saving the queued items as "+this.prefixedStorageKey,t)}}}b.storageKey="lastUsed";class j{constructor(e=!0){const t=j.queueOptions;if(e&&t.storage){const e=Object(g.a)(Object(g.a)({},t),{},{storage:t.storage});this.queue=new b(e)}else this.queue=new y(t);this.gateway=new w(10)}recordUsage(e){let t=e.id;t&&(Object(o.h)(e)&&(t=e.baseId),this.gateway.submit(()=>{t&&this.queue.enqueue(t)}))}getOrder(){return this.queue.getItemsOrderedByDuplicateCount()}clear(){this.queue.clear()}}j.queueOptions={storage:"undefined"!=typeof window&&window.localStorage,storagePrefix:n.k,maxDuplicates:25,minUniqueItems:5};class w{constructor(e){if(e<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=e,this.count=0}submit(e){if(this.count>=this.maximumPermitted)return!1;this.count++;return window.setTimeout(()=>{try{e()}finally{this.completed()}}),!0}completed(){this.count--}}r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return E}));class S{tokenize(e){return this.tokenizeAsTokens(e).map(e=>e.token)}tokenizeAsTokens(e){let t,r=[];for(a.lastIndex=0;null!==(t=a.exec(e));)t[0]&&r.push({token:t[0],start:t.index});return r}}const k=(e,t,r)=>{const i=t(e);r.has(i)||r.set(i,[]);const n=r.get(i);if(n&&n.push(e),Object(o.g)(e)){const i=e.skinVariations;i&&i.forEach(e=>k(e,t,r))}},_=(e,t)=>{const r=e.get(t);if(r&&r.length)return r[r.length-1]},O=(e,t)=>{if(Object(o.g)(e)&&t){const r=t.skinTone;if(r&&e.skinVariations&&e.skinVariations.length){const t=e.skinVariations[r-1];if(t)return t}}return e};class E{constructor(e,t){this.emojis=e,this.initMembers(t)}all(){const e={sort:s.a.None};return this.search("",e)}search(e,t){let r=[];const{nameQuery:i,asciiQuery:n}=((e="")=>0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""})(e);return i?(r=this.fullSearch.search(i),n&&(r=this.withAsciiMatch(n,r))):r=this.getAllSearchableEmojis(),r=this.applySearchOptions(r,e,t),{emojis:r,query:e}}findAllMatchingShortName(e){return this.shortNameMap.get(e)||[]}findByShortName(e){return _(this.shortNameMap,e)}findById(e){return _(this.idMap,e)}findByAsciiRepresentation(e){return this.asciiMap.get(e)}findInCategory(e){return e===n.j?this.getFrequentlyUsed():this.all().emojis.filter(t=>t.category===e)}addUnknownEmoji(e){this.emojis=[...this.emojis,e],this.fullSearch.addDocuments([e]),this.addToMaps(e),this.addToDynamicCategories(e)}getAsciiMap(){return this.asciiMap}getFrequentlyUsed(e){let t=this.usageTracker.getOrder().map(e=>this.findById(e)).filter(e=>void 0!==e);return e&&(t=this.applySearchOptions(t,"",e)),t}getDynamicCategoryList(){return this.dynamicCategoryList.slice()}used(e){this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(n.j)&&window.setTimeout(()=>{this.dynamicCategoryList.push(n.j)})}delete(e){const t=((e,t)=>{const r=t.id;let i=-1;return e.forEach((e,n)=>{(e.id&&e.id===r||!e.id&&!r&&e.shortName===t.shortName)&&(i=n)}),i})(this.emojis,e);-1!==t&&(this.emojis.splice(t,1),this.initMembers(this.usageTracker))}withAsciiMatch(e,t){let r=t;const i=this.findByAsciiRepresentation(e);return i&&(r=t.filter(e=>e.id!==i.id),r=[i,...r]),r}applySearchOptions(e,t,r){let i;return r||(r={}),void 0===r.sort&&(r.sort=s.a.Default),r.sort===s.a.Default?i=function(e,t){const r=e?e.replace(/:/g,"").toLowerCase().trim():void 0,i=[];e&&i.push(new u(e)),r&&i.push(new l(r)),t&&t.length&&i.push(new d(t)),r&&i.push(new f(r,"shortName"),new f(r,"name")),i.push(m.Instance,p.Instance);const n=new c(...i);return n.compare=n.compare.bind(n),n}(t,this.usageTracker.getOrder()):r.sort===s.a.UsageFrequency&&(i=function(e){const t=new c(new d(e),new h,m.Instance);return t.compare=t.compare.bind(t),t}(this.usageTracker.getOrder())),i&&(i.compare=i.compare.bind(i),e=e.sort(i.compare)),r.limit&&r.limit>0&&(e=e.slice(0,r.limit)),r.skinTone?e.map(e=>O(e,r)):e}initMembers(e){this.usageTracker=e||new j,this.initRepositoryMetadata(),this.initSearchIndex()}initRepositoryMetadata(){this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;const e=new Set;this.emojis.forEach(t=>{e.add(t.category),this.addToMaps(t)}),this.usageTracker.getOrder().length&&e.add(n.j),this.dynamicCategoryList=Array.from(e).filter(e=>-1===n.e.indexOf(e))}initSearchIndex(){this.fullSearch=new i.Search("id"),this.fullSearch.tokenizer=new S,this.fullSearch.searchIndex=new i.UnorderedSearchIndex,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())}getAllSearchableEmojis(){return this.emojis.filter(e=>e.searchable)}addToMaps(e){void 0!==e.order&&-1!==e.order||(e.order=E.defaultEmojiWeight),void 0===e.id&&(e.id=E.defaultEmojiWeight.toString()),k(e,e=>e.shortName,this.shortNameMap),k(e,e=>e.id,this.idMap),e.ascii&&e.ascii.forEach(t=>this.asciiMap.set(t,e))}addToDynamicCategories(e){const t=Object(o.e)(e);-1===n.e.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)}}E.defaultEmojiWeight=1e6},"xew/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWordsTokenizer=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=r("HUcV");t.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return i(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter((function(e){return!n.StopWordsMap[e]}))}}]),e}()}}]);
//# sourceMappingURL=19.DfPdf7VHm8.js.map