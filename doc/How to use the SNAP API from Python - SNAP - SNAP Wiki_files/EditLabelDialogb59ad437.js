(window.webpackJsonp=window.webpackJsonp||[]).push([["EditLabelDialog~b59ad437"],{"+EFR":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("kVkH"),o=n.n(a);const r=/\[messageKey=((?:\w|\.)+){1},\s*args=\[((?:.)+)?\]\]\]/;function i(e){let t="",n="";const a=[];if("object"==typeof e&&e.message&&(t=e.message),"string"==typeof t&&t.indexOf("messageKey")>=0&&r.test(t)){const e=r.exec(t);n=e[1];const i=e[2]?e[2].split(","):[];i&&(a[0]=o()(i),a[1]=i.slice(1).join(", "))}return{message:t,messageKey:n,args:a}}},"2lyS":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("Czhu"),o=n("ERkP"),r=n("RjSO"),i=n("mTqE");function s({fn:e,action:t,componentName:n,packageName:s,packageVersion:l,analyticsData:c}){const{createAnalyticsEvent:d}=Object(r.a)(),u=Object(i.a)(c),b=Object(i.a)(e);return Object(o.useCallback)(e=>{const o=d({action:t,actionSubject:n,attributes:{componentName:n,packageName:s,packageVersion:l}}),r=Object(a.a)({componentName:n,packageName:s,packageVersion:l},u.current);o.context.push(r);const i=o.clone();i&&i.fire("atlaskit"),b.current(e,o)},[t,n,s,l,d,u,b])}},"3d8H":function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),r=n("l1C2"),i=n("PLaw"),s=n.n(i),l=n("HMAF"),c=n.n(l),d=n("gHio"),u=n.n(d),b=n("EFzz"),p=n("BMbf"),g=n("2lyS");const h="normal";var f=n("3IV/");const m={error:{light:f.R400,dark:f.R300},info:{light:f.N500,dark:f.N500},normal:{light:f.N0,dark:f.DN50},success:{light:f.G400,dark:f.G300},warning:{light:f.Y200,dark:f.Y300}},O=(e,t)=>m[e][t],j=f.N60A,v={error:{light:f.N0,dark:f.DN40},info:{light:f.N0,dark:f.DN600},normal:{light:f.N500,dark:f.DN600},success:{light:f.N0,dark:f.DN40},warning:{light:f.N700,dark:f.DN40}},x=(e,t)=>v[e][t],k=f.N50A,y={error:{light:f.N40,dark:f.N40},info:{light:f.N40,dark:f.N40},normal:{light:f.B100,dark:f.B100},success:{light:f.N40,dark:f.N40},warning:{light:f.N200,dark:f.N200}},C=(e,t)=>y[e][t],w={success:{light:"rgba(255, 255, 255, 0.08)",dark:f.N30A},info:{light:"rgba(255, 255, 255, 0.08)",dark:"rgba(255, 255, 255, 0.08)"},error:{light:"rgba(255, 255, 255, 0.08)",dark:f.N30A},warning:{light:f.N30A,dark:f.N30A},normal:{light:"none",dark:"none"}},L={success:{light:f.N0,dark:f.DN40},info:{light:f.N0,dark:f.DN600},error:{light:f.N0,dark:f.DN600},warning:{light:f.N700,dark:f.DN40},normal:{light:f.B400,dark:f.B100}},E=(e,t)=>w[e][t],N=(e,t)=>L[e][t];var I=n("xafO"),R=n("pwfR"),S=n("b6XK");const D=5*Object(p.h)();var A=({children:e,isExpanded:t,testId:n})=>Object(r.f)("div",{"aria-hidden":!t,css:Object(r.e)("max-height:",t?150:0,"px;transition:max-height 0.3s;display:flex;flex:1 1 100%;flex-direction:column;justify-content:center;min-width:0;padding:0 0 0 ",D,"px;"),"data-testid":n&&n+"-expander"},Object(r.f)(R.a,{appear:!0},t&&Object(r.f)(S.a,null,t=>Object(r.f)("div",Object.assign({},t),e)))),M=n("zJ/j");const B=Object(p.h)(),z=2*B,P=B/4;var T=e=>{const{appearance:t=h,actions:n=[],linkComponent:a,mode:o,testId:i}=e;if(!n.length)return null;const s=t!==h;return Object(r.f)("div",{css:Object(r.e)("display:flex;flex-wrap:wrap;padding-top:",B,"px;transform:",t===h?`translateX(-${P}px)`:0,";align-items:center;"),"data-testid":i&&i+"-actions"},n.map((e,n)=>[n&&!s?Object(r.f)("div",{css:Object(r.e)("text-align:center;display:inline-block;width:",z,"px;"),key:n+.5},"Â·"):"",Object(r.f)(M.a,{onClick:e.onClick,href:e.href,target:e.target,appearance:s?"default":"link",component:a,spacing:"compact",testId:e.testId,key:n,css:Object(r.e)("&&,a&&{margin-left:",n&&s?B:0,"px;font-weight:500;padding:0 ","normal"===t?0:B,"px !important;background:",E(t,o),";color:",N(t,o)," !important;}&&:focus,a&&:focus{box-shadow:0 0 0 2px ",C(t,o),";}&&:hover,&&:active,a&&:hover,a&&:active{text-decoration:underline;}")},e.content)]))},V=n("dKzH");function H(){}const $={componentName:"flag",packageName:I.a,packageVersion:I.b},K=Object(p.h)(),F=2*K,W=4*K;t.a=e=>{const{actions:t=[],appearance:n=h,icon:i,title:l,description:d,linkComponent:f,onMouseOver:m,onFocus:v=H,onMouseOut:y,onBlur:w=H,testId:L,id:E,analyticsContext:N}=e,{onDismissed:I=H,dismissAllowed:R}=Object(V.b)(),S=R(E),[D,M]=Object(o.useState)(!1),B=Object(g.a)(Object(a.a)({fn:I,action:"dismissed",analyticsData:N},$)),z=n!==h,P=Object(o.useCallback)(({mode:e})=>{if(!z&&!S)return null;if(z&&!d&&!t.length)return null;let a=u.a,o="Dismiss flag",i=()=>{S&&B(E)},l="small",b=L&&L+"-dismiss";return z&&(a=D?c.a:s.a,o="Toggle flag body",i=()=>M(!D),l="large",b=L&&L+"-toggle"),Object(r.f)("button",{css:Object(r.e)("appearance:none;background:none;border:none;border-radius:",Object(p.c)(),"px;color:",x(n,e),";cursor:pointer;flex:0 0 auto;line-height:1;margin-left:",K,"px;padding:0;white-space:nowrap;&:focus{outline:none;box-shadow:0 0 0 2px ",C(n,e),";}"),"aria-expanded":D,onClick:i,"data-testid":b,type:"button"},Object(r.f)(a,{label:o,size:l}))},[t.length,n,d,E,z,S,D,B,L]),Q=Object(o.useCallback)(e=>{e.preventDefault()},[]);Object(o.useEffect)(()=>{z&&D&&!d&&!t.length&&M(!1)},[t.length,d,z,D]);const _={onMouseOver:m,onFocus:Object(g.a)(Object(a.a)({fn:v,action:"focused",analyticsData:N},$)),onMouseOut:y,onBlur:Object(g.a)(Object(a.a)({fn:w,action:"blurred",analyticsData:N},$))},J=P;let q="0 20px 32px -8px "+k;return z||(q=`0 0 1px ${j}, ${q}`),Object(r.f)(b.a.Consumer,null,e=>{const a=e.mode,o=x(n,a);return Object(r.f)("div",Object.assign({css:Object(r.e)("background-color:",O(n,a),";border-radius:",Object(p.c)(),"px;box-sizing:border-box;box-shadow:",q,";color:",o,";padding:",F,"px;transition:background-color 200ms;width:100%;z-index:",p.i.flag(),";&:focus{outline:none;box-shadow:0 0 0 2px ",C(n,a),";}"),role:"alert",tabIndex:0,onMouseDown:Q,"data-testid":L},_),Object(r.f)("div",{css:Object(r.e)("display:flex;align-items:center;height:",W,"px;")},i,Object(r.f)("span",{css:Object(r.e)("color:",o,";font-weight:600;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0 0 ",F,"px;")},l),Object(r.f)(J,{mode:a})),Object(r.f)(A,{isExpanded:!z||D,testId:L},d&&Object(r.f)("div",{css:Object(r.e)("color:",o,";word-wrap:break-word;overflow:auto;max-height:100px;"),"data-testid":L&&L+"-description"},d),Object(r.f)(T,{actions:t,appearance:n,linkComponent:f,testId:L,mode:a})))})}},EVY7:function(e){e.exports=JSON.parse('{"a":"@atlaskit/tag","b":"10.0.4"}')},HMAF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(o.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.221 9.322l-2.929 2.955a1.009 1.009 0 0 0 0 1.419.986.986 0 0 0 1.405 0l2.298-2.317 2.307 2.327a.989.989 0 0 0 1.407 0 1.01 1.01 0 0 0 0-1.419l-2.94-2.965A1.106 1.106 0 0 0 11.991 9c-.279 0-.557.107-.77.322z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronUpIcon";var l=s;t.default=l},JByK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd");const o=n.n(a).a`query LabelsQuery($contentId:ID!$refetchQuery:Boolean!$status:[String]){content(id:$contentId status:$status){nodes{id type operations@skip(if:$refetchQuery){operation targetType}labels{count nodes{id label name prefix}}}}}`},K7O5:function(e,t,n){"use strict";var a=n("HbGN"),o=n("ERkP"),r=n.n(o),i=n("A46D"),s=n("/yy9"),l=n("Xcdj");const c=(e,t,n)=>({["entering"===t?"0%":"100%"]:{transform:{top:"translate3d(0, -100%, 0)",right:"translate3d(100%, 0, 0)",bottom:"translate3d(0, 100%, 0)",left:"translate3d(-100%, 0, 0)"}[e],opacity:"inout"===n||"in"===n&&"entering"===t||"out"===n&&"exiting"===t?0:1},["entering"===t?"100%":"0%"]:{transform:"none",opacity:1}});t.a=e=>{let{children:t,enterFrom:n,exitTo:o,fade:d="none",duration:u=s.b,animationTimingFunction:b=(e=>"entering"===e?i.c:i.a)}=e,p=Object(a.a)(e,["children","enterFrom","exitTo","fade","duration","animationTimingFunction"]);return r.a.createElement(l.a,Object.assign({duration:u,enteringAnimation:c(n,"entering",d),exitingAnimation:c(o||n,"exiting",d),animationTimingFunction:b},p),t)}},WB0a:function(e,t,n){"use strict";var a=n("zjfJ"),o=n("ERkP"),r=n.n(o),i=n("gQ5V"),s=(n("aWzz"),n("u6In")),l=n("gScn"),c=n("+EFR"),d=n("JByK"),u=n("icUP"),b=n("H5qd");const p=n.n(b).a`mutation DeleteLabelMutation($contentId:ID!$label:String!){deleteLabel(input:{contentId:$contentId label:$label}){contentId label}}`;var g,h,f=n("L21V"),m=n("cBlm");const O=Object(f.g)({deleteLabelText:{id:"labels.deleteLabel.action",defaultMessage:"Delete Label",description:"Aria label for button to delete label"}}),j=Object(f.h)((h=g=class extends o.Component{constructor(...e){super(...e),Object(a.a)(this,"onBeforeRemoveAction",()=>{const{deleteLabel:e}=this.props;return e(),!0})}render(){const{name:e,prefix:t,isDeletable:n,href:a,intl:{formatMessage:o}}=this.props,i=t&&"global"!==t&&"team"!==t,s=o(O.deleteLabelText);return r.a.createElement(m.a,{text:`${i?t+":":""}${e}`,href:a,onBeforeRemoveAction:n?this.onBeforeRemoveAction:null,isRemovable:!0,removeButtonLabel:n?s:null})}},Object(a.a)(g,"defaultProps",{isDeletable:!1}),h));var v,x;n.d(t,"a",(function(){return k}));const k=Object(s.a)()(Object(l.a)((x=v=class extends o.Component{constructor(...e){super(...e),Object(a.a)(this,"sendLabelDeletedAnalyticsEvent",()=>{const{contentId:e,name:t}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"label",source:"labelComponent",attributes:{componentVersion:"v2",contentId:e,name:t}}}).fire()}),Object(a.a)(this,"generateDeleteLabel",e=>{const{contentId:t,name:n}=this.props;return()=>{e({variables:{contentId:t,label:n}})}}),Object(a.a)(this,"onError",e=>{this.props.onError(Object(c.a)(e))})}render(){const{contentId:e,spaceKey:t,prefix:n,name:a,isDeletable:o}=this.props;return r.a.createElement(i.a,{mutation:p,refetchQueries:[{query:d.a,variables:{contentId:e,refetchQuery:!0,status:u.a}}],onCompleted:this.sendLabelDeletedAnalyticsEvent,onError:this.onError},e=>{const i=`/wiki/label/${t}/${a}`;return r.a.createElement(j,{href:i,prefix:n,name:a,isDeletable:o,deleteLabel:this.generateDeleteLabel(e)})})}},Object(a.a)(v,"defaultProps",{onError:()=>{}}),x)))},bqd3:function(e,t,n){"use strict";n("HbGN"),n("cxan"),n("fGyu"),n("pkwY"),n("9fIP"),n("MMYH"),n("K/z8"),n("sRHE"),n("8K1b"),n("pWxA"),n("zjfJ"),n("ERkP"),n("l1C2"),n("7nmT"),n("aWzz"),n("4wDe");var a=n("fjh6"),o=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),r=n("ogNk"),i=n("lQet"),s=Object(i.b)(a.a),l=Object(o.a)(s),c=Object(r.b)(l),d=n("YxWl");t.a=Object(d.a)(c)},cBlm:function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),r=n.n(o),i=n("l1C2"),s=n("W071"),l=n("WCbN"),c=n.n(l),d=n("pwfR"),u=n("A46D"),b=n("/yy9"),p=n("ZIFe");var g=n("1jzs");var h=({children:e,duration:t=b.c,onFinish:n})=>{const[a,r]=(()=>{const e=Object(o.useRef)(null),t=Object(o.useCallback)(t=>{e.current=t},[]);return[e.current,t]})(),i=Object(d.b)(),s=Object(p.a)(),l=Object(p.b)(),c=i.isExiting?"exiting":"entering";return Object(g.a)(()=>{if(i.isExiting&&a){const e={width:a.offsetWidth+"px",height:a.offsetHeight+"px",boxSizing:"border-box",willChange:"width,margin"};Object.assign(a.style,e),s(()=>{s(()=>{const e={width:"0px",margin:"0px",transitionTimingFunction:u.a,transitionDuration:t+"ms",transitionProperty:"width,margin"};Object.assign(a.style,e),l(()=>{i.onFinish&&i.onFinish(),n&&n("exiting")},t)})})}}),e({ref:r},c)},f=n("EFzz"),m=n("3IV/");const O={standard:{light:m.N700,dark:m.DN600},green:{light:m.N800,dark:m.N800},purple:{light:m.N800,dark:m.N800},red:{light:m.N800,dark:m.N800},yellow:{light:m.N800,dark:m.N800},grey:{light:m.N0,dark:m.N0},teal:{light:m.N800,dark:m.N800},blue:{light:m.N800,dark:m.N800},tealLight:{light:m.N500,dark:m.N500},blueLight:{light:m.B500,dark:m.B500},greenLight:{light:m.G500,dark:m.G500},purpleLight:{light:m.P500,dark:m.P500},redLight:{light:m.N500,dark:m.N500},yellowLight:{light:m.N500,dark:m.N500},greyLight:{light:m.N500,dark:m.N500}},j={standard:{light:m.N20,dark:m.DN100A},green:{light:m.G200,dark:m.G200},purple:{light:m.P100,dark:m.P100},red:{light:m.R100,dark:m.R100},yellow:{light:m.Y200,dark:m.Y200},grey:{light:m.N500,dark:m.N500},teal:{light:m.T200,dark:m.T200},blue:{light:m.B100,dark:m.B100},tealLight:{light:m.T100,dark:m.T100},blueLight:{light:m.B75,dark:m.B75},greenLight:{light:m.G100,dark:m.G100},purpleLight:{light:m.P75,dark:m.P75},redLight:{light:m.R75,dark:m.R75},yellowLight:{light:m.Y100,dark:m.Y100},greyLight:{light:m.N30,dark:m.N30}},v={light:m.B100,dark:m.B75},x={light:m.R300,dark:m.R200},k={light:m.B100,dark:m.B75},y={light:m.B300,dark:m.B200},C=Object(a.a)(Object(a.a)({},O),{},{standard:{light:m.R500,dark:m.DN30}}),w=Object(a.a)(Object(a.a)({},j),{},{standard:{light:m.R50,dark:m.R100}}),L=(e,t)=>j[e||"standard"][t],E=(e,t)=>C[e||"standard"][t],N=(e,t)=>w[e||"standard"][t],I=(e,t)=>({backgroundColor:L(e,t),backgroundColorHover:N(e,t),textColor:((e,t)=>O[e||"standard"][t])(e,t),textColorHover:E(e,t)}),R=(e,t)=>({chromeColors:I(e,t),chromeLinkColors:((e,t)=>({hoverBackgroundColorRemoval:N(e,t),hoverTextColorRemoval:E(e,t),focusRingColor:v[t]}))(e,t),buttonColors:((e,t)=>({backgroundColor:L(e,t),backgroundColorHover:N(e,t),focusBoxShadowColor:k[t],hoverBoxShadowColor:x[t]}))(e,t),linkHoverColor:((e,t)=>"standard"!==e?"inherit":y[t])(e,t)});var S=n("EVY7"),D=n("HbGN");var A=r.a.forwardRef((function(e,t){let{before:n,contentElement:a,after:o,testId:r,role:s,tagCss:l}=e,c=Object(D.a)(e,["before","contentElement","after","testId","role","tagCss"]);return Object(i.f)("span",Object.assign({},c,{role:s,ref:t,css:l,"data-testid":r}),n,a,o)})),M=n("BMbf");const B=Object(M.h)(),z=Object(M.c)(),P=Object(M.f)(),T=2.5*B,V=T+"px",H=25*B,$=H-T,K=z+"px",F=B/2+"px",W=B/2+"px",Q={borderRadius:""+(T/2+"px")},_={position:"absolute",left:0,borderRadius:""+K,alignItems:"center",display:"flex",justifyContent:"center"},J=({backgroundColor:e,backgroundColorHover:t,textColor:n,textColorHover:a})=>({backgroundColor:e,color:n,"&:hover":{backgroundColor:t,color:a},"& button:hover":{backgroundColor:e,color:n},"&>span:hover":{backgroundColor:e,color:n},"&>a:hover":{backgroundColor:e},borderRadius:""+K,cursor:"default",display:"inline-flex",position:"relative",height:""+V,lineHeight:1,margin:""+F,padding:0,overflow:"hidden"}),q=({hoverBackgroundColorRemoval:e,hoverTextColorRemoval:t,focusRingColor:n})=>({"&:hover":{backgroundColor:e,color:t},"&>a:focus":{boxShadow:"0 0 0 2px "+n,outline:"none"}}),Y={paddingRight:""+(2*B+"px"),maxWidth:$-T+"px"},G={paddingLeft:""+(T+"px")},U={fontSize:P+"px",fontWeight:"normal",lineHeight:1,paddingLeft:W,paddingRight:W,paddingTop:"2px",paddingBottom:"2px",borderRadius:K,maxWidth:$+"px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},X=(e,t)=>Object(a.a)(Object(a.a)({},U),{},{color:""+("standard"!==e?"inherit":null),textDecoration:""+("standard"===e?"none":"underline"),"&:hover":{color:t},"&:focus":{outline:"none"}});var Z=({elemBefore:e,isRounded:t})=>e?Object(i.f)("span",{css:[_,t?Q:void 0]},e):null;var ee=e=>{const{elemBefore:t=null,isRemovable:n=!0,text:a="",color:o="standard",href:r,isRounded:s,isLink:l,linkComponent:c="a",linkHoverColor:d}=e;return l?Object(i.f)(c,{href:r,css:[X(o,d),t?G:void 0,n?Y:void 0]},a):Object(i.f)("span",{css:[U,s?Q:void 0,t?G:void 0,n?Y:void 0]},a)};function te(...e){return t=>{e.forEach(e=>{e&&("function"==typeof e?e(t):e.current=t)})}}const ne=({backgroundColor:e,backgroundColorHover:t,focusBoxShadowColor:n,hoverBoxShadowColor:a})=>({position:"absolute",right:0,backgroundColor:e,alignItems:"center",alignSelf:"center",appearance:"none",border:"none",borderRadius:K,color:m.N500,display:"flex",justifyContent:"center",height:"16px",margin:0,padding:0,cursor:"pointer","&::-moz-focus-inner":{border:0,margin:0,padding:0},"&:focus":{boxShadow:`0 0 0 2px ${n} inset`,outline:"none"},"&:hover":{backgroundColor:t+" !important",color:m.R500}}),ae=()=>!0,oe=()=>{},re=Object(o.forwardRef)((e,t)=>{const[n,r]=Object(o.useState)(!1),{appearance:l="default",elemBefore:u=null,isRemovable:b=!0,text:p="",color:g="standard",mode:f="light",href:m,removeButtonLabel:O,testId:j,onBeforeRemoveAction:v=ae,onAfterRemoveAction:x=oe}=e,k="rounded"===l,y=Boolean(m),C=Object(s.a)(x,{action:"removed",actionSubject:"tag",attributes:{componentName:"tag",packageName:S.a,packageVersion:S.b}},"atlaskit"),w=Object(o.useCallback)(()=>{C(p),r(!0)},[C,p]),L=Object(o.useCallback)(()=>{v&&v()&&w()},[w,v]),E=Object(o.useCallback)(e=>{(" "===e.key||"Enter"===e.key)&&(e.stopPropagation(),L())},[L]),{chromeColors:N,chromeLinkColors:I,buttonColors:D,linkHoverColor:M}=Object(o.useMemo)(()=>R(g,f),[g,f]),B=[q(I),k?Q:void 0],z=[J(Object(a.a)({},N)),k?Q:void 0],P=b?Object(i.f)("button",{css:[ne(Object(a.a)({},D)),k?Q:void 0],tabIndex:0,"aria-label":O,onClick:L,onKeyPress:E,type:"button","data-testid":"close-button-"+j},Object(i.f)(c.a,{label:"close tag",size:"small"})):void 0,T=[z,y?B:void 0],V=Object(i.f)(ee,Object.assign({},e,{isRemovable:b,isLink:y,isRounded:k,linkHoverColor:M}));return Object(i.f)(d.a,null,!n&&Object(i.f)(h,null,e=>Object(i.f)(A,{ref:te(e.ref,t),testId:j,tagCss:T,role:y?"link":void 0,before:Object(i.f)(Z,{isRounded:k,elemBefore:u}),contentElement:V,after:P})))}),ie=Object(o.memo)(Object(o.forwardRef)((e,t)=>Object(i.f)(f.a.Consumer,null,n=>Object(i.f)(re,Object.assign({},e,{mode:n.mode,ref:t})))));t.a=ie},dKzH:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var a=n("ERkP"),o=n("l1C2"),r=n("K7O5"),i=n("A46D"),s=n("pwfR"),l=n("PEqI"),c=n("BMbf");const d=Object(c.h)(),u=50*d,b=6*d,p=10*d,g=Object(a.createContext)({dismissAllowed:()=>!1});function h(){return Object(a.useContext)(g)}const f=`\n  bottom: 0;\n  position: absolute;\n  width: ${u}px;\n  transition: transform 400ms ease-in-out;\n\n  @media (max-width: 560px) {\n    width: 100vw;\n  }\n\n  &:first-of-type {\n    transition: none;\n    transform: translate(0,0);\n  }\n\n  &:nth-of-type(n + 2) {\n    animation-duration: 0ms;\n    transform: translateX(0) translateY(100%) translateY(${2*d}px);\n  }\n\n  /* Layer the 'primary' flag above the 'secondary' flag */\n  &:nth-of-type(1) {\n    z-index: 5;\n  }\n  &:nth-of-type(2) {\n    z-index: 4;\n  }\n\n  &:nth-of-type(n + 4) {\n    visibility: hidden;\n  }\n`;var m={name:"p64dor",styles:"border:0;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"};t.a=e=>{const{label:t="Flag notifications",labelTag:n="h2",children:d,onDismissed:u}=e,h=Array.isArray(d)?d.length>0:Boolean(d);let O=null;h&&d&&(O=Array.isArray(d)?d[0].props.id:d.props.id);const j={onDismissed:u,dismissAllowed:e=>e===O};return Object(o.f)(g.Provider,{value:j},Object(o.f)(l.a,{zIndex:c.i.flag()},Object(o.f)("div",{css:Object(o.e)("bottom:",b,"px;left:",p,"px;position:fixed;z-index:",c.i.flag(),";@media (max-width:560px){bottom:0;left:0;}")},h?Object(o.f)(n,{css:m},t):null,Object(o.f)(s.a,{appear:!1},!!d&&a.Children.map(d,(e,t)=>{const n=0===t,{id:a}=e.props;return Object(o.f)(r.a,{key:a,enterFrom:"left",fade:"inout",duration:400,animationTimingFunction:()=>i.a},t=>Object(o.f)("div",Object.assign({},t,{css:Object(o.e)(f," ",n?"\n                    && + * {\n                     transform: translate(0, 0);\n                     transition-duration: 200ms\n                   }":"")}),e))})))))}},icUP:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["current","draft"]},lQet:function(e,t,n){"use strict";n.d(t,"b",(function(){return x}));n("HbGN");var a=n("cxan"),o=n("fGyu"),r=n("pkwY"),i=n("9fIP"),s=n("MMYH"),l=n("K/z8"),c=n("sRHE"),d=n("8K1b"),u=n("pWxA"),b=n("zjfJ"),p=n("ERkP"),g=n.n(p),h=(n("l1C2"),n("7nmT"),n("aWzz"),n("4wDe"),n("cWvm")),f=n("fjh6"),m=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),a=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return a===n||o===n},j={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return O(e,t)}))||n.some((function(t){return O(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},v=Object(r.a)({allowCreateWhileLoading:!1,createOptionPosition:"last"},j),x=function(e){var t,n;return n=t=function(t){function n(e){var t;Object(i.a)(this,n),t=Object(l.a)(this,Object(c.a)(n).call(this,e)),Object(b.a)(Object(u.a)(Object(u.a)(t)),"select",void 0),Object(b.a)(Object(u.a)(Object(u.a)(t)),"onChange",(function(e,n){var a=t.props,r=a.getNewOptionData,i=a.inputValue,s=a.isMulti,l=a.onChange,c=a.onCreateOption,d=a.value,u=a.name;if("select-option"!==n.action)return l(e,n);var b=t.state.newOption,p=Array.isArray(e)?e:[e];if(p[p.length-1]!==b)l(e,n);else if(c)c(i);else{var g=r(i,i),f={action:"create-option",name:u};l(s?[].concat(Object(o.a)(Object(h.f)(d)),[g]):g,f)}}));var a=e.options||[];return t.state={newOption:void 0,options:a},t}return Object(d.a)(n,t),Object(s.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,a=e.formatCreateLabel,r=e.getNewOptionData,i=e.inputValue,s=e.isLoading,l=e.isValidNewOption,c=e.value,d=e.options||[],u=this.state.newOption;u=l(i,Object(h.f)(c),d)?r(i,a(i)):void 0,this.setState({newOption:u,options:!t&&s||!u?d:"first"===n?[u].concat(Object(o.a)(d)):[].concat(Object(o.a)(d),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return g.a.createElement(e,Object(a.a)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),n}(p.Component),Object(b.a)(t,"defaultProps",v),n},k=x(f.a),y=Object(m.a)(k);t.a=y},p7S1:function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),o=n.n(a),r=n("gQ5V"),i=(n("aWzz"),n("icUP")),s=n("H5qd"),l=n.n(s);const c=l.a`query EditLabelDialogQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id labels{count nodes{id label name prefix}}}}}`,d=l.a`mutation AddLabelsMutation($contentId:ID!$labels:[LabelInput!]!){addLabels(input:{contentId:$contentId labels:$labels}){labels{count nodes{id prefix name label}}}}`;var u=n("Czhu"),b=n("zjfJ"),p=n("L21V"),g=n("nnRT"),h=n.n(g),f=n("KsTJ"),m=n("kbI0"),O=n("MqVv"),j=n("zJ/j"),v=n("3d8H"),x=n("1whV"),k=n.n(x),y=n("3IV/"),C=n("u6In"),w=n("+EFR"),L=n("WB0a"),E=n("wej5"),N=n("ymuQ"),I=n("gwLK"),R=n("RNvQ"),S=n.n(R),D=n("6+Wb"),A=n("bqd3");const M=l.a`query LabelSearchQuery($contentId:ID!$searchText:String!){contentLabelSearch(contentId:$contentId searchText:$searchText){suggestedLabels{prefix name id label}otherLabels{prefix name id label}}}`,B={DropdownIndicator:null,NoOptionsMessage:()=>null,Menu:e=>e.options&&e.options.length?o.a.createElement(D.z.Menu,Object(u.a)({},e),e.children):null},z={menuList:e=>Object(u.a)(Object(u.a)({},e),{},{maxHeight:"70"})};class P extends a.Component{constructor(...e){super(...e),Object(b.a)(this,"onChange",e=>{const t=e.map(e=>({name:e.value,prefix:e.prefix||""}));this.props.onSelectSuggestion(t)}),Object(b.a)(this,"onCreateOption",e=>{this.props.onCreateOption(e)}),Object(b.a)(this,"makeSearchQuery",async e=>{var t;const{apolloClient:n,contentId:a}=this.props,{data:o}=await n.query({query:M,variables:{searchText:e,contentId:a}});let r=(null!=(t=o)&&null!=(t=t.contentLabelSearch)?t.suggestedLabels:t).slice(0,5);if(r.length<5){var i;const e=null!=(i=o)&&null!=(i=i.contentLabelSearch)?i.otherLabels:i;r=r.concat(e.slice(0,5-r.length))}return r}),Object(b.a)(this,"loadOptions",S()((e,t)=>{this.makeSearchQuery(e).then(e=>{t(e.map(e=>({label:e.label,value:e.label})))})},300))}render(){const{inputLabelsValue:e,setSelectInputRef:t}=this.props;return o.a.createElement(A.a,{isClearable:!0,isMulti:!0,cacheOptions:!0,autoFocus:!0,components:B,styles:z,value:(n=e,n.map(e=>({label:e.name,value:e.name}))),onCreateOption:this.onCreateOption,loadOptions:this.loadOptions,allowCreateWhileLoading:this.props.allowCreateWhileLoading,onChange:this.onChange,placeholder:"",ref:t,captureMenuScroll:!1});var n}}Object(b.a)(P,"defaultProps",{allowCreateWhileLoading:!1,setSelectInputRef:()=>{}});class T extends a.Component{render(){const{contentId:e,inputLabelsValue:t,onSelectSuggestion:n,onCreateOption:a,setSelectInputRef:r}=this.props;return o.a.createElement(I.a,null,i=>o.a.createElement(P,{apolloClient:i,contentId:e,onSelectSuggestion:n,onCreateOption:a,inputLabelsValue:t,setSelectInputRef:r}))}}const V=f.default.div`
  align-items: baseline;
  box-sizing: border-box;
  display: flex;
  flex-wrap: wrap;
  padding-top: 20px;
  visibility: visible;
  min-height: 150px;
`,H=f.default.span`
  margin-right: 12px;
  flex-grow: 1;
`,$=f.default.div`
  flex-basis: 100%;
  flex-shrink: 0;
`,K=Object(p.g)({"please.enter.a.label":{id:"labels.error.enterLabel",defaultMessage:"Please enter a label.",description:"User did not select label(s) before submitting"},"label.not.found":{id:"labels.error.notFound",defaultMessage:"Label Not Found",description:"Could not find label to delete"},"label.contains.invalid.chars":{id:"labels.error.invalidChars",defaultMessage:"{0} contains invalid characters ({1}).",description:"Message when user tries to add label with invalid characters"},"label.name.is.too.long":{id:"labels.error.tooLong",defaultMessage:"Label names must be less than {0} characters.",description:"User tried to add label with too many characters"},"only.personal.labels.permitted":{id:"labels.error.onlyPersonal",defaultMessage:"You are only permitted to add personal labels on this page.",description:"User only has permission to add personal labels"},dismissAction:{id:"labels.error.action.dismiss",defaultMessage:"Dismiss",description:"Action to dismiss error message"},errorTitle:{id:"labels.error.title",defaultMessage:"Error",description:"Title of error message"}}),F=Object(C.a)()(Object(p.h)(class extends a.Component{constructor(...e){super(...e),Object(b.a)(this,"state",{inputLabelsValue:[],error:null,isAdding:!1}),Object(b.a)(this,"selectInput",null),Object(b.a)(this,"setSelectInputRef",e=>{this.selectInput=e}),Object(b.a)(this,"sendAddLabelAnalyticsEvent",e=>{const{contentId:t}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"add",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:t,newLabels:e}}}).fire()}),Object(b.a)(this,"onAddLabels",()=>{const{addLabels:e,contentId:t,labels:n}=this.props,{inputLabelsValue:a}=this.state;e({variables:{contentId:t,labels:a},optimisticResponse:{__typename:"Mutation",addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:n.length+a.length,nodes:n.concat(a.map(e=>Object(u.a)(Object(u.a)({},e),{},{id:""+Math.round(-1e6*Math.random()),label:e.name,__typename:"Label"})))}}}}).then(()=>{this.sendAddLabelAnalyticsEvent(a)}).catch(e=>{this.onError(Object(w.a)(e))}),this.selectInput&&this.selectInput.focus(),this.setState({inputLabelsValue:[]})}),Object(b.a)(this,"onSelectSuggestion",e=>{this.setState({inputLabelsValue:e})}),Object(b.a)(this,"onCreateOption",e=>{const{inputLabelsValue:t}=this.state,n=e.trim().split(" ").map(e=>({name:e,prefix:""}));this.setState({inputLabelsValue:[...t,...n]})}),Object(b.a)(this,"closeErrorMessage",()=>{this.setState({error:null})}),Object(b.a)(this,"onError",e=>{this.setState({error:e})})}shouldComponentUpdate(e,t){return!h()(this.props,e)||!h()(this.state,t)}parseErrorMessage(){const{intl:{formatHTMLMessage:e}}=this.props,t=this.state.error;let n="";return t&&"object"==typeof t&&(t.messageKey?n=e(K[t.messageKey],t.args):t.message&&(n=t.message)),n}sendLabelErrorAnalyticsEvent(e){const{contentId:t}=this.props;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"error",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:t,errorMessage:e}}}).fire()}renderErrorMessage(){const e=this.parseErrorMessage();if(e){const{intl:{formatMessage:t}}=this.props;this.sendLabelErrorAnalyticsEvent(e);const n=t(K.errorTitle),a=o.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),r=[{content:t(K.dismissAction),onClick:this.closeErrorMessage}];return o.a.createElement(v.a,{appearance:"error",title:n,actions:r,description:a,icon:o.a.createElement(k.a,{secondaryColor:y.R300}),isDismissAllowed:!0})}return null}renderLabelList(){const{labels:e,spaceKey:t,contentId:n}=this.props,a={onError:this.onError,spaceKey:t,contentId:n,isDeletable:!0};return e&&0!==e.length?e.map(e=>{const t={id:e.id,prefix:e.prefix,name:e.name};return o.a.createElement(L.a,Object(u.a)(Object(u.a)(Object(u.a)({},t),a),{},{key:e.id}))}):null}render(){const{isAdding:e,closeDialog:t,contentId:n}=this.props,{inputLabelsValue:a}=this.state,r={components:{Header:E.a,Footer:N.a},width:"medium",onClose:t,autoFocus:!1};return o.a.createElement(m.b,null,o.a.createElement(O.a,Object(u.a)({},r),this.renderErrorMessage(),o.a.createElement(V,{"data-test-id":"modal-content"},o.a.createElement(H,null,o.a.createElement(T,{contentId:n,inputLabelsValue:a,onSelectSuggestion:this.onSelectSuggestion,onCreateOption:this.onCreateOption,setSelectInputRef:this.setSelectInputRef})),o.a.createElement(j.a,{appearance:"default",isDisabled:e,onClick:this.onAddLabels},o.a.createElement(p.c,{id:"labels.verb.add",defaultMessage:"Add",description:"Action to add a label to content"})),o.a.createElement($,{id:"dialog-label-list",className:"label-list","data-ready":"true"},this.renderLabelList()))))}}));n.d(t,"EditLabelDialog",(function(){return W}));class W extends a.Component{render(){const{contentId:e,spaceKey:t,closeDialog:n}=this.props;return o.a.createElement(r.b,{query:c,variables:{contentId:e,status:i.a},fetchPolicy:"network-only"},({data:a,error:s,loading:l})=>{var u;if(s)return null;const b=(null!=(u=a)&&null!=(u=u.content)&&null!=(u=u.nodes)&&null!=(u=u[0])&&null!=(u=u.labels)?u.nodes:u)||[];return o.a.createElement(r.a,{mutation:d,update:(t,{data:n})=>{var a;const o=null!=(a=n)&&null!=(a=a.addLabels)?a.labels:a,r=t.readQuery({query:c,variables:{contentId:e,status:i.a}});r.content.nodes[0].labels=o,t.writeQuery({query:c,variables:{contentId:e,status:i.a},data:r})}},(a,{loading:r})=>o.a.createElement(F,{labels:b,contentId:e,spaceKey:t,closeDialog:n,addLabels:a,isAdding:r||l}))})}}},wej5:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),o=n.n(a),r=n("cJDk"),i=n("L21V"),s=n("KsTJ"),l=n("3IV/");const c=s.default.h2`
  color: ${l.N800};
`,d=s.default.a`
  color: ${l.B400};
`;class u extends a.PureComponent{renderHelpLink(){return o.a.createElement(d,{href:"https://confluence.atlassian.com/confcloud/use-labels-to-organize-your-content-724764874.html",target:"_blank",rel:"noopener"},o.a.createElement(i.c,{id:"labels.help.link.text",defaultMessage:"Help",description:"Link text to help page"}))}render(){return o.a.createElement("div",null,o.a.createElement(r.e,null,o.a.createElement(c,null,o.a.createElement(i.c,{id:"labels.modal.title",defaultMessage:"Labels",description:"Title for modal to edit content labels"})),this.renderHelpLink()))}}},xafO:function(e){e.exports=JSON.parse('{"a":"@atlaskit/flag","b":"14.0.4"}')},ymuQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("ERkP"),o=n.n(a),r=n("cJDk"),i=n("zJ/j"),s=n("L21V"),l=(n("aWzz"),n("KsTJ")),c=n("3IV/");const d=l.default.span`
  color: ${c.N300};
`,u=o.a.createElement(d,null,o.a.createElement(s.b,{id:"labels.dialog.shortcut.tip",defaultMessage:"Shortcut tip: In page view, pressing <b>{shortcut}</b> also opens this dialog box",values:{shortcut:"l"}}));class b extends a.Component{render(){const{onClose:e}=this.props;return o.a.createElement(r.d,null,u,o.a.createElement(i.a,{appearance:"primary",onClick:e},o.a.createElement(s.c,{id:"labels.dialog.close",defaultMessage:"Close",description:"Verb to close dialog"})))}}}}]);
//# sourceMappingURL=EditLabelDialog~b59ad437.Kzrfn67Wq2.js.map