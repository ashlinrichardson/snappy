/*! License: Jan12oMHzo.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([["initialize-editor-plugins~493df0b3","confluence-template-preview~4134d62c"],{"+1K0":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i={seenCount:0,dontShow:!1},r={seenCount:99,dontShow:!0};class o{static readFromLocalStorage(){try{let e=localStorage.getItem("atlassian.people.context.team.mention.highlight");return e||(localStorage.setItem("atlassian.people.context.team.mention.highlight",JSON.stringify(i)),e=localStorage.getItem("atlassian.people.context.team.mention.highlight")),e?JSON.parse(e):r}catch(e){return r}}static saveToLocalStorage(e){try{localStorage.setItem("atlassian.people.context.team.mention.highlight",JSON.stringify(e))}catch(t){}}}o.markAsDone=()=>{const e=o.readFromLocalStorage();e.dontShow=!0,o.saveToLocalStorage(e)},o.isHighlightEnabled=()=>{const e=o.readFromLocalStorage();return e.seenCount<5&&!e.dontShow},o.registerRender=()=>{const e=o.readFromLocalStorage();return e.seenCount+=1,e.seenCount>5&&(e.dontShow=!0),o.saveToLocalStorage(e),e},o.getSeenCount=()=>o.readFromLocalStorage().seenCount,o.registerCreateLinkClick=o.markAsDone,o.registerTeamMention=o.markAsDone,o.registerClosed=o.markAsDone},"+WIo":function(e,t,n){var i=n("NGBq")("keys"),r=n("9FWt");e.exports=function(e){return i[e]||(i[e]=r(e))}},"/yy9":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const i=100,r=350,o=700},"09V9":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"0On3":function(e,t){t.f={}.propertyIsEnumerable},"0gjq":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=void 0;var r=n("FzbR");function o(e){if(void 0!==e)return"boolean"==typeof e?{capture:e}:e}t.bindAll=function(e,t,n){var s=t.map((function(t){var s=function(e,t){return null==t?e:i(i({},e),{options:i(i({},o(t)),o(e.options))})}(t,n);return r.bind(e,s)}));return function(){s.forEach((function(e){return e()}))}}},"1jzs":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ERkP");const r="undefined"==typeof window?i.useEffect:i.useLayoutEffect},"2kJU":function(e,t,n){"use strict";n.r(t);var i=n("Jygk"),r=n.n(i),o=n("bfgX"),s=n("kw4U"),a=n("cGYM"),c=n("cld1");const l="confluence.editor.autocomplete.fabric.mentions";let u,d=!1;function h(){u=Date.now(),d=!1,Object(o.b)("analytics",{name:l+".trigger",data:{}})}async function p(e,t){const n=m(!1);d=!0,Object(o.b)("analytics",{name:`${l}.${g("insert",n)}`,data:{sessionDurationInMillis:n}});const i={sessionDurationInMillis:n,queryLength:t.queryLength,mentioneeId:Object(a.a)(t.mentioneeId),contentId:Object(a.a)(t.contentId),userType:t.userType,memberCount:t.memberCount,includesYou:t.includesYou};Object(o.b)("analytics",{name:"confluence.spa.editor.autocomplete.fabric.mentions.insert",data:i});(await Object(c.getAnalyticsWebClient)()).sendUIEvent({action:"inserted",actionSubject:"mentionTypeahead",source:"legacyEditor",attributes:i})}function f(){if(!d){const e=m(!0);Object(o.b)("analytics",{name:`${l}.${g("close",e)}`,data:{sessionDurationInMillis:e}})}d=!1}function m(e){let t=-1;return u&&(t=Date.now()-u,e&&(u=null)),t}function g(e,t){return-1===t?e:t<1e3?e+".less.than.1s":t<5e3?e+".less.than.5s":t<1e4?e+".less.than.10s":t<2e4?e+".less.than.20s":e+".more.than.20s"}n.d(t,"triggerEditorPluginsLoaded",(function(){return y}));const b=n("8cd6").default;Object(o.a)("init.rte",()=>{Object(o.a)("mention-autocomplete-on-start",h),Object(o.a)("mention-autocomplete-on-select",p),Object(o.a)("mention-autocomplete-on-death",f)}),Object(o.a)("rte-destroyed",()=>{Object(o.c)("mention-autocomplete-on-death",f),Object(o.c)("mention-autocomplete-on-select",p),Object(o.c)("mention-autocomplete-on-start",h)}),Object(o.a)("rte-pre-resolveplugins",()=>{const e=Object(s.b)();r.a.tinymce.create("tinymce.plugins.MentionsAutoComplete",b),r.a.tinymce.PluginManager.add("fabricmention",r.a.tinymce.plugins.MentionsAutoComplete),e.addTinyMcePluginInit(e=>{e.plugins+=",fabricmention"})});const y=()=>{Object(o.b)("frontend.editor.plugins.resources.loaded")}},"3WEy":function(e,t,n){var i=n("JaYb"),r=n("CwQO"),o=n("r2uX")(!1),s=n("+WIo")("IE_PROTO");e.exports=function(e,t){var n,a=r(e),c=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~o(l,n)||l.push(n));return l}},"44Vk":function(e,t,n){var i=n("DozX"),r=n("uv4k"),o=n("JaYb"),s=n("9FWt")("src"),a=Function.toString,c=(""+a).split("toString");n("XFAF").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(l&&(o(n,s)||r(n,s,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"4CAG":function(e,t,n){"use strict";(function(t){function n(e){var t,n,r,o,s,a,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),s=0,a=(o=e.split("&")).length;s<a;s++)-1<(t=(r=o[s]).indexOf("="))?u(c,d(r.slice(0,t)),d(r.slice(t+1))):r.length&&u(c,d(r),"");else if(i(e))for(s=0,a=e.length;s<a;s++)u(c,(r=e[s])[0],r[1]);else for(n in e)u(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,s=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return a[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(s," "))}function h(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){u(this[l],e,t)},r.delete=function(e){delete this[l][e]},r.get=function(e){var t=this[l];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[l]},r.set=function(e,t){this[l][e]=[""+t]},r.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[l],o=[];for(t in r)for(n=h(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+h(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){i.length&&!(i in n)&&(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,s=[],a=Object.create(null);!o;)t=(n=r.value)[0],s.push(t),t in a||(a[t]=[]),a[t].push(n[1]),o=(r=i.next()).done;for(s.sort(),e=0;e<s.length;e++)this.delete(s[e]);for(e=0;e<s.length;e++)t=s[e],this.append(t,a[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("fRV1"))},"6qOv":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"7zcn":function(e,t,n){var i=n("DozX"),r=n("XFAF"),o=n("uv4k"),s=n("44Vk"),a=n("EkxP"),c=function(e,t,n){var l,u,d,h,p=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,b=e&c.B,y=f?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,v=f?r:r[t]||(r[t]={}),w=v.prototype||(v.prototype={});for(l in f&&(n=t),n)d=((u=!p&&y&&void 0!==y[l])?y:n)[l],h=b&&u?a(d,i):g&&"function"==typeof d?a(Function.call,d):d,y&&s(y,l,d,e&c.U),v[l]!=d&&o(v,l,h),g&&w[l]!=d&&(w[l]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"8cd6":function(e,t,n){"use strict";n.r(t);var i={};n.r(i);var r=n("Czhu"),o=n("jUyC"),s=n("Jygk"),a=n.n(s),c=n("bfgX"),l=n("8TdO"),u=n("KIs4"),d=n("kw4U"),h=n("jqY8"),p=n("btMZ");function f(e){0}var m=n("GHF8"),g=n("zjfJ"),b=n("bR0+"),y=n("cld1"),v=n("rClA"),w=n("bjnC");class E{constructor(e,t){this.callWithContextIds=(e,t)=>(...n)=>{const i=n?n.length:0,r=i!==t?((e,t,n)=>{if(0===t)return e;const i=new Array(t);return i.fill(n),e.length>0?[...e,...i]:i})(n,t-i,void 0):n;return this.mentionProvider[e](...r,this.contextIdentifier)},this.callDefault=e=>(...t)=>this.mentionProvider[e](...t),this.subscribe=this.callDefault("subscribe"),this.unsubscribe=this.callDefault("unsubscribe"),this.filter=this.callWithContextIds("filter",1),this.recordMentionSelection=this.callWithContextIds("recordMentionSelection",1),this.shouldHighlightMention=this.callDefault("shouldHighlightMention"),this.isFiltering=this.callDefault("isFiltering"),this.mentionProvider=e,this.contextIdentifier=t}getContextIdentifier(){return this.contextIdentifier}}var C=n("u6In"),O=n("ERkP"),j=n.n(O),x=n("pL3m"),k=n("fN3Q"),M=n.n(k),I=(e="")=>`${e}_${M()()}`,P=n("zDE1"),T=n("7nmT"),S=n.n(T);class A extends j.a.PureComponent{componentDidMount(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.position="absolute",this._applyAbsolutePosition(),this._renderContent()}componentDidUpdate(){this._renderContent()}componentWillUnmount(){this.popup&&(S.a.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup))}_applyBelowPosition(){const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=t.bottom+(this.props.offsetY||0),i=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top=n+"px",this.popup.style.bottom="",this.popup.style.left=i+"px")}}_applyAbovePosition(){const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=window.innerHeight-t.top+(this.props.offsetY||0),i=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top="",this.popup.style.bottom=n+"px",this.popup.style.left=i+"px")}}_applyAbsolutePosition(){if("above"===this.props.relativePosition)this._applyAbovePosition();else if("below"===this.props.relativePosition)this._applyBelowPosition();else{const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=window.innerHeight;t.top<n/2?this._applyBelowPosition():this._applyAbovePosition()}}this.props.zIndex&&this.popup&&(this.popup.style.zIndex=""+this.props.zIndex)}_renderContent(){this.popup&&S.a.render(this.props.children,this.popup)}render(){return j.a.createElement("div",null)}}A.defaultProps={relativePosition:"auto",offsetX:0,offsetY:0,zIndex:0};var N=n("s2dH"),R=n("OYpl"),L=n("UEfI"),D=n("KsTJ"),H=n("BMbf"),z=n("3IV/"),B=n("WEdt");const _=D.default.div`
  align-items: center;
  display: flex;
  justify-content: center;
  flex-direction: column;
  background-color: white;
  color: ${z.N500};
  border: 1px solid #fff;
  border-radius: ${Object(H.c)()}px;
`,U=D.default.div`
  height: 108px;
  margin-bottom: 8px;
  margin-top: 36px;
  width: 83px;
`,K=D.default.div`
  ${Object(B.h400)()};
  margin-bottom: 8px;
`,F=D.default.div`
  margin-bottom: 48px;
`;class $ extends j.a.PureComponent{render(){return j.a.createElement(U,null,j.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 163.3 212","aria-labelledby":"title"},j.a.createElement("defs",null,j.a.createElement("style",{dangerouslySetInnerHTML:{__html:".cls-1{fill:url(#linear-gradient);}.cls-2,.cls-5{opacity:0.6;}.cls-3{fill:#c1c7d0;}.cls-4{fill:#b3bac5;}.cls-5{isolation:isolate;}"}}),j.a.createElement("linearGradient",{id:"linear-gradient",x1:"25.54",y1:"806.64",x2:"137.75",y2:"694.44",gradientTransform:"translate(0 -578)",gradientUnits:"userSpaceOnUse"},j.a.createElement("stop",{offset:0,stopColor:"#c1c7d0"}),j.a.createElement("stop",{offset:"0.24",stopColor:"#c4cad2",stopOpacity:"0.97"}),j.a.createElement("stop",{offset:"0.5",stopColor:"#cdd1d9",stopOpacity:"0.89"}),j.a.createElement("stop",{offset:"0.78",stopColor:"#dcdee4",stopOpacity:"0.75"}),j.a.createElement("stop",{offset:1,stopColor:"#ebecf0",stopOpacity:"0.6"}))),j.a.createElement("title",null,this.props.title?this.props.title:"Generic Error"),j.a.createElement("g",{"data-name":"Layer 2"},j.a.createElement("g",{"data-name":"Layer 1-2"},j.a.createElement("path",{className:"cls-1",d:"M94.8,74.2l66.4,115.1a15.16,15.16,0,0,1-5.5,20.7,15.4,15.4,0,0,1-7.6,2H15.2A15.19,15.19,0,0,1,0,196.8a15.4,15.4,0,0,1,2-7.6l66.5-115a15.21,15.21,0,0,1,20.7-5.6A15.81,15.81,0,0,1,94.8,74.2Zm-7.6,83.5,2.9-44.3a9.26,9.26,0,0,0-8.6-9.8h-.6a9.18,9.18,0,0,0-9.2,9.2v.6l2.9,44.3a6.33,6.33,0,0,0,6.3,5.9h0A6.26,6.26,0,0,0,87.2,157.7ZM71.4,181.2a9.5,9.5,0,0,0,9.4,9.6h.9a9.79,9.79,0,0,0,8.8-10.5,9.69,9.69,0,0,0-9.7-8.8A9.58,9.58,0,0,0,71.4,181.2Z"}),j.a.createElement("g",{className:"cls-2"},j.a.createElement("path",{className:"cls-3",d:"M92.7,27.2,85.3.4a.57.57,0,0,0-.7-.4c-.2.1-.4.2-.4.5L79.5,25.6l-5.8-1.1c-.3-.1-.6.2-.7.5v.3L80.3,52a.75.75,0,0,0,.7.5.82.82,0,0,0,.5-.5l4.7-25.1,5.8,1c.3.1.6-.2.7-.5Z"}),j.a.createElement("path",{className:"cls-3",d:"M66.1,41.8,55.2,33.2a.3.3,0,0,0-.4,0,.19.19,0,0,0,0,.3L60.4,45l-2.7,1.3c-.1.1-.2.2-.1.4a.1.1,0,0,0,.1.1l10.9,8.5a.3.3,0,0,0,.4,0,.19.19,0,0,0,0-.3L63.4,43.6l2.7-1.3a.33.33,0,0,0,0-.5Z"})),j.a.createElement("g",{className:"cls-2"},j.a.createElement("path",{className:"cls-4",d:"M102.1,56.8a1.42,1.42,0,0,1-.6-.2,1,1,0,0,1-.3-1.2c-.2-.8-2.3-2.8-3.5-4.1-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7a28.41,28.41,0,0,0,4.5,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.4,1.7a27.65,27.65,0,0,0,4.4,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7c1.6.8,4.2,2.1,5,2.1a.91.91,0,0,1,1.2,0,1.08,1.08,0,0,1,.2,1.4c-1.1,1.5-3.6.2-7.3-1.7a27.65,27.65,0,0,0-4.4-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5A1.8,1.8,0,0,1,102.1,56.8Z"})),j.a.createElement("g",{className:"cls-5"},j.a.createElement("path",{className:"cls-4",d:"M107.7,71.1a1.05,1.05,0,0,1-.9-.5c-1-1.9-2.2-4-.9-5.2s3.3.2,5.5,1.6a19.31,19.31,0,0,0,2.9,1.7,15.89,15.89,0,0,0-1.4-3.1c-1.3-2.3-2.5-4.4-1.1-5.6s3.3.2,5.5,1.6c1,.6,2.5,1.7,3.1,1.7a1,1,0,0,1,1.3.1,1,1,0,0,1-.1,1.4c-1.3,1.2-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.64,13.64,0,0,0,1.4,3.1c1.3,2.3,2.4,4.4,1.1,5.6s-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.07,13.07,0,0,0,1.2,2.7,1,1,0,0,1-.4,1.4A.6.6,0,0,1,107.7,71.1Zm12.5-7.6Z"})),j.a.createElement("g",{className:"cls-5"},j.a.createElement("path",{className:"cls-4",d:"M53.4,68.1a2,2,0,0,1-.7-.1c-1.6-.7-1.2-3.1-.8-5.6a10.87,10.87,0,0,0,.3-3.4A15,15,0,0,0,50,61.6c-1.5,2.1-3,4.1-4.6,3.4a1,1,0,0,1-.5-1.3,1,1,0,0,1,1.2-.6,11.23,11.23,0,0,0,2.3-2.7c1.5-2.1,3-4.1,4.7-3.4s1.3,3.1.8,5.7a13.86,13.86,0,0,0-.3,3.3,11.82,11.82,0,0,0,2.1-2.6c1.5-2.1,3-4.1,4.7-3.4s1.2,3.1.9,5.2a1,1,0,1,1-1.9-.3,14.28,14.28,0,0,0,.3-2.9,15,15,0,0,0-2.2,2.6C56,66.4,54.7,68.1,53.4,68.1Z"}))))))}}const Y={401:L.d,403:L.c,default:L.a};class W extends j.a.PureComponent{static getAdvisedActionMessage(e){if(e&&e.hasOwnProperty("statusCode")){return Y[e.statusCode.toString()]||Y.default}return Y.default}render(){const{error:e}=this.props,t=W.getAdvisedActionMessage(e);return j.a.createElement(_,null,j.a.createElement($,null),j.a.createElement(K,null,j.a.createElement(L.b,null)),j.a.createElement(F,null,j.a.createElement(t,null)))}}const Q=z.N40,q=Object(H.c)()+"px",G=D.default.div`
  display: block;
  overflow-x: hidden;
  overflow-y: auto;

  padding: 4px 0;
  margin: 0;

  background: white;
  max-height: ${"264px"};

  border-radius: ${Object(H.c)()}px;
`;class V extends j.a.PureComponent{constructor(){super(...arguments),this.reveal=e=>{if(e&&this.scrollableDiv){const t=Object(T.findDOMNode)(e),n=this.scrollableDiv.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<n.top?this.scrollableDiv.scrollTop+=i.top-n.top:i.bottom>n.bottom&&(this.scrollableDiv.scrollTop+=i.bottom-n.bottom)}},this.handleRef=e=>{this.scrollableDiv=e}}render(){return j.a.createElement(G,{innerRef:this.handleRef},this.props.children)}}const J=D.default.div`
  display: ${e=>e.empty?"none":"block"};

  /* list style */
  width: ${"340px"};
  color: #333;

  border: 1px solid ${Q};
  border-radius: ${q};
  box-shadow: ${"0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31)"};
`;function Z(e,t){const n=e.length;let i=t;for(;i<0&&n>0;)i+=n;return i%n}function X(e,t){return t&&t[e]&&t[e].id}class ee extends j.a.PureComponent{constructor(e){super(e),this.selectNext=()=>{const e=Z(this.props.mentions,this.state.selectedIndex+1);this.selectIndex(e)},this.selectPrevious=()=>{const e=Z(this.props.mentions,this.state.selectedIndex-1);this.selectIndex(e)},this.selectIndex=(e,t)=>{const{mentions:n}=this.props;this.setState({selectedIndex:e,selectedKey:X(e,n)},t)},this.selectId=(e,t)=>{const{mentions:n}=this.props,i=function(e,t){let n;if(t){for(n=0;n<t.length&&t[n].id!==e;)n++;n===t.length&&(n=void 0)}return n}(e,n);void 0!==i&&this.setState({selectedIndex:i,selectedKey:e},t)},this.chooseCurrentSelection=()=>{const{mentions:e,onSelection:t}=this.props,{selectedIndex:n}=this.state,i=e&&e[n||0];Object(P.a)("ak-mention-list.chooseCurrentSelection",i),t&&i&&t(i)},this.mentionsCount=()=>{const{mentions:e}=this.props;return e&&e.length||0},this.selectIndexOnHover=(e,t)=>{if(!t)return;const n=Object(N.c)(t);Object(N.a)(this.lastMousePosition,n)&&this.selectId(e.id),this.lastMousePosition=n},this.itemSelected=e=>{this.selectId(e.id,()=>{this.chooseCurrentSelection()})},this.handleScrollableRef=e=>{this.scrollable=e},this.setDefaultSelectionState()}UNSAFE_componentWillReceiveProps(e){const{mentions:t}=e,{selectedKey:n}=this.state;if(t){if(!n)return;for(let e=0;e<t.length;e++)if(n===t[e].id)return void this.setState({selectedIndex:e});this.setDefaultSelectionState()}}componentDidUpdate(){const{mentions:e}=this.props,{selectedIndex:t}=this.state;e&&e[t]&&this.revealItem(e[t].id)}revealItem(e){const t=this.items[e];t&&this.scrollable&&this.scrollable.reveal(t)}setDefaultSelectionState(){this.state={selectedIndex:0,selectedKey:void 0}}renderItems(){const{mentions:e}=this.props;return e&&e.length?(this.items={},j.a.createElement("div",null,this.props.initialHighlightElement,e.map((e,t)=>{const n=e.id;return j.a.createElement(R.a,{mention:e,selected:this.isSelectedMention(e,t),key:n,onMouseMove:this.selectIndexOnHover,onSelection:this.itemSelected,ref:e=>{e?this.items[n]=e:delete this.items[n]}})}))):null}isSelectedMention(e,t){const{selectedKey:n}=this.state;return n?n===e.id:0===t}render(){const{mentions:e,resourceError:t}=this.props,n=e&&e.length;let i,r;return t&&!n?i=j.a.createElement(W,{error:t}):n&&(r=j.a.createElement(V,{ref:this.handleScrollableRef},this.renderItems())),j.a.createElement(J,{empty:!n&&!t},i,r)}}var te=n("zitS"),ne=n("+1K0");function ie(e,t){const n=[];for(let i=0;i<e.length;i++){const o=Object(r.a)({},e[i]),s=t[o.id];s&&(o.presence=s),n.push(o)}return n}class re extends j.a.PureComponent{constructor(e){super(e),this.selectNext=()=>{this.mentionListRef&&this.mentionListRef.selectNext()},this.selectPrevious=()=>{this.mentionListRef&&this.mentionListRef.selectPrevious()},this.selectIndex=(e,t)=>{this.mentionListRef&&this.mentionListRef.selectIndex(e,t)},this.selectId=(e,t)=>{this.mentionListRef&&this.mentionListRef.selectId(e,t)},this.chooseCurrentSelection=()=>{this.mentionListRef&&this.mentionListRef.chooseCurrentSelection()},this.mentionsCount=()=>this.mentionListRef?this.mentionListRef.mentionsCount():0,this.filterChange=e=>{const t=function(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];i.presence&&(t[i.id]=i.presence)}return t}(this.state.mentions);this.setState({resourceError:void 0,mentions:ie(e,t)}),this.refreshPresences(e)},this.sendAnalytics=(e,t,n)=>{e===x.c&&Object(x.j)(this.props)(t,n)},this.filterError=e=>{Object(P.a)("ak-resourced-mentions-list._filterError",e),this.setState({resourceError:e})},this.presenceUpdate=e=>{this.setState({mentions:ie(this.state.mentions,e)})},this.notifySelection=e=>{this.props.resourceProvider.recordMentionSelection(e),this.props.onSelection&&this.props.onSelection(e)},this.handleMentionListRef=e=>{this.mentionListRef=e},this.closeHighlight=()=>{ne.a.registerClosed()},this.mentionsHighlight=()=>{const{mentions:e}=this.state,{isTeamMentionHighlightEnabled:t,createTeamPath:n}=this.props;return ne.a.isHighlightEnabled()&&t&&e&&e.length>0?j.a.createElement(te.a,{createTeamLink:n,onClose:this.closeHighlight}):null},this.subscriberKey=I("ak-resourced-mention-list"),this.state={resourceError:void 0,mentions:[]},this.applyPropChanges({},e)}componentDidMount(){this.subscribeMentionProvider(this.props.resourceProvider),this.subscribePresenceProvider(this.props.presenceProvider)}UNSAFE_componentWillReceiveProps(e){this.applyPropChanges(this.props,e)}componentWillUnmount(){this.unsubscribeMentionProvider(this.props.resourceProvider),this.unsubscribePresenceProvider(this.props.presenceProvider)}subscribeMentionProvider(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,void 0,void 0,this.sendAnalytics)}subscribePresenceProvider(e){e&&e.subscribe(this.subscriberKey,this.presenceUpdate)}unsubscribeMentionProvider(e){e&&e.unsubscribe(this.subscriberKey)}unsubscribePresenceProvider(e){e&&e.unsubscribe(this.subscriberKey)}applyPropChanges(e,t){const n=e.resourceProvider,i=e.presenceProvider,r=e.query,o=t.resourceProvider,s=t.presenceProvider,a=t.query,c=n!==o,l=!("string"!=typeof a||!o)&&(r!==a||c);c&&(this.unsubscribeMentionProvider(n),this.subscribeMentionProvider(o)),i!==s&&(this.unsubscribePresenceProvider(i),this.subscribePresenceProvider(s)),l&&o.filter(a)}refreshPresences(e){if(this.props.presenceProvider){const t=e.map(e=>e.id);this.props.presenceProvider.refreshPresence(t)}}render(){const{mentions:e,resourceError:t}=this.state;return j.a.createElement(ee,{initialHighlightElement:this.mentionsHighlight(),mentions:e,resourceError:t,onSelection:this.notifySelection,ref:this.handleMentionListRef})}}var oe=Object(C.a)({})(re);const se=D.default.div`
  display: ${e=>e.visible?"block":"none"};
`,ae=D.default.div`
  background: #fff;
  color: ${z.N100};
  border: 1px solid ${Q};
  border-radius: ${q};
  box-shadow: ${"0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31)"};
  display: block;
  width: ${"340px"};
  white-space: nowrap;

  & {
    p {
      margin: 0;
      overflow: hidden;
      padding: 9px;
      text-overflow: ellipsis;
    }
  }
`;class ce extends j.a.PureComponent{constructor(e){super(e),this.selectNext=()=>{this.mentionListRef&&this.mentionListRef.selectNext()},this.selectPrevious=()=>{this.mentionListRef&&this.mentionListRef.selectPrevious()},this.selectIndex=(e,t)=>{this.mentionListRef&&this.mentionListRef.selectIndex(e,t)},this.selectId=(e,t)=>{this.mentionListRef&&this.mentionListRef.selectId(e,t)},this.chooseCurrentSelection=()=>{this.mentionListRef&&this.mentionListRef.chooseCurrentSelection()},this.mentionsCount=()=>this.mentionListRef?this.mentionListRef.mentionsCount():0,this.onFilterVisibilityChange=(e,t)=>{e!==t&&(t?this.props.onOpen&&this.props.onOpen():this.props.onClose&&this.props.onClose())},this.filterChange=(e,t,n)=>{Object(P.a)("ak-mention-picker.filterChange",e.length);const i=this.state.visible,r=e.length>0;this.setState({visible:r}),this.onFilterVisibilityChange(i,r),x.h(this.props)("rendered",n&&n.duration,e.map(e=>e.id),t)},this.filterError=e=>{Object(P.a)("ak-mention-picker.filterError",e);const t=this.state.visible;this.setState({visible:!0,info:void 0}),this.onFilterVisibilityChange(t,!0)},this.filterInfo=e=>{Object(P.a)("ak-mention-picker.filterInfo",e),this.setState({info:e})},this.handleMentionListRef=e=>{this.mentionListRef=e},this.subscriberKey=I("ak-mention-picker"),this.state={visible:!1},this.applyPropChanges({},e)}componentDidMount(){this.subscribeResourceProvider(this.props.resourceProvider)}UNSAFE_componentWillReceiveProps(e){this.applyPropChanges(this.props,e)}componentWillUnmount(){this.unsubscribeResourceProvider(this.props.resourceProvider)}applyPropChanges(e,t){const n=e.resourceProvider,i=t.resourceProvider;n!==i&&(this.unsubscribeResourceProvider(n),this.subscribeResourceProvider(i))}subscribeResourceProvider(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,this.filterInfo,void 0)}unsubscribeResourceProvider(e){e&&e.unsubscribe(this.subscriberKey)}render(){const{createTeamPath:e,resourceProvider:t,presenceProvider:n,onSelection:i,query:r,target:o,position:s,zIndex:a,offsetX:c,offsetY:l,showTeamMentionsHighlight:u}=this.props,{visible:d,info:h}=this.state,p=j.a.createElement(oe,{resourceProvider:t,presenceProvider:n,onSelection:i,query:r,ref:this.handleMentionListRef,isTeamMentionHighlightEnabled:!!u,createTeamPath:e}),f=h&&!d?j.a.createElement(ae,null,j.a.createElement("p",null,h)):null;let m;return s?(Object(P.a)("target, position",o,s),m=o?j.a.createElement(A,{target:o,relativePosition:s,zIndex:a,offsetX:c,offsetY:l},j.a.createElement("div",null,p,f)):null):m=j.a.createElement("div",null,p,f),j.a.createElement(se,{className:"ak-mention-picker",visible:d||h},m)}}ce.defaultProps={onSelection:()=>{},onOpen:()=>{},onClose:()=>{}};const le=Object(C.a)({})(ce);var ue=n("L21V"),de=n("bQlP"),he=n("frZf"),pe=n("HbzK"),fe=n("utTn");var me=function(e){return e.replace(/[&"'<>`]/g,e=>{const t={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return"string"==typeof t[e]?t[e]:"&quot;"})};const ge={adjustY:2};function be(e){const t=Object(fe.a)(),n=me(e.name);let i;const r="TEAM"===e.userType;i=r?{href:Object(b.c)(e.id,"tinymce",he.a)}:{href:Object(b.a)(e.id,null,he.a),accountid:e.id,"data-linked-resource-default-alias":n};const o={attrs:i,body:{html:n,text:n},classes:[r?"":"confluence-link"]};t.fromData(o).insert()}function ye(e,t,n){setTimeout(()=>{!function(e,t,n){const i=t.jquery?t:Object(o.default)(t),r=a.a.AJS.Position.spaceAboveBelow(a.a.AJS.Rte.getEditorFrame(),e),s=a.a.AJS.Rte.Content.offset(e),c=Object(o.default)(a.a).width(),l=Math.max(i.width()+s.left-c,0),u=n&&n.adjustX||0,d=n&&n.adjustY||0,h=s.left-l+u,p=i.outerHeight(!0);let f;f=1===function(e){return e.below>e.above?2:1}(r)?s.top-p-d:s.top+e.height()+d,t.css({left:h,top:f,display:"block"})}(e,t,n)},1)}class ve{constructor(e){Object(g.a)(this,"_mentionSelected",e=>{e?this.options.update(e):this.options.die()}),Object(g.a)(this,"_getAnalyticsContext",()=>({attributes:{editorType:"tinyMCE"},fabricElementsCtx:{editorType:"tinyMCE"}})),this._mentionSelected=this._mentionSelected.bind(this),this._setPickerRef=this._setPickerRef.bind(this),this.options=e,this.resourceProvider=function(e){const{mentionResource:t,contextIdentifier:n}=e||{};return n?new E(t,Object(r.a)(Object(r.a)({},n),{},{sessionId:M()()})):t}(e),Object(de.F)(de.v)&&(this.presenceProvider=e.presenceResource),this.$mentionPickerContainer=Object(o.default)("<div/>"),this.mentionPickerContainer=this.$mentionPickerContainer[0],this.query=e.query,this.$mentionPickerContainer.css({position:"absolute","z-index":1e4,display:"none"}),Object(o.default)("body").append(this.mentionPickerContainer),this._renderPicker(),this.resourceProvider.subscribe("@atlaskit/mentions",e=>{e&&e.length>0&&this.reposition()},()=>{this.reposition()})}_setPickerRef(e){this.mentionPickerRef=e}async _renderPicker(){const{locale:e,featureFlags:t}=await Object(u.b)(Object(l.getApolloClient)()),[n,r]=function(e){const[,t,n]=/([a-z]*)[_-]?([A-Z]*)/i.exec(e||"");return[t.toLowerCase(),n.toUpperCase()]}(e),o=i[`${n}_${r}`]||i[n],s=t["confluence.frontend.people.directory"]?he.a:"",a=j.a.createElement(ue.e,{locale:n,messages:o},j.a.createElement(v.b,{client:Object(y.getAnalyticsWebClient)()},j.a.createElement(w.a,{data:this._getAnalyticsContext()},j.a.createElement(le,{resourceProvider:this.resourceProvider,presenceProvider:this.presenceProvider,query:this.query,onSelection:this._mentionSelected,ref:this._setPickerRef,showTeamMentionsHighlight:t[de.w],createTeamPath:s+"/people/search#createTeam"}))));S.a.render(a,this.mentionPickerContainer)}update(e){const t="TEAM"===e.userType&&!!e.context;if(Object(c.b)("mention-autocomplete-on-select",{mentioneeId:e.id,contentId:pe.a.get("content-id"),queryLength:(this.query||"").length,userType:e.userType,memberCount:t?e.context.memberCount:null,includesYou:t?e.context.includesYou:null}),be(e),t){ne.a.registerTeamMention();const t=Object(d.c)().getEditor(),n=e.context.members,i=n.length;for(let e=0;e<i;e++)0===e&&t.execCommand("mceInsertContent",!1," ("),be(n[e]),e+1===i?t.execCommand("mceInsertContent",!1,")"):t.execCommand("mceInsertContent",!1,", ")}}onTextChange(e){this.query=e,this._renderPicker()}isDataValid(){return!0}die(){S.a.unmountComponentAtNode(this.mentionPickerContainer),this.$mentionPickerContainer.remove(),this.resourceProvider.unsubscribe("@atlaskit/mentions")}onKeyUp(){this.mentionPickerRef.selectPrevious()}onKeyDown(){this.mentionPickerRef.selectNext()}onKeyEnter(){this.mentionPickerRef.chooseCurrentSelection()}onKeyTab(){this.mentionPickerRef.chooseCurrentSelection()}reposition(){ye(this.options.anchor,this.$mentionPickerContainer,ge)}}n("PN9k");var we=n("Hgeo"),Ee=n("fLXQ");const Ce=new p.a(a.a.navigator.userAgent),Oe={leadingChar:"",isDataValid:()=>!1,backWords:0,onBeforeDie:()=>{}};class je{constructor(e){this.ed=Object(d.c)().getEditor(),this.settings=Object.assign({},Oe,e),this.control=null,this.picker=null}start(){console.debug("startAutoComplete (FE) - Started"),this.control=Object(d.a)().Control(this.ed,this.settings),this.control&&(Object(c.b)("mention-autocomplete-on-start"),this.attachEventsToControl())}attachEventsToControl(){const e=this,t=e.control;if("function"==typeof this.settings.onBeforeDie){const t=this.control.die;this.control.die=function(...n){e.settings.onBeforeDie.apply(e.control,n),t.apply(e.control,n)}}const n={onBeforeKey(t,n){return t.keyCode!==we.a.ESCAPE.which&&e.control&&Object(Ee.a)(e.control.getContainer()[0],"isDirty"),t.keyCode===we.a.DOWN.which?(this.settings.onKeyDown&&this.settings.onKeyDown(),a.a.tinymce.dom.Event.cancel(t),!1):t.keyCode===we.a.UP.which?(this.settings.onKeyUp&&this.settings.onKeyUp(),a.a.tinymce.dom.Event.cancel(t),!1):t.keyCode===we.a.ENTER.which?(e.settings.onBeforeEnter&&e.settings.onBeforeEnter(e.ed.undoManager),this.settings.onKeyEnter&&this.settings.onKeyEnter(),a.a.tinymce.dom.Event.cancel(t),!1):t.keyCode===we.a.TAB.which?(this.settings.onKeyTab&&this.settings.onKeyTab(),a.a.tinymce.dom.Event.cancel(t),!1):!(t.keyCode===we.a.ESCAPE.which||t.keyCode===we.a.BACKSPACE.which&&!n)||(console.debug("autoCompleteControl.onBeforeKey - killing autoCompleteControl"),this.die(t.keyCode===we.a.BACKSPACE.which),!1)},onKeyPress(e){const n=Ce.isIE()?e.keyCode:e.which;if(e.keyCode===we.a.ENTER.which)return a.a.tinymce.dom.Event.cancel(e),!1;const i=String.fromCharCode(n);return this.settings.endChars.indexOf(i)>=0&&(console.debug("autoCompleteControl.onKeyPress - caught autocomplete-closing char - character"),t.die()),!0},onAfterKey(t,n){const i=e.control.getContainer()[0].querySelectorAll("#autocomplete-trigger"),r=i[0].innerText;return i.length>0&&r!==e.settings.leadingChar?(console.debug("after","dying because of: trigger text is modified"),e.reset(),!1):t.keyCode===we.a.ENTER.which?(a.a.tinymce.dom.Event.cancel(t),!1):(this.settings.onTextChange&&this.settings.onTextChange(r,n),!0)},onDeath(){console.debug("autoCompleteControl.onDeath called"),e.control=null,Object(c.b)("mention-autocomplete-on-death")},onScroll(){e.picker&&e.picker.reposition()}};Object.assign(t,n)}reset(){this.control&&(this.control.die(),this.control=null)}}var xe=n("H5qd");const ke=n.n(xe).a`query SpaceIDQuery($spaceKey:String!){space(key:$spaceKey){id}}`,Me=new p.a(Object(h.c)().navigator.userAgent);let Ie,Pe;function Te(e){0}function Se(){if((!Ie.control||Ie.control.dying)&&Pe&&(Ie.start(),Ie.control)){const e=Ie.control.getContainer();return e&&e.addClass("fabric-mentions-autocomplete"),Ie.picker=new ve({mentionResource:Pe.mentionResource,presenceResource:Pe.presenceResource,anchor:e,query:Ie.control.word,update:function(e){Ie&&Ie.control&&Ie.control.update(e)},die:function(){Ie&&Ie.control&&Ie.control.die()},contextIdentifier:Pe.contextIdentifier}),!0}return!1}function Ae(e){const t=a.a.location.href.match(/\/spaces\/([^/]+)\//),n=t?t[1]:null;Object(u.b)(Object(l.getApolloClient)()).then(({cloudId:t})=>(e=>Object(l.getApolloClient)().query({query:ke,variables:{spaceKey:e}}))(n).then(n=>Object(m.a)(t,null,Object(r.a)(Object(r.a)({},e),{},{spaceId:n.data.space.id})).then(e=>Pe=e).catch(e=>Te())).catch(e=>{Object(m.a)(t).then(e=>Pe=e).catch(e=>Te())})).catch(e=>{})}const Ne=e=>{var t;const n=(null!=(t=e)&&null!=(t=t.formElement)&&null!=(t=t.offsetParent)?t.id:t)||"";return n.includes("comment-")||n.includes("addcomment")?n.replace("comment-",""):null},Re=e=>{var t;return null!=(t=e)&&null!=(t=t.settings)?t.page_id:t},Le={init(e){const t=Object(d.c)();f(),Ae({contentId:Re(e),commentId:Ne(e)}),e.addCommand("mceConfInsertFabricMentionsAutocomplete",Se),function(){Object(d.a)().Settings["@"]={ch:"@",endChars:[],onTextChange(e,t){Ie.picker.onTextChange&&Ie.picker.onTextChange(t)},isDataValid:()=>!0,onKeyUp(){Ie.picker.onKeyUp&&Ie.picker.onKeyUp()},onKeyDown(){Ie.picker.onKeyDown&&Ie.picker.onKeyDown()},onKeyEnter(){Ie.picker.onKeyEnter&&Ie.picker.onKeyEnter()},onKeyTab(){Ie.picker.onKeyTab&&Ie.picker.onKeyTab()},update(e,t){Ie.picker.update&&Ie.picker.update(t),Ie.picker.die&&Ie.picker.die(),Ie.reset()}};const e={leadingChar:"@",onBeforeDie(){if(Ie.picker&&Ie.picker.die(),Ie.control){const e=Object(o.default)(Ie.control.getContainer()),t=e.find(".inserting");e.hasClass("isDirty")||t.closest("#autocomplete-search-text").remove()}},onBeforeEnter(e){if(Ie.control){const t=Object(o.default)(Ie.control.getContainer()).find("#autocomplete-search-text");t.text().length>0&&(t.prepend("@"),e&&"function"==typeof e.add&&e.add())}}};Ie=new je(e)}(),Object(c.a)("confluence.editor.registerHandlers",(e,t)=>{const n=t.handlerManager,i=t.ed,r=(0,t.createHandler)(/(?:\s|\xA0|^|\ufeff|\u200b)()$/,(...e)=>{f(),Se()},!0,"#autocomplete");i.onKeyPress.addToTop((e,t)=>{if(t.metaKey)return!0;const n=Me.isIE()?t.keyCode:t.which;return"@"!==String.fromCharCode(n)||(Se()&&a.a.tinymce.dom.Event.cancel(t),!1)}),n.registerHandler("@".charCodeAt(0),r)}),e.onContextMenu.add(()=>{Ie.reset()}),Object(o.default)("#insertmention-button").click(e=>{e.stopPropagation(),e.preventDefault(),Se()}),Object(c.a)("editor.text-placeholder.activated",(t,n)=>{var i;n&&"mention"===n.placeholderType&&(!(i=n.triggerEvent)||!i.shiftKey||i.ctrlKey||i.altKey||i.altGraphKey||i.metaKey||64!==i.which||a.a.tinymce.dom.Event.cancel(n.triggerEvent),a.a.tinymce.execCommand("mceFocus",!1,e.id),Se())}),t.Placeholder&&t.Placeholder.addPlaceholderType&&t.Placeholder.addPlaceholderType({type:"mention",label:"User mention",tooltip:"Instructional text is replaced with suggested people when a person types."})},getInfo:()=>({longname:"Fabric Mentions",author:"Atlassian",authorurl:"http://www.atlassian.com",version:`${a.a.tinymce.majorVersion}.${a.a.tinymce.minorVersion}`}),getServiceUrl:()=>Pe.mentionServiceUrl};t.default=Le},"9FWt":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},A46D:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const i="cubic-bezier(0.15,1,0.3,1)",r="cubic-bezier(0.2,0,0,1)",o="cubic-bezier(0.8,0,0,0.8)"},AqZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("daKX");Object(i.a)("wrm");function r(e,t){if(!t.length)return Promise.resolve();const n=window.document.createDocumentFragment(),i=t.map(e=>new Promise((t,i)=>{const r=window.document.createElement("script");r.async=!1,r.src=e,r.onload=t,r.onerror=i,n.appendChild(r)}));return e.appendChild(n),Promise.all(i).catch((...e)=>{0})}},CwQO:function(e,t,n){var i=n("rsBL"),r=n("yK4D");e.exports=function(e){return i(r(e))}},DozX:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},EkxP:function(e,t,n){var i=n("09V9");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},FzbR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=void 0,t.bind=function(e,t){var n=t.type,i=t.listener,r=t.options;return e.addEventListener(n,i,r),function(){e.removeEventListener(n,i,r)}}},GHF8:function(e,t,n){"use strict";var i=n("Czhu"),r=n("KIs4"),o=n("8TdO"),s=n("bQlP"),a=n("frZf"),c=n("MjPE"),l=n("pL3m");class u{constructor(e,t={}){this.nameCache=new Map,this.nameQueue=new Map,this.nameStartTime=new Map,this.processingQueue=new Map,this.debounce=0,this.processQueue=()=>{clearTimeout(this.debounce),this.debounce=0;const{queue:e,extraQueue:t}=this.splitQueueAtLimit();this.nameQueue=t,this.processingQueue=new Map([...this.processingQueue,...e]),this.client.lookupMentionNames(Array.from(e.keys())).then(t=>{t.forEach(t=>{const{id:n}=t;e.delete(n),this.resolveQueueItem(t)}),e.forEach((e,t)=>{this.resolveQueueItem({id:t,status:c.a.UNKNOWN})})}).catch(()=>{e.forEach((e,t)=>{this.resolveQueueItem({id:t,status:c.a.SERVICE_ERROR})})}),this.nameQueue.size>0&&this.scheduleProcessQueue()},this.client=e,this.fireHydrationEvent=Object(l.g)(t)}lookupName(e){const t=this.nameCache.get(e);return t?(this.fireAnalytics(!0,t),t):new Promise(t=>{const n=this.processingQueue.get(e);n&&this.processingQueue.set(e,[...n,t]);const i=this.nameQueue.get(e)||[];this.nameQueue.set(e,[...i,t]),0!==i.length||n||this.nameStartTime.set(e,Date.now()),this.scheduleProcessQueue(),this.isQueueAtLimit()&&this.processQueue()})}cacheName(e,t){this.nameCache.set(e,{id:e,name:t,status:c.a.OK})}scheduleProcessQueue(){this.debounce||(this.debounce=window.setTimeout(this.processQueue,u.waitForBatch))}isQueueAtLimit(){return this.nameQueue.size>=this.client.getLookupLimit()}splitQueueAtLimit(){const e=Array.from(this.nameQueue.entries()),t=this.client.getLookupLimit();return{queue:new Map(e.slice(0,t)),extraQueue:new Map(e.slice(t))}}resolveQueueItem(e){const{id:t}=e,n=this.processingQueue.get(t);n&&(this.processingQueue.delete(t),this.nameCache.set(t,e),n.forEach(t=>{try{t(e)}catch(n){}}),this.fireAnalytics(!1,e))}fireAnalytics(e,t){const{id:n}=t,i=t.status===c.a.OK?"completed":"failed",r=this.nameStartTime.get(n),o=r?Date.now()-r:0;this.nameStartTime.delete(n),this.fireHydrationEvent(i,n,e,o)}}u.waitForBatch=100;var d=n("mn6t"),h=n("kQ1B"),p=n("bR0+"),f=n("kVVw"),m=n("kC4U");class g{getLookupLimit(){return 100}lookupMentionNames(e){const t=e.reduce((e,t,n)=>`${e}${n>0?"&":""}accountId=${encodeURIComponent(t)}`,"");return Object(m.a)("/wiki/rest/api/user/bulk?"+t,{credentials:"same-origin"}).then(e=>e.json()).then(e=>e&&e.results&&e.results.length?e.results.map(e=>({id:e.accountId,name:e.displayName,status:c.a.OK})):[])}}n.d(t,"a",(function(){return y}));async function b(e,t,n,c){const l={url:"/gateway/api/mentions/"+e,productId:"micros-group/confluence",containerId:t||null,shouldHighlightMention:e=>e.id===n},h=await Object(r.b)(Object(o.getApolloClient)()),{featureFlags:m}=h,b=m["confluence.frontend.people.directory"]?a.a:"",y=Object(i.a)(Object(i.a)({},l),{},{url:"/gateway/api/teams/mentions",teamLinkResolver:e=>Object(p.c)(e,"fabric",a.a),teamHighlightEnabled:m[s.w],createTeamPath:b+"/people/search#createTeam"});return m[s.u]&&(l.mentionNameResolver=new u(new g,c)),m[s.x]?function(e,t){return new f.a("/gateway/api/v1/recommendations",e,t)}(l,y):new d.a(l,y)}async function y(e,t,n,i){var r,o,s;const a=(null!=(s=n)?s.spaceId:s)||null;if(!e)throw new Error("MentionResource cannot be configured without a cloud id");return{mentionResource:await b(e,a,t,i),presenceResource:new h.a({url:"/gateway/api/directory/graphql",cloudId:e,productId:"confluence"}),mentionServiceUrl:"/gateway/api/mentions/"+e,contextIdentifier:{containerId:a,objectId:(null!=(o=n)?o.contentId:o)||null,childObjectId:(null!=(r=n)?r.commentId:r)||null}}}},GU4h:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},Hgeo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={ALT:{key:"Alt",which:18},BACKSPACE:{key:"Backspace",which:8},CTRL:{key:"Control",which:17},DELETE:{key:"Delete",which:46},DOWN:{key:"ArrowDown",which:40},END:{key:"End",which:35},ENTER:{key:"Enter",which:13},ESCAPE:{key:"Escape",which:27},HOME:{key:"Home",which:36},INSERT:{key:"Insert",which:45},LEFT:{key:"ArrowLeft",which:37},META:{key:"Meta",which:91},PAGEDOWN:{key:"PageDown",which:34},PAGEUP:{key:"PageUp",which:33},RIGHT:{key:"ArrowRight",which:39},SPACE:{key:" ",which:32},SHIFT:{key:"Shift",which:16},TAB:{key:"Tab",which:9},UP:{key:"ArrowUp",which:38}}},JaYb:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},LMBy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("L21V");const r=Object(i.g)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"{0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"{0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"},TeamMentionHighlightTitle:{id:"fabric.elements.mentions.team.mention.highlight.title",defaultMessage:"Mention your team",description:"Title of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescription:{id:"fabric.elements.mentions.team.mention.highlight.description",defaultMessage:"Get everyone on the page with one click. No team?",description:"Description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescriptionLink:{id:"fabric.elements.mentions.team.mention.highlight.description.link",defaultMessage:"Start one.",description:"Team creation link in the description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightCloseButtonToolTip:{id:"fabric.elements.mentions.team.meantion.highlight.close.button.tooltip",defaultMessage:"Dismiss",description:"Closes the highlight component when this button is clicked. This text for the tooltip of that button"}})},NC4b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("a8dO"),r=n("ERkP"),o=n.n(r),s=n("UEfI");const a=({name:e,children:t})=>o.a.createElement(s.f,{name:e},e=>o.a.createElement(i.a,{content:e,position:"right"},t))},NGBq:function(e,t,n){var i=n("DozX"),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},OYpl:function(e,t,n){"use strict";var i=n("Oqsm"),r=n("anra"),o=n.n(r),s=n("liuE"),a=n("3IV/"),c=n("ERkP"),l=n.n(c),u=n("MjPE"),d=n("UEfI"),h=n("s2dH"),p=n("NC4b"),f=n("KsTJ");const m=f.default.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  overflow: hidden;
  padding: 6px 14px;
  text-overflow: ellipsis;
  vertical-align: middle;
`,g=f.default.span`
  position: relative;
  flex: initial;
  opacity: ${e=>e.restricted?"0.5":"inherit"};
`,b=f.default.div`
  flex: 1;
  min-width: 0;
  margin-left: 14px;
  opacity: ${e=>e.restricted?"0.5":"inherit"};
`,y=f.default.span`
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: ${a.N900};
`,v=f.default.div`
  display: flex;
  flex-direction: column;
  text-align: right;
  opacity: ${e=>e.restricted?"0.5":"inherit"};

  & {
    /* Lozenge */
    & > span {
      margin-bottom: 2px;
    }
  }
`,w=f.default.div`
  margin-left: 20px;
  flex: none;
  color: ${a.N100};
  font-size: 12px;
`,E=f.default.div`
  background-color: ${e=>e.selected?a.N30:"transparent"};
  display: block;
  overflow: hidden;
  list-style-type: none;
  height: 48px;
  line-height: 1.2;
  cursor: pointer;
`,C=f.default.div`
  padding-left: 5px;
  color: ${a.N500};
`;function O(e,t,n,i){if(!t)return null;const r=[],o=i||"";let s=0;if(n){for(let e=0;e<n.length;e++){const i=n[e],o=i.start,a=i.end;o>s&&r.push({value:t.substring(s,o),matches:!1}),r.push({value:t.substring(o,a+1),matches:!0}),s=a+1}s<t.length&&r.push({value:t.substring(s,t.length),matches:!1})}else r.push({value:t,matches:!1});return l.a.createElement(e,null,o,r.map((e,t)=>e.matches?l.a.createElement("b",{key:t},e.value):e.value))}const j=f.default.span`
  color: ${a.N100};
  font-size: 12px;

  margin-top: 2px;

  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`;class x extends l.a.PureComponent{render(){const{highlight:e,name:t,nickname:n}=this.props.mention,i=e&&e.nickname;return t===n?null:O(j,n,i,"@")}}var k=n("L21V"),M=n("LMBy");class I extends l.a.PureComponent{constructor(){super(...arguments),this.renderByline=(e,t)=>t?e>50?this.getBylineComponent(l.a.createElement(k.c,Object.assign({},M.a.plus50MembersWithYou))):this.getBylineComponent(l.a.createElement(k.c,Object.assign({},M.a.memberCountWithYou,{values:{0:e}}))):e>50?this.getBylineComponent(l.a.createElement(k.c,Object.assign({},M.a.plus50MembersWithoutYou))):this.getBylineComponent(l.a.createElement(k.c,Object.assign({},M.a.memberCountWithoutYou,{values:{0:e}}))),this.getBylineComponent=e=>l.a.createElement(j,null,e)}render(){const{context:e}=this.props.mention;if(!e)return null;const t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}class P extends l.a.PureComponent{render(){const{userType:e}=this.props.mention;switch(e){case u.d[u.d.TEAM]:return l.a.createElement(I,{mention:this.props.mention});default:return l.a.createElement(x,{mention:this.props.mention})}}}n.d(t,"a",(function(){return T}));class T extends l.a.PureComponent{constructor(){super(...arguments),this.onMentionSelected=e=>{Object(h.b)(e)&&this.props.onSelection&&(e.preventDefault(),this.props.onSelection(this.props.mention,e))},this.onMentionMenuItemMouseMove=e=>{this.props.onMouseMove&&this.props.onMouseMove(this.props.mention,e)},this.onMentionMenuItemMouseEnter=e=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.mention,e)}}render(){const{mention:e,selected:t}=this.props,{id:n,highlight:r,avatarUrl:c,presence:h,name:f,mentionName:j,lozenge:x,accessLevel:k}=e,{status:M,time:I}=h||{},T=Object(u.g)(k),S=r&&r.name,A=t?a.N30:void 0;return l.a.createElement(E,{selected:t,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":n,"data-mention-name":j},l.a.createElement(m,null,l.a.createElement(g,{restricted:T},l.a.createElement(i.a,{src:c,size:"medium",presence:M,borderColor:A})),l.a.createElement(b,{restricted:T},O(y,f,S),l.a.createElement(P,{mention:e})),l.a.createElement(v,{restricted:T},function(e){return e?l.a.createElement(s.a,null,e):null}(x),function(e){return e?l.a.createElement(w,null,e):null}(I)),T?l.a.createElement(p.a,{name:f},l.a.createElement(C,null,l.a.createElement(d.e,null,e=>l.a.createElement(o.a,{label:e})))):null))}}},PN9k:function(e,t,n){var i=n("7zcn");i(i.S+i.F,"Object",{assign:n("qyOa")})},PYUJ:function(e,t,n){e.exports=!n("oSRv")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},UEfI:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return y}));var i=n("HbGN"),r=n("ERkP"),o=n.n(r),s=n("L21V"),a=n("LMBy");const c=e=>t=>o.a.createElement(s.c,Object.assign({},t,e)),l=e=>{let{name:t}=e,n=Object(i.a)(e,["name"]);return o.a.createElement(s.c,Object.assign({},n,{values:{name:t}},a.a.noAccessWarning))},u=c(a.a.noAccessLabel),d=c(a.a.defaultHeadline),h=c(a.a.defaultAdvisedAction),p=c(a.a.loginAgain),f=c(a.a.differentText),m=c(a.a.TeamMentionHighlightTitle),g=c(a.a.TeamMentionHighlightCloseButtonToolTip),b=c(a.a.TeamMentionHighlightDescription),y=c(a.a.TeamMentionHighlightDescriptionLink)},WCbN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("ERkP")),r=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.508.508 0 0 0-.36-.153.5.5 0 0 0-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EditorCloseIcon";var c=a;t.default=c},XFAF:function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},Xcdj:function(e,t,n){"use strict";var i=n("Czhu"),r=n("ERkP"),o=n.n(r),s=n("l1C2"),a=n("bhMQ"),c=n("/yy9"),l=n("ZIFe"),u=n("pwfR");n("1jzs");const d=Object(r.createContext)(()=>({isReady:!0,delay:0,ref:()=>{}})),h=()=>{const e=function(){const e=Object(r.useRef)("");return e.current||(e.current="_"+(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)),e.current}();return Object(r.useContext)(d)(e)};t.a=({children:e,animationTimingFunction:t,enteringAnimation:n,exitingAnimation:d,isPaused:p,onFinish:f,duration:m=c.a})=>{const g=h(),{isExiting:b,onFinish:y,appear:v}=Object(u.b)(),w=Object(l.b)(),E=p||!g.isReady,C=b?0:g.delay,O=b?"exiting":"entering",[j,x]=Object(r.useState)(v);return Object(r.useEffect)(()=>{let e=!1;if(!E){if(v)return x(!0),w(()=>{"exiting"===O&&y&&y(),e||x(!1),f&&f(O)},b?.5*m:m+C),()=>{e=!0};f&&f(O)}},[y,O,b,m,C,E,w]),o.a.createElement(s.b,null,({css:r})=>e({ref:g.ref,className:j?r(Object(i.a)({animationName:""+Object(s.g)(b&&d||n),animationTimingFunction:t(O),animationDelay:C+"ms",animationFillMode:b?"forwards":"backwards",animationDuration:(b?.5*m:m)+"ms",animationPlayState:E?"paused":"running"},Object(a.b)())):""},O))}},ZIFe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("ERkP");const r=e=>{switch(e.cleanup){case"next-effect":return;case"unmount":default:return[]}},o=(e={cleanup:"unmount"})=>{const t=Object(i.useRef)([]);return Object(i.useEffect)(()=>()=>{t.current.length&&(t.current.forEach(e=>cancelAnimationFrame(e)),t.current=[])},r(e)),Object(i.useCallback)(e=>{const n=requestAnimationFrame(i=>{t.current=t.current.filter(e=>e!==n),e(i)});t.current.push(n)},[])},s=(e={cleanup:"unmount"})=>{const t=Object(i.useRef)([]);return Object(i.useEffect)(()=>()=>{t.current.length&&(t.current.forEach(e=>clearTimeout(e)),t.current=[])},r(e)),Object(i.useCallback)((e,n,...i)=>{const r=setTimeout(()=>{t.current=t.current.filter(e=>e!==r),e()},n,...i);t.current.push(r)},[])}},a8dO:function(e,t,n){"use strict";var i=n("Czhu"),r=n("ERkP"),o=n.n(r),s=n("l1C2"),a=n("bES6"),c=n("pwfR"),l=n("b6XK"),u=n("bLpi"),d=n("PEqI"),h=n("BMbf");let p=null;function f(){null!=p&&(window.clearTimeout(p),p=null)}function m(e,t){f(),p=window.setTimeout(()=>{p=null,e()},t)}let g=null;var b=n("3IV/"),y=n("EFzz"),v=n("uvkf");const w=Object(s.e)("border-radius:",Object(h.c)(),"px;box-sizing:border-box;font-size:12px;left:0;line-height:1.3;max-width:240px;padding:2px 6px;top:0;word-wrap:break-word;overflow-wrap:break-word;"),E={name:"v0nulc",styles:"max-width:420px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},C=Object(r.forwardRef)((function({style:e,className:t,children:n,truncate:i,placement:r,testId:o},a){return Object(s.f)(y.a.Consumer,null,({mode:c})=>Object(s.f)(v.a,{ref:a,style:e,className:t,placement:r,testId:o,css:[w,i?E:null,Object(s.e)("background-color:","light"===c?b.N800:b.DN0,";color:","light"===c?b.N0:b.DN600,";")]},n))}));C.displayName="TooltipContainer";var O=C,j=n("RjSO");function x({fn:e,action:t,componentName:n,packageName:o,packageVersion:s,analyticsData:a}){const{createAnalyticsEvent:c}=Object(j.a)(),l=Object(r.useRef)(a);Object(r.useEffect)(()=>{l.current=a},[a]);return Object(r.useCallback)((function(r){const a=c({action:t,actionSubject:n,attributes:{componentName:n,packageName:o,packageVersion:s}}),u=Object(i.a)({componentName:n,packageName:o,packageVersion:s},l.current);a.context.push(u);const d=a.clone();d&&d.fire("atlaskit"),e(r,a)}),[e,t,n,o,s,c])}function k(e){const t=e||{top:0,left:0};return{getBoundingClientRect:()=>({top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}),clientWidth:0,clientHeight:0}}var M=n("jYB6");const I=h.i.tooltip(),P={componentName:"tooltip",packageName:M.a,packageVersion:M.b};function T(){}function S({children:e,position:t="bottom",mousePosition:n="bottom",content:h,truncate:p=!1,component:b=O,tag:y="div",testId:v,delay:w=300,onShow:E=T,onHide:C=T,hideTooltipOnClick:j=!1,hideTooltipOnMouseDown:M=!1,analyticsContext:S}){const A="mouse"===t?n:t,N=x(Object(i.a)({fn:E,action:"displayed",analyticsData:S},P)),R=x(Object(i.a)({fn:C,action:"hidden",analyticsData:S},P)),L=Object(r.useRef)(null),[D,H]=Object(r.useState)("hide"),z=Object(r.useRef)(null),B=Object(r.useRef)(null),_=Object(r.useCallback)(e=>{e&&null!==e.firstChild&&(B.current=e,z.current=e.firstChild)},[]),U=Object(r.useRef)(D),K=Object(r.useRef)(w),F=Object(r.useRef)({onShowHandler:N,onHideHandler:R}),$=Object(r.useRef)(!1);Object(r.useEffect)(()=>{U.current=D,K.current=w,F.current={onShowHandler:N,onHideHandler:R}},[w,R,N,D]);const Y=Object(r.useCallback)(e=>{L.current=e,$.current=!1},[]),W=Object(r.useCallback)(()=>{L.current&&($.current&&F.current.onHideHandler(),L.current=null,$.current=!1,H("hide"))},[]),Q=Object(r.useCallback)(()=>{L.current&&(L.current.abort(),$.current&&F.current.onHideHandler(),L.current=null)},[]);Object(r.useEffect)((function(){return function(){L.current&&Q()}}),[Q]);const q=Object(r.useCallback)(e=>{if(L.current&&!L.current.isActive()&&Q(),L.current&&L.current.isActive())return void L.current.keep();const t=function(e){let t="waiting-to-show";function n(){return Boolean(g&&g.entry===e)}function i(){n()&&(f(),g=null)}function r(){n()&&e.done(),t="done",i()}function o(){n()&&e.hide({isImmediate:!0}),r()}function s(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){const n=Boolean(g&&g.isVisible());function i(){t="shown",e.show({isImmediate:n})}g&&(f(),g.entry.hide({isImmediate:!0}),g.entry.done(),g=null),g={entry:e,isVisible:s},n?i():(t="waiting-to-show",m(i,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void f()):"hide-animating"===t?(t="shown",f(),void e.show({isImmediate:!1})):void 0},abort:i,isActive:n,requestHide:function({isImmediate:i}){n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?o():(t="waiting-to-hide",m(()=>{t="hide-animating",e.hide({isImmediate:!1})},e.delay))):o())},finishHideAnimation:function(){n()&&"hide-animating"===t&&r()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}({source:e,delay:K.current,show:({isImmediate:e})=>{$.current||($.current=!0,F.current.onShowHandler()),H(e?"show-immediate":"show-fade-in")},hide:({isImmediate:e})=>{H(t=>"hide"!==t?e?"hide":"fade-out":t)},done:W});Y(t)},[Q,W,Y]);Object(r.useEffect)(()=>{if("hide"===D)return T;return Object(a.bind)(window,{type:"scroll",listener:()=>{L.current&&L.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})},[D]);const G=Object(r.useCallback)(()=>{M&&L.current&&L.current.requestHide({isImmediate:!0})},[M]),V=Object(r.useCallback)(()=>{j&&L.current&&L.current.requestHide({isImmediate:!0})},[j]),J=Object(r.useCallback)(e=>{if(e.target===B.current)return;if(e.defaultPrevented)return;e.preventDefault();const n="mouse"===t?{type:"mouse",mouse:k({left:e.clientX,top:e.clientY})}:{type:"keyboard"};q(n)},[t,q]),Z=Object(r.useCallback)(e=>{e.target!==B.current&&(e.defaultPrevented||(e.preventDefault(),L.current&&L.current.requestHide({isImmediate:!1})))},[]),X=Object(r.useCallback)(()=>{q({type:"keyboard"})},[q]),ee=Object(r.useCallback)(()=>{L.current&&L.current.requestHide({isImmediate:!1})},[]),te=Object(r.useCallback)(e=>{"exiting"===e&&"fade-out"===U.current&&L.current&&L.current.finishHideAnimation()},[]),ne=y,ie="hide"!==D&&Boolean(h),re="show-immediate"===D||"show-fade-in"===D;return Object(s.f)(o.a.Fragment,null,Object(s.f)(ne,{onMouseOver:J,onMouseOut:Z,onClick:V,onMouseDown:G,onFocus:X,onBlur:ee,ref:_,"data-testid":v?v+"--container":void 0},e),ie?Object(s.f)(d.a,{zIndex:I},Object(s.f)(u.a,{placement:A,referenceElement:(()=>{const e=L.current,n=e?e.getInitialMouse():null;return"mouse"===t&&n?n:z.current||void 0})()},({ref:e,style:t})=>Object(s.f)(c.a,{appear:!0},re&&Object(s.f)(l.a,{onFinish:te,duration:"show-immediate"===D?0:void 0},({className:n})=>Object(s.f)(b,{ref:e,className:"Tooltip "+n,style:t,truncate:p,placement:A,testId:v},h))))):null)}S.displayName="Tooltip";t.a=S},anra:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("ERkP")),r=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=function(e){return i.default.createElement(r.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M12.02 8h-.04A1.98 1.98 0 0 0 10 9.98V11h1V9.99a.99.99 0 0 1 .99-.99h.02a.99.99 0 0 1 .99.99V11h1V9.98A1.98 1.98 0 0 0 12.02 8M10 11h1v1h-1zm3 0h1v1h-1zm0 1h-3a1 1 0 0 0-1 1v2.001a1 1 0 0 0 .991.999h4.018a.992.992 0 0 0 .991-.999V13a1 1 0 0 0-1-1h-1z" fill="inherit"/></g></svg>'},e))};a.displayName="LockCircleIcon";var c=a;t.default=c},b6XK:function(e,t,n){"use strict";var i=n("HbGN"),r=n("Czhu"),o=n("ERkP"),s=n.n(o),a=n("A46D"),c=n("/yy9"),l=n("Xcdj");const u={bottom:"translate3d(0, calc(5% + 4px), 0)",left:"translate3d(calc(-5% - 4px), 0, 0)",right:"translate3d(calc(5% + 4px), 0, 0)",top:"translate3d(0, calc(-5% - 4px), 0)"},d={bottom:"translate3d(0, calc(-5% - 4px), 0)",left:"translate3d(calc(5% + 4px), 0, 0)",right:"translate3d(calc(-5% - 4px), 0, 0)",top:"translate3d(0, calc(5% + 4px), 0)"},h=e=>({from:{opacity:1,transform:void 0!==e?"translate3d(0, 0, 0)":void 0},to:Object(r.a)({opacity:0},void 0!==e&&{transform:d[e]})});t.a=e=>{let{children:t,duration:n=c.a,entranceDirection:o}=e,d=Object(i.a)(e,["children","duration","entranceDirection"]);return s.a.createElement(l.a,Object.assign({duration:n,enteringAnimation:(p=o,{from:Object(r.a)({opacity:0},void 0!==p&&{transform:u[p]}),"50%":{opacity:1},to:{transform:void 0!==p?"none":void 0}}),exitingAnimation:h(o),animationTimingFunction:()=>a.b},d),t);var p}},bES6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("FzbR");Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return i.bind}});var r=n("0gjq");Object.defineProperty(t,"bindAll",{enumerable:!0,get:function(){return r.bindAll}})},"bR0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("KIs4"),r=n("8TdO"),o=n("frZf");const s=(e,t,n="")=>e?`${n}/people/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`:"",a=async(e,t)=>{if(!e)return"";let n="";try{const{featureFlags:e}=await Object(i.b)(Object(r.getApolloClient)());n=e["confluence.frontend.people.directory"]?o.a:""}catch(s){}return`${n}/people/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`},c=(e,t,n="")=>e?`${n}/people/team/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`:"",l=e=>e.getAttribute("data-account-id"),u=e=>{const t={class:"className"},n={};return(e=>Array.from(e.attributes).map(e=>e.name))(e).forEach(i=>{n[t[i]||i]=e.getAttribute(i)}),n.dangerouslySetInnerHTML={__html:e.innerHTML},n};function d(e){return e.filter(l).map(e=>{const t=u(e);t["data-user-hover-bound"]="true",t.href=s(t["data-account-id"],null);const n=window.document.createElement("span");return e.parentNode?(e.parentNode.replaceChild(n,e),{props:t,placeholder:n}):{}})}},bhMQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=()=>{if("undefined"==typeof window||!("matchMedia"in window))return!1;const{matches:e}=window.matchMedia("(prefers-reduced-motion: reduce)");return e},r=()=>({"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}})},btMZ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));class i{constructor(t){t?this.userAgent=t:e.window&&(this.userAgent=e.window.navigator.userAgent)}isFirefox(){return-1!==this.userAgent.indexOf("Firefox/")}notFirefox(){return!this.isFirefox()}isMSEdge(){return-1!==this.userAgent.indexOf("Edge/")}notMSEdge(){return!this.isMSEdge()}isIE(){return-1!==this.userAgent.indexOf("MSIE")||-1!==this.userAgent.indexOf("Trident/")||this.isMSEdge()}notIE(){return!this.isIE()}isChrome(){return-1!==this.userAgent.indexOf("Chrome/")}notChrome(){return!this.isChrome()}isSafari(){return-1!==this.userAgent.indexOf("Safari/")&&-1===this.userAgent.indexOf("Chrome/")}notSafari(){return!this.isSafari()}isPhantom(){return-1!==this.userAgent.indexOf("PhantomJS")}notPhantom(){return!this.isPhantom()}version(){if(this.isIE()){const e=this.userAgent.match(/MSIE\s([\d.]+)/)||this.userAgent.match(/rv:([\d.]+)/)||this.userAgent.match(/Edge\/([\d.]+)/);return parseInt(e[1])}return this.isChrome()?parseInt(this.userAgent.match(/Chrome\/([\d.]+)/)[1]):this.isSafari()?parseInt(this.userAgent.match(/Version\/([\d.]+)/)[1]):this.isFirefox()?parseInt(this.userAgent.match(/Firefox\/([\d.]+)/)[1]):void 0}friendlyName(){return this.isMSEdge()?"MSEdge":this.isIE()?"IE":this.isChrome()?"Chrome":this.isSafari()?"Safari":this.isFirefox()?"Firefox":void 0}}}).call(this,n("fRV1"))},bw3G:function(e,t,n){var i=n("jH7Z"),r=n("zTCs"),o=n("eNNV"),s=Object.defineProperty;t.f=n("PYUJ")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},eNNV:function(e,t,n){var i=n("GU4h");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},eWMb:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"requestService",(function(){return h}));class r{constructor(){this.listeners=new Set}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach(t=>{t.result(e)})}notifyError(e){this.listeners.forEach(t=>{t.error&&t.error(e)})}notifyInfo(e){this.listeners.forEach(t=>{t.info&&t.info(e)})}notifyNotReady(){this.listeners.forEach(e=>{e.notReady&&e.notReady()})}}var o=n("Czhu"),s=n("EfWO"),a=n("4CAG"),c=n.n(a);const l=c.a.default||c.a,u={},d=(e,t)=>{if(t)for(const n in t)if({}.hasOwnProperty.call(t,n)){const i=t[n];if(Array.isArray(i))for(let t=0;t<i.length;t++)e[n]=i[t];else e[n]=i}},h=(e,t)=>{const{url:n,securityProvider:i,refreshedSecurityProvider:r}=e,{path:a,queryParams:c,requestInit:p}=t||u,f=i&&i(),m=((e,t="",n,i)=>{const r=new l(s.parse(e).search||void 0);if(e=e.split("?")[0],n)for(const s in n)({}).hasOwnProperty.call(n,s)&&r.append(s,n[s]);if(i&&i.params)for(const s in i.params)if({}.hasOwnProperty.call(i.params,s)){const e=i.params[s];if(Array.isArray(e))for(let t=0;t<e.length;t++)r.append(s,e[t]);else r.append(s,e)}let o="";t&&"/"!==e.substr(-1)&&(o="/");let a=r.toString();return a&&(a="?"+a),`${e}${o}${t}${a}`})(n,a,c,f),g=((e,t)=>{const n={};return d(n,t),e&&d(n,e.headers),n})(f,p&&p.headers),b=(e=>e&&e.omitCredentials?"omit":"include")(f),y=Object(o.a)(Object(o.a)({},p),{},{headers:g,credentials:b});return fetch(m,y).then(e=>204===e.status?Promise.resolve():e.ok?e.json():401===e.status&&r?r().then(e=>h({url:n,securityProvider:()=>e},t)):Promise.reject({code:e.status,reason:e.statusText}))};n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return r}));const p=i},ecHh:function(e,t,n){var i=n("yK4D");e.exports=function(e){return Object(i(e))}},fLXQ:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g}));n("Czhu");var i=n("Jygk"),r=n.n(i),o=n("S2j0"),s=n("AqZj"),a=n("Xzcx");function c(e,t,n,i){if(n<=0||!n||t===e.scrollTop)return e.scrollTop=t,void(i&&i());const o=t-e.scrollTop,s=o/n*(1e3/60);let a=e.scrollTop;const c=()=>{const n=a+s;if(o<0&&n<=t||o>0&&n>=t)return e.scrollTop=t,void(i&&i());a=n,e.scrollTop=a,r.a.requestAnimationFrame(c)};r.a.requestAnimationFrame(c)}function l(e,t={}){if(!e)return;t.container||(t.container=Object(a.h)());const{container:n,topGap:i=0,bottomGap:r=0,duration:o=0}=t,s=e.getBoundingClientRect(),{top:l,bottom:u}=s,{clientHeight:d,scrollTop:h}=t.container,p=-l+i,f=u-d+r;return p>0?c(n,h-p,o):f>0?c(n,h+f,o):void 0}function u(e,t,n){e&&t.split(" ").forEach(t=>e.classList[n](t))}function d(e,t){u(e,t,"add")}function h(e,t){const n=t?t.documentElement:document.documentElement;if(!e||!n)return;const i=e.getBoundingClientRect(),{top:r,bottom:o}=i,s=n.offsetHeight;return 0<=r&&r<s||0<=o&&o<=s||r<=0&&0<=o&&o>=s}function p(e,t){const n=t?t.documentElement:document.documentElement;if(!e||!n)return;const i=e.getBoundingClientRect(),{top:r}=i,o=n.offsetHeight;return 0<=r&&r<o}function f(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function m(e){if(!e||e===document)return null;const t=r.a.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:m(e.parentNode)}const g=(e,t,n)=>n?e.length?new Promise(i=>{Object(o.a)(e,()=>{Object(s.a)(n,t).then(i)},()=>{0})}):Object(s.a)(n,t):Promise.reject(new Error("script container is not present"))},gQmS:function(e,t){t.f=Object.getOwnPropertySymbols},iZYR:function(e,t,n){var i=n("3WEy"),r=n("6qOv");e.exports=Object.keys||function(e){return i(e,r)}},jH7Z:function(e,t,n){var i=n("GU4h");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},jYB6:function(e){e.exports=JSON.parse('{"a":"@atlaskit/tooltip","b":"17.0.0"}')},jqY8:function(e,t,n){"use strict";function i(){return"undefined"!=typeof window?window.location:void 0}function r(){if("undefined"==typeof window||!window.location)return;let e=window.location.origin;return e||(e=`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`),e}function o(){"undefined"!=typeof window&&window.location.reload()}function s(e){return"undefined"==typeof window||window.confirm(e)}function a(...e){"undefined"!=typeof window&&window.addEventListener.apply(window,e)}function c(...e){"undefined"!=typeof window&&window.removeEventListener.apply(window,e)}function l(){return"undefined"==typeof window?0:window.pageYOffset}function u(){return"undefined"==typeof window?0:window.innerHeight}function d(...e){if(window&&window.require)return window.require.apply(window,e)}function h(){return window}n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h}))},kVVw:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("zjfJ"),r=n("xV3C"),o=n("pL3m"),s=n("MjPE"),a=n("8TdO"),c=n("KIs4"),l=n("kC4U");class u extends r.c{constructor(e,t,n){super(t),Object(i.a)(this,"userTeamEndpoint",void 0),Object(i.a)(this,"teamMentionConfig",void 0),this.teamMentionConfig=n,this.userTeamEndpoint=e}async remoteInitialState(e){try{const t=await this.doSearch("",e);return this._notifyAnalyticsListeners(o.c,"initialState","succeeded"),t}catch(t){throw this._notifyAnalyticsListeners(o.c,"initialState","failed"),t}}async remoteSearch(e,t){try{const n=await this.doSearch(e,t);return this._notifyAnalyticsListeners(o.c,"searchUser","succeeded"),n}catch(n){throw this._notifyAnalyticsListeners(o.c,"searchUser","failed"),n}}mentionTypeaheadHighlightEnabled(){return this.teamMentionConfig.teamHighlightEnabled||!1}mentionTypeaheadCreateTeamPath(){return this.teamMentionConfig.createTeamPath}async doSearch(e,t){const n=await this.post(await this.cloudId(),e,t);if(!n.ok){const e=await n.json();throw new Error(JSON.stringify(e))}return{query:e,mentions:(await n.json()).recommendedUsers.map(e=>this.isUser(e)?this.convertToUserMention(e):(this.isTeam(e),this.convertToTeamMention(e)))}}async cloudId(){const e=await Object(c.b)(Object(a.getApolloClient)()),{cloudId:t}=e;return t}async post(e,t,n){return await Object(l.a)(this.userTeamEndpoint,{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({context:{contextType:"Mentions",principalId:"context",productKey:n&&n.product||"confluence",siteId:e,containerId:n&&n.containerId,objectId:n&&n.objectId,childObjectId:n&&n.childObjectId,mentionsSessionId:n&&n.sessionId},searchQuery:{queryString:t},maxNumberOfResults:20,includeTeams:!0})})}isUser(e){return"USER"===e.entityType}convertToUserMention(e){return{id:e.id,name:e.name||e.nickname||"",mentionName:e.nickname||"",avatarUrl:e.avatarUrl,accessLevel:e.accessLevel,userType:e.userType}}isTeam(e){return"TEAM"===e.entityType}convertToTeamMention(e){const{teamLinkResolver:t}=this.teamMentionConfig;let n="";const i=`${window.location.origin}/people/team/${e.id}`;return"function"==typeof t&&(n=t(e.id)),{id:e.id,name:e.displayName,mentionName:e.displayName,avatarUrl:e.smallAvatarImageUrl,accessLevel:s.c[s.c.CONTAINER],userType:s.d[s.d.TEAM],context:{members:e.members,includesYou:e.includesYou,memberCount:e.memberCount,teamLink:n||i}}}}},kw4U:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("Jygk"),r=n.n(i),o=n("5PxA"),s=n("WHVE"),a=n("bQlP");function c(){return Object(a.F)("fd-87.editor.spa")&&(Object(o.a)(),Object(s.a)()),r.a.AJS.Rte.BootstrapManager}function l(){return Object(a.F)("fd-87.editor.spa")&&Object(o.a)(),r.a.AJS.Rte}function u(){return r.a.Confluence.Editor.Autocompleter}},liuE:function(e,t,n){"use strict";var i=n("ERkP"),r=n.n(i),o=n("Czhu"),s=n("3IV/"),a=n("8pvK");const c={default:{light:s.N40,dark:s.N40},inprogress:{light:s.B50,dark:s.B50},moved:{light:s.Y75,dark:s.Y75},new:{light:s.P50,dark:s.P50},removed:{light:s.R50,dark:s.R50},success:{light:s.G50,dark:s.G50}},l={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B500,dark:s.B500},moved:{light:s.N800,dark:s.N800},new:{light:s.P500,dark:s.P500},removed:{light:s.R500,dark:s.R500},success:{light:s.G500,dark:s.G500}},u={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B400,dark:s.B400},moved:{light:s.Y500,dark:s.Y500},new:{light:s.P400,dark:s.P400},removed:{light:s.R400,dark:s.R400},success:{light:s.G400,dark:s.G400}},d={default:{light:s.N0,dark:s.N0},inprogress:{light:s.N0,dark:s.N0},moved:{light:s.N800,dark:s.N800},new:{light:s.N0,dark:s.N0},removed:{light:s.N0,dark:s.N0},success:{light:s.N0,dark:s.N0}},h=Object(a.a)(({appearance:e,isBold:t,maxWidth:n})=>Object(o.a)(Object(o.a)({},"object"==typeof e?Object(o.a)({backgroundColor:(t?u:c).default.light,textColor:(t?d:l).default.light},e):{backgroundColor:(t?u[e]:c[e]).light,textColor:(t?d[e]:l[e]).light}),{},{maxWidth:n}));var p=n("l1C2"),f=n("BMbf");const m=Object(f.c)()+"px";var g=({backgroundColor:e,textColor:t,children:n,testId:i})=>Object(p.f)("span",{css:{backgroundColor:e,borderRadius:m,boxSizing:"border-box",color:t,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":i},n);const b=Object(f.h)()/2+"px";var y=({maxWidth:e,children:t})=>Object(p.f)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+b,maxWidth:"number"==typeof e?e+"px":e,width:"100%"}},t);n.d(t,"a",(function(){return v}));class v extends i.PureComponent{render(){const{theme:e,children:t,testId:n}=this.props;return r.a.createElement(h.Provider,{value:e},r.a.createElement(h.Consumer,Object.assign({},this.props),e=>r.a.createElement(g,Object.assign({testId:n},e),r.a.createElement(y,Object.assign({},e),t))))}}v.defaultProps={isBold:!1,appearance:"default",maxWidth:200}},m4ZL:function(e,t,n){var i=n("GU4h"),r=n("DozX").document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},nmGk:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},oSRv:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},pwfR:function(e,t,n){"use strict";var i=n("ERkP"),r=n.n(i),o=n("bhMQ");n.d(t,"b",(function(){return u}));const s={appear:!0,isExiting:!1},a=Object(i.createContext)(s),c=(e,t=s)=>r.a.createElement(a.Provider,{key:e.key+"-provider",value:t},e),l=e=>e.reduce((e,t)=>(e[t.key]=t,e),{}),u=()=>Object(i.useContext)(a);t.a=({appear:e=!1,children:t,exitThenEnter:n})=>{const r=(e=>{const t=[];return i.Children.toArray(e).forEach(e=>{"boolean"!=typeof e&&t.push(e)}),t})(t),s=l(r),a=Object(i.useRef)([]),u=Object(i.useRef)([]),d=(()=>{const[,e]=Object(i.useState)({});return Object(i.useCallback)(()=>e({}),[])})(),h=Object(i.useRef)({}),p=Object(i.useRef)(e),f=Object(i.useMemo)(()=>({appear:p.current,isExiting:!1}),[p.current]);return Object(o.a)()?r:(p.current||(p.current=!0),a.current.length&&((e,t)=>{for(let n=0;n<t.length;n++){if(!e[t[n].key])return!0}return!1})(s,a.current)?((0===u.current.length||((e,t)=>{let n=!1;return t.forEach(t=>{e.current[t.key]&&(n=!0,delete e.current[t.key])}),n})(h,r))&&(u.current=a.current),a.current=r,(n?u.current:((e,t)=>{const n=t.concat([]),i=l(t);for(let r=0;r<e.length;r++){const t=e[r];!i[t.key]&&n.splice(r+1,0,t)}return n})(r,u.current)).map(e=>{const t=s[e.key];return t?c(t,f):(h.current[e.key]=!0,c(e,{isExiting:!0,appear:!0,onFinish:()=>{delete h.current[e.key],0===Object.keys(h.current).length&&(a.current=[],u.current=[],d())}}))})):(a.current=r,r.map(e=>c(e,f))))}},qyOa:function(e,t,n){"use strict";var i=n("iZYR"),r=n("gQmS"),o=n("0On3"),s=n("ecHh"),a=n("rsBL"),c=Object.assign;e.exports=!c||n("oSRv")((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=i}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,u=r.f,d=o.f;c>l;)for(var h,p=a(arguments[l++]),f=u?i(p).concat(u(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:c},r2uX:function(e,t,n){var i=n("CwQO"),r=n("u2Rj"),o=n("rbMR");e.exports=function(e){return function(t,n,s){var a,c=i(t),l=r(c.length),u=o(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},rY2j:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},rbMR:function(e,t,n){var i=n("nmGk"),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},rsBL:function(e,t,n){var i=n("tzX3");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},s2dH:function(e,t,n){"use strict";function i(e){return{x:e.clientX,y:e.clientY}}function r(e,t){return!e||e.x!==t.x||e.y!==t.y}function o(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},tzX3:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},u2Rj:function(e,t,n){var i=n("nmGk"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},utTn:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}));var i=n("Jygk"),r=n.n(i),o=n("M2LZ");const s=function(){o.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{r.a.Confluence.SpaceBlueprint.Dialog.launch()})},a=function(){o.a.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then(()=>{r.a.Confluence.Blueprint.loadDialogAndOpenTemplate({})})},c=function(){return Confluence.Link};"undefined"!=typeof Confluence&&Confluence;const l=()=>"undefined"!=typeof Confluence&&Confluence.Binder&&Confluence.Binder.userHover&&Confluence.Binder.userHover()},uv4k:function(e,t,n){var i=n("bw3G"),r=n("rY2j");e.exports=n("PYUJ")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},uvkf:function(e,t,n){"use strict";var i=n("ERkP"),r=n("l1C2"),o=n("BMbf");const s=Object(r.e)("z-index:",o.i.tooltip(),";pointer-events:none;"),a=Object(i.forwardRef)((function({style:e,className:t,children:n,placement:i,testId:o},a){return Object(r.f)("div",{role:"tooltip",ref:a,style:e,className:t,css:s,"data-placement":i,"data-testid":o},n)}));a.displayName="TooltipPrimitive",t.a=a},yK4D:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},zTCs:function(e,t,n){e.exports=!n("PYUJ")&&!n("oSRv")((function(){return 7!=Object.defineProperty(n("m4ZL")("div"),"a",{get:function(){return 7}}).a}))},zitS:function(e,t,n){"use strict";var i=n("ERkP"),r=n.n(i),o=n("u6In"),s=n("zJ/j"),a=n("WCbN"),c=n.n(a),l=n("a8dO"),u=n("+1K0"),d=n("pL3m"),h=n("UEfI"),p=n("KsTJ"),f=n("BMbf"),m=n("3IV/"),g=n("WEdt");const b=p.default.div`
  justify-content: flex-end;
  margin-top: -${.5*Object(f.h)()}px; /* Negative margin is used to middle align x button with title*/
  margin-right: ${.5*Object(f.h)()}px;
`,y=p.default.div`
  ${g.h400};
  margin-top: 0px;
`,v=p.default.div`
  margin-left: ${2*Object(f.h)()}px;
  margin-bottom: ${.5*Object(f.h)()}px;
`,w=p.default.div`
  display: flex;
  flex-direction: row;
  background-color: ${m.P50};
  overflow: hidden;
  line-height: 21px;
  padding-top: ${2*Object(f.h)()}px;
  padding-bottom: ${2*Object(f.h)()}px;
  padding-left: ${2*Object(f.h)()}px;
  padding-right: 0px;
  margin-top: -${.5*Object(f.h)()}px; /* Negative margin is used to fill the entire top of the mention dropdown with background colour of highlight*/
`,E=p.default.div`
  max-width: 290px;
  display: flex;
`,C=p.default.div``,O=p.default.div`
  opacity: 0.8;
`,j=p.default.div`
  margin-left: ${2*Object(f.h)()}px;
`;class x extends r.a.Component{constructor(e){super(e),this.onCreateTeamLinkClick=()=>{this.setState({isHighlightHidden:!0});const{onCreateTeamLinkClick:e}=this.props;u.a.registerCreateLinkClick(),e&&e()},this.preventClickOnCard=e=>{this.elCloseWrapper.current&&this.elCloseWrapper.current.contains(e.target)&&this.onCloseClick();this.elCreateTeamWrapper.current&&this.elCreateTeamWrapper.current.contains(e.target)&&this.onCreateTeamLinkClick(),e.stopPropagation(),e.stopImmediatePropagation()},this.onCloseClick=()=>{this.setState({isHighlightHidden:!0}),this.props.onClose()},this.elWrapper=r.a.createRef(),this.elCloseWrapper=r.a.createRef(),this.elCreateTeamWrapper=r.a.createRef(),this.state={isHighlightHidden:!1}}componentDidMount(){const{onViewed:e}=this.props;this.addEventHandler(),u.a.isHighlightEnabled()?(u.a.registerRender(),e&&e()):this.setState({isHighlightHidden:!0})}componentWillUnmount(){this.removeEventHandler()}addEventHandler(){this.elWrapper.current&&this.elWrapper.current.addEventListener("click",this.preventClickOnCard)}removeEventHandler(){this.elWrapper.current&&this.elWrapper.current.removeEventListener("click",this.preventClickOnCard)}render(){const{createTeamLink:e}=this.props,{isHighlightHidden:t}=this.state;return t?null:r.a.createElement("div",{ref:this.elWrapper},r.a.createElement(w,null,r.a.createElement(E,null,r.a.createElement(O,null,r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSI2NCIgY3k9IjY0IiBmaWxsPSIjNTI0M2FhIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHI9IjY0Ii8+PHBhdGggZD0ibTgwIDY0Yy02LjYyNzQxNyAwLTEyLTUuMzcyNTgzLTEyLTEyczUuMzcyNTgzLTEyIDEyLTEyIDEyIDUuMzcyNTgzIDEyIDEyLTUuMzcyNTgzIDEyLTEyIDEyem0tMzItMTJjLTYuNjI3NDE3IDAtMTItNS4zNzI1ODMtMTItMTJzNS4zNzI1ODMtMTIgMTItMTIgMTIgNS4zNzI1ODMgMTIgMTItNS4zNzI1ODMgMTItMTIgMTJ6bTEyIDI0YzAtNC40MiAzLjU0OC04IDgtOGgyNGM0LjQyIDAgOCAzLjU0IDggOHYxNC45MmMwIDEyLjEwOC00MCAxMi4xMDgtNDAgMHptOC0xMmgtLjAxMmMtMy4xODQzNTM3LjAwNDI0LTYuMjM2NTQxIDEuMjczNTYxNS04LjQ4NDg0MjcgMy41Mjg2MTQ5LTIuMjQ4MzAxOCAyLjI1NTA1MzQtMy41MDg0NjU2IDUuMzExMDMzLTMuNTAzMTU3MyA4LjQ5NTM4NTF2MTEuMjI4Yy0xMS43ODQgMi4xMzYtMjgtLjI1Mi0yOC03LjkzNnYtMTUuMzA0YzAtNC40MjQgMy41NDgtOC4wMTIgOC04LjAxMmgyNGMyLjEyMjcwODYtLjAwMzE5MTIgNC4xNTkzOTQ2LjgzODYzODYgNS42NjAzNzggMi4zMzk2MjJzMi4zNDI4MTMyIDMuNTM3NjY5NCAyLjMzOTYyMiA1LjY2MDM3OHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjk1Ii8+PC9nPjwvc3ZnPg==",height:32})),r.a.createElement(C,null,r.a.createElement(v,null,r.a.createElement(y,null,r.a.createElement(h.j,null))),r.a.createElement(j,null,r.a.createElement(h.h,null,t=>r.a.createElement("div",null,t,r.a.createElement("span",{ref:this.elCreateTeamWrapper},r.a.createElement(h.i,null,t=>r.a.createElement("a",{href:e,target:"_blank"}," ",t))))))),r.a.createElement(b,null,r.a.createElement("div",{ref:this.elCloseWrapper},r.a.createElement(h.g,null,e=>r.a.createElement(l.a,{content:e,position:"bottom"},r.a.createElement(s.a,{appearance:"subtle",iconBefore:r.a.createElement(c.a,{label:"Close",size:"medium"}),spacing:"none"}))))))))}}x.defaultProps={createTeamLink:"/people/search#createTeam"};const k=Object(o.a)({onClose:e=>{Object(d.i)(e)(d.b.TEAM_MENTION_HIGHLIGHT,d.a.CLOSED,d.b.MENTION,"closeButton")},onCreateTeamLinkClick:e=>{Object(d.i)(e)(d.b.TEAM_MENTION_HIGHLIGHT,d.a.CLICKED,d.b.MENTION,"createTeamLink")},onViewed:e=>{Object(d.i)(e)(d.b.TEAM_MENTION_HIGHLIGHT,d.a.VIEWED,d.b.MENTION,void 0,u.a.getSeenCount())}})(x);t.a=k}}]);
//# sourceMappingURL=initialize-editor-plugins~493df0b3.MWdFLH73fA.js.map