(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{"+e5P":function(e,t,n){"use strict";var o=n("ERkP"),s=n.n(o),r=n("1U1M"),i=n("RjSO"),a=n("8Kf2"),c=n("a0gl"),d=n("21UR"),l=n("H5qd"),h=n.n(l);const u=h.a`mutation WatchPageMutation($id:ID!){watchContent(watchContentInput:{contentId:$id currentUser:true}){content{id currentUserIsWatching}}}`,b=h.a`query EditPermissionQuery($contentId:ID!){content(id:$contentId){nodes{id operations{operation targetType}}}}`;n.d(t,"a",(function(){return p}));const p=({contentId:e,contentType:t,mode:n,spaceId:l,saveHandler:h,cancelHandler:p,onEditorLoaded:k,afterActivate:m,content:v})=>{var f;const[C,g]=Object(o.useState)(!1),[I,x]=Object(o.useState)(!1),{userId:y}=Object(c.a)(),{createAnalyticsEvent:j}=Object(i.a)(),[O]=Object(r.c)(u),{data:E}=Object(r.d)(b,{variables:{contentId:e}}),D=((null!=(f=E)&&null!=(f=f.content)&&null!=(f=f.nodes)&&null!=(f=f[0])?f.operations:f)||[]).filter(({operation:e,targetType:n})=>"update"===e&&n===t).length>0;Object(o.useEffect)(()=>()=>{p({isEditorAborted:!1})},[]);const F=Object(o.useCallback)(n=>(x(!0),C&&(O({variables:{id:e}}),j({type:"sendTrackEvent",data:{action:"watched",actionSubject:t,actionSubjectId:e,source:"comment",attributes:{editor:"v2"}}}).fire()),h({adf:n}).catch(e=>{throw x(!1),e})),[C,h]),w=Object(o.useCallback)(()=>{p({isEditorAborted:!0})},[p]);return s.a.createElement(a.a,{pageId:e,appearance:"comment",commentMode:n,spaceId:l,onSaveComment:F,content:v,secondaryToolbarComponent:(A=I,Boolean(y)?s.a.createElement(d.a,{contentId:e,disabled:A,onWatchChange:g}):void 0),onCancelComment:w,onEditorReady:k,afterActivation:m,hasMediaUploadPermissions:D,shouldWarnOnInternalNavigation:!0});var A}},"21UR":function(e,t,n){"use strict";var o=n("Iy7w"),s=n("ERkP"),r=n.n(s),i=n("L21V"),a=n("1U1M"),c=n("kgsK"),d=n("dIe6"),l=n("H5qd");const h=n.n(l).a`query WatchPageQuery($contentId:ID!){content(id:$contentId){nodes{id currentUserIsWatching}}}`;n.d(t,"a",(function(){return b}));const u=Object(o.a)("div",{target:"en9eah70"})({name:"ibmaxi",styles:"display:flex;flex-grow:80;"}),b=({contentId:e,onWatchChange:t,disabled:n})=>{var o;const{data:l,loading:b,error:p}=Object(a.d)(h,{variables:{contentId:e}});Object(s.useEffect)(()=>{var e;const n=!(null!=(e=l)&&null!=(e=e.content)&&null!=(e=e.nodes)&&null!=(e=e[0])?e.currentUserIsWatching:e);t(n)},[l,t]);const k=Object(s.useCallback)(e=>t(e.target.checked),[t]);if(b)return null;if(p)return r.a.createElement(d.a,{error:p});return!(null!=(o=l)&&null!=(o=o.content)&&null!=(o=o.nodes)&&null!=(o=o[0])?o.currentUserIsWatching:o)?r.a.createElement(u,null,r.a.createElement(i.c,{id:"comment-simple.watch.checkbox.label",defaultMessage:"Watch this page",description:"The label for the watch page checkbox"},e=>r.a.createElement(c.a,{testId:"comment-watch-checkbox",label:e,defaultChecked:!0,isDisabled:n,onChange:k}))):null}},ESpw:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));const o=e=>({}),s=function(e,t=Object.create(Object.prototype)){if(!e)throw new Error("a default set of overrides *must* be passed in as the first argument");return function(n){const{cssFn:o,attributesFn:s,component:r}=e[n];if(!t[n])return{cssFn:o,attributesFn:s,component:r};const{cssFn:i,attributesFn:a,component:c}=t[n];return{cssFn:i?e=>i(o(e),e):o,attributesFn:a||s,component:c||r}}}},"GNK+":function(e){e.exports=JSON.parse('{"a":"@atlaskit/checkbox","b":"11.0.4"}')},N4KI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("ERkP")),s=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=function(e){return o.default.createElement(s.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><rect fill="inherit" x="8" y="11" width="8" height="2" rx="1"/></g></svg>'},e))};a.displayName="CheckboxIndeterminateIcon";var c=a;t.default=c},bXhU:function(e,t,n){"use strict";var o=n("HbGN"),s=n("ERkP"),r=n.n(s),i=n("lSUb"),a=n("xQ8g"),c=n.n(a),d=n("N4KI"),l=n.n(d),h=n("EFzz"),u=n("Czhu"),b=n("l1C2"),p=n("ESpw");const k=e=>{let{tokens:t}=e,n=Object(o.a)(e,["tokens"]);return n.isDisabled?{stroke:(s=t.icon).borderColor.disabled,strokeWidth:s.borderWidth}:n.isActive?(e=>({stroke:e.borderColor.active,strokeWidth:e.borderWidth}))(t.icon):n.isFocused?(e=>({stroke:e.borderColor.focused,strokeWidth:e.borderWidth}))(t.icon):n.isInvalid?n.isChecked?(e=>({stroke:e.borderColor.invalidAndChecked,strokeWidth:e.borderWidth}))(t.icon):(e=>({stroke:e.borderColor.invalid,strokeWidth:e.borderWidth}))(t.icon):n.isHovered?n.isChecked?(e=>({stroke:e.borderColor.hoveredAndChecked,strokeWidth:e.borderWidth}))(t.icon):(e=>({stroke:e.borderColor.hovered,strokeWidth:e.borderWidth}))(t.icon):n.isChecked?(e=>({stroke:e.borderColor.checked,strokeWidth:e.borderWidth}))(t.icon):{stroke:t.icon.borderColor.rest,strokeWidth:t.icon.borderWidth};var s},m=e=>{const{isChecked:t,isDisabled:n,isActive:o,tokens:{icon:s}}=e;let r=s.tickColor.checked;return n&&t?r=s.tickColor.disabledAndChecked:o&&t&&!n?r=s.tickColor.activeAndChecked:t||(r=s.tickColor.rest),r},v=e=>{const{isChecked:t,isDisabled:n,isActive:o,isHovered:s,tokens:{icon:r}}=e;let i=r.boxColor.rest;return n?i=r.boxColor.disabled:o?i=r.boxColor.active:s&&t?i=r.boxColor.hoveredAndChecked:s?i=r.boxColor.hovered:t&&(i=r.boxColor.checked),i};var f={component:function(e){let{attributesFn:t,cssFn:n,children:s}=e,r=Object(o.a)(e,["attributesFn","cssFn","children"]);return Object(b.f)("span",Object.assign({css:n(r)},t(r),{children:s}))},cssFn:e=>({lineHeight:0,flexShrink:0,color:v(e),fill:m(e),transition:"all 0.2s ease-in-out;","& rect:first-of-type":Object(u.a)({transition:"stroke 0.2s ease-in-out;"},k(e)),"> span":{display:"flex"}}),attributesFn:p.b},C=n("oXDD");n.d(t,"a",(function(){return I}));const g={IconWrapper:f,IconIndeterminate:{component:l.a},Icon:{component:c.a}};class I extends s.Component{constructor(e){super(e),this.createExtender=Object(i.a)(p.a).bind(this)}render(){const{isChecked:e,isDisabled:t,isInvalid:n,isActive:s,isFocused:i,isHovered:a,isIndeterminate:c,overrides:d,primaryColor:l,secondaryColor:u,theme:b}=this.props,p=this.createExtender(g,d),k=p("IconWrapper"),{component:m}=k,v=Object(o.a)(k,["component"]),{component:f}=p("IconIndeterminate"),{component:I}=p("Icon");return r.a.createElement(C.b.Provider,{value:b},r.a.createElement(h.a.Consumer,null,({mode:o})=>r.a.createElement(C.b.Consumer,{mode:o,tokens:C.a},o=>r.a.createElement(m,Object.assign({},v,{tokens:o,isChecked:e,isDisabled:t,isFocused:i,isActive:s,isHovered:a,isInvalid:n}),c?r.a.createElement(f,{primaryColor:l,secondaryColor:u,size:o.icon.size,label:""}):r.a.createElement(I,{primaryColor:l,secondaryColor:u,size:o.icon.size,label:""})))))}}I.defaultProps={primaryColor:"inherit",secondaryColor:"inherit",isIndeterminate:!1,theme:(e,t)=>e(t)}},kgsK:function(e,t,n){"use strict";var o=n("HbGN"),s=n("ERkP"),r=n.n(s),i=n("lSUb"),a=n("z3D9"),c=n("nvpc"),d=n("u6In"),l=n("EFzz"),h=n("bXhU"),u=n("Czhu"),b=n("l1C2"),p=n("BMbf"),k=n("ESpw");var m={component:function({attributesFn:e,children:t,isDisabled:n,onMouseUp:o,onMouseDown:s,onMouseLeave:r,onMouseEnter:i,tokens:a,cssFn:c,testId:d}){return Object(b.f)("label",Object.assign({},e({isDisabled:n}),{onMouseUp:o,onMouseDown:s,onMouseLeave:r,onMouseEnter:i,css:c({isDisabled:n,tokens:a}),"data-testid":d}),t)},cssFn:({isDisabled:e,tokens:t})=>Object(u.a)({fontFamily:Object(p.e)(),alignItems:"flex-start",display:"flex",color:e?t.label.textColor.disabled:t.label.textColor.rest},e&&{cursor:"not-allowed"}),attributesFn:k.b};var v={component:function({attributesFn:e,tokens:t,children:n,cssFn:o}){return Object(b.f)("span",Object.assign({},e(),{css:o({tokens:t})}),n)},cssFn:({tokens:e})=>({paddingTop:e.label.spacing.top,paddingRight:e.label.spacing.right,paddingBottom:e.label.spacing.bottom,paddingLeft:e.label.spacing.left}),attributesFn:k.b},f=({children:e})=>Object(b.f)("span",{css:{display:"flex;",flexShrink:0,position:"relative"}},e),C=Object(s.forwardRef)((e,t)=>{let{createAnalyticsEvent:n,attributesFn:s,testId:r}=e,i=Object(o.a)(e,["createAnalyticsEvent","attributesFn","testId"]);return Object(b.f)("input",Object.assign({type:"checkbox"},s({disabled:i.disabled,checked:i.checked,required:i.required}),i,{ref:t,css:{left:"50%",margin:0,opacity:0,padding:0,position:"absolute",transform:"translate(-50%, -50%)",top:"50%",pointerEvents:"none"},"data-testid":r}))}),g=n("ZgvQ"),I=e=>{let{tokens:t}=e,n=Object(o.a)(e,["tokens"]);return Object(b.f)("span",Object.assign({css:{color:t.requiredIndicator.textColor.rest,paddingLeft:Object(g.multiply)(p.h,.25)+"px;"}},n))},x=n("oXDD"),y=n("GNK+");const j={Label:m,LabelText:v,HiddenCheckbox:{attributesFn:()=>({})}};class O extends s.Component{constructor(e){super(e),this.state={isActive:!1,isFocused:!1,isHovered:!1,isMouseDown:!1,isChecked:void 0!==this.props.isChecked?this.props.isChecked:this.props.defaultChecked},this.checkbox=void 0,this.actionKeys=[" "],this.onChange=e=>this.props.isDisabled?null:(e.persist(),void 0!==e.target.checked&&this.setState({isChecked:e.target.checked}),this.props.onChange&&this.props.onChange(e),!0),this.blur=()=>{this.checkbox&&this.checkbox.blur&&this.checkbox.blur()},this.focus=()=>{this.checkbox&&this.checkbox.focus&&this.checkbox.focus()},this.onBlur=()=>this.setState({isActive:this.state.isMouseDown&&this.state.isActive,isFocused:!1}),this.onFocus=()=>this.setState({isFocused:!0}),this.onMouseLeave=()=>this.setState({isActive:!1,isHovered:!1}),this.onMouseEnter=()=>this.setState({isHovered:!0}),this.onMouseUp=()=>this.setState({isActive:!1,isMouseDown:!1}),this.onMouseDown=()=>this.setState({isActive:!0,isMouseDown:!0}),this.onKeyDown=e=>{e.key in this.actionKeys&&this.setState({isActive:!0})},this.onKeyUp=e=>{e.key in this.actionKeys&&this.setState({isActive:!1})},this.createExtender=Object(i.a)(k.a)}componentDidMount(){const{isIndeterminate:e}=this.props;this.checkbox&&(this.checkbox.indeterminate=!!e,this.props.inputRef&&this.props.inputRef(this.checkbox))}componentDidUpdate(e){const{isIndeterminate:t}=this.props;e.isIndeterminate!==t&&this.checkbox&&(this.checkbox.indeterminate=!!t)}render(){const{isDisabled:e,isInvalid:t,isIndeterminate:n,label:s,name:i,overrides:a,value:c,isRequired:d,isChecked:u,theme:b,testId:p}=this.props,m=void 0===this.props.isChecked?this.state.isChecked:u,{isFocused:v,isActive:g,isHovered:y}=this.state,O=Object(k.a)(j,a),E=O("Label"),{component:D}=E,F=Object(o.a)(E,["component"]),w=O("LabelText"),{component:A}=w,W=Object(o.a)(w,["component"]),{attributesFn:M}=O("HiddenCheckbox");return r.a.createElement(x.b.Provider,{value:b},r.a.createElement(l.a.Consumer,null,({mode:o})=>r.a.createElement(x.b.Consumer,{mode:o,tokens:x.a},o=>r.a.createElement(D,Object.assign({},F,{isDisabled:e,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp,tokens:o,testId:p&&p+"--checkbox-label"}),r.a.createElement(f,null,r.a.createElement(C,{disabled:e,checked:m,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,value:c,name:i,ref:e=>this.checkbox=e,required:d,attributesFn:M,testId:p&&p+"--hidden-checkbox"}),r.a.createElement(h.a,{theme:b,overrides:{IconWrapper:a&&a.IconWrapper,Icon:a&&a.Icon,IconIndeterminate:a&&a.IconIndeterminate},isChecked:m,isDisabled:e,isFocused:v,isActive:g,isHovered:y,isInvalid:t,isIndeterminate:n,primaryColor:"inherit",secondaryColor:"inherit",label:""})),r.a.createElement(A,Object.assign({},W,{tokens:o}),s,d&&r.a.createElement(I,{tokens:o,"aria-hidden":"true"},"*"))))))}}O.defaultProps={isDisabled:!1,isInvalid:!1,defaultChecked:!1,isIndeterminate:!1,theme:(e,t)=>e(t)};const E=Object(a.a)("atlaskit");t.a=Object(c.a)({componentName:"checkbox",packageName:y.a,packageVersion:y.b})(Object(d.a)({onChange:E({action:"changed",actionSubject:"checkbox",attributes:{componentName:"checkbox",packageName:y.a,packageVersion:y.b}})})(O))},o0lc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("ERkP"),s=n.n(o),r=n("lZoD"),i=n("WWAs"),a=n("03Pf");const c=({children:e})=>{const t=Object(o.useRef)(0),n=Object(o.useCallback)(e=>{Object(a.b)(e,-t.current)},[t]);return s.a.createElement(r.c,{to:[i.a]},o=>(t.current=o.getTotalHeight(),e({scrollToElement:n})))};c.displayName="DocumentScroller"},oXDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("3IV/"),s=n("8pvK");const r={label:{textColor:{rest:{light:o.N900,dark:o.DN600},disabled:{light:o.N80,dark:o.N80}},spacing:{top:"2px",right:"4px",bottom:"2px",left:"4px"}},icon:{borderWidth:"2px",borderColor:{rest:{light:o.N40,dark:o.DN80},disabled:{light:"",dark:""},checked:{light:"currentColor",dark:"currentColor"},active:{light:"currentColor",dark:"currentColor"},invalid:{light:o.R300,dark:o.R300},invalidAndChecked:{light:o.R300,dark:o.R300},focused:{light:o.B100,dark:o.B75},hovered:{light:o.N40,dark:o.DN200},hoveredAndChecked:{light:"currentColor",dark:"currentColor"}},boxColor:{rest:{light:o.N10,dark:o.DN10},disabled:{light:o.N20,dark:o.DN10},active:{light:o.B50,dark:o.B200},hoveredAndChecked:{light:o.B300,dark:o.B75},hovered:{light:o.N30,dark:o.DN30},checked:{light:o.B400,dark:o.B400}},tickColor:{rest:{light:"transparent",dark:"transparent"},disabledAndChecked:{light:o.N70,dark:o.DN90},activeAndChecked:{light:o.B400,dark:o.DN10},checked:{light:o.N10,dark:o.DN10}},size:"medium"},requiredIndicator:{textColor:{rest:o.R500}}};t.b=Object(s.a)(({tokens:e,mode:t})=>function(e,t){return function e(n){return Object.keys(n).reduce((o,s)=>{const r=n[s];return"object"!=typeof r||null==typeof r||Array.isArray(r)?o[s]=r:Object.keys(r).includes(t)?o[s]=r[t]:o[s]=e(n[s]),o},{})}(e)}(e,t))}}]);
//# sourceMappingURL=128.Cqmc9pzduT.js.map