(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"+ypV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("ERkP")),o=r(n("4KTy"));function r(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){return a.default.createElement(o.default,l({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4 12v7a.971.971 0 0 0 .278.704.99.99 0 0 0 .701.296H6v-9H4.98a.99.99 0 0 0-.701.296A.971.971 0 0 0 4 12zm15.281-.96a3.046 3.046 0 0 0-2.321-1.061h-2.634c.04-.181.08-.36.11-.532.515-2.934 0-4-.504-4.594A2.432 2.432 0 0 0 12.075 4a3.078 3.078 0 0 0-2.968 2.751c-.393 1.839-.454 2-.968 2.725l-.768 1.089a2.011 2.011 0 0 0-.363 1.141v6.273c.001.532.216 1.041.596 1.416s.896.585 1.433.584h7.247a3.014 3.014 0 0 0 2.997-2.507l.677-4a2.963 2.963 0 0 0-.677-2.432zm-1.998 6.1a1.007 1.007 0 0 1-1 .835H9.038v-6.269l.767-1.089a7.577 7.577 0 0 0 1.302-3.509c.036-.543.255-1.209.969-1.108.714.1.575 1.916.363 3.1a19.712 19.712 0 0 1-.868 2.882l5.39-.008c.297-.001.58.128.773.352a.993.993 0 0 1 .226.813l-.676 4.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};i.displayName="LikeIcon";var c=i;t.default=c},"2DyF":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("Czhu"),o=n("zjfJ"),r=n("ERkP"),l=n.n(r),i=n("lZoD");class c extends i.a{constructor(e){super(),Object(o.a)(this,"showDialog",(e,t,n)=>{const o=this.nextKey,r=t||{};this.nextKey++;const i=l.a.createElement(e,Object(a.a)(Object(a.a)({},r),{},{onClose:(...e)=>this.onChildClose(o,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(o,...e)}),n);return this.setState(e=>({stack:[...e.stack,{key:o,component:i,alive:!0,originalProps:{onClose:r.onClose,onCloseComplete:r.onCloseComplete}}]})),()=>{this.onChildClose(o)}}),this.nextKey=0,this.state={stack:e||[]},e&&e.forEach(e=>{this.nextKey=Math.max(this.nextKey,e.key+1)})}onChildClose(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState(e=>({stack:e.stack.map(e=>e===n?Object(a.a)(Object(a.a)({},e),{},{alive:!1}):e)})))}onChildCloseComplete(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState(e=>({stack:e.stack.filter(e=>e!==n)})))}}},"3oRx":function(e,t,n){"use strict";var a=n("Czhu"),o=n("ERkP"),r=n.n(o),l=n("Q//X"),i=n("+GtZ"),c=n("Iy7w"),s=n("1U1M"),u=n("L21V"),d=n("EFtY"),p=n.n(d),f=n("kbI0"),m=n("3IV/"),h=n("MqVv"),y=n("7OEs"),b=n("hATe"),g=n("EcEE"),v=n("S2j0");const w=Object(c.a)("div",{target:"e1s8o7tt0"})({name:"60afig",styles:"display:flex;padding-top:16px;"}),k=Object(c.a)("div",{target:"e1s8o7tt1"})({name:"qnh8h2",styles:"display:flex;flex-direction:column;padding-left:8px;> span{padding-top:4px;}"}),E=({onClose:e,content:t,user:n,webResources:a})=>{const[l,i]=Object(o.useState)(null);Object(o.useEffect)(()=>{Object(v.a)(a,()=>{},()=>{})},[]),Object(o.useEffect)(()=>{l&&Object(y.a)(l)},[l]);return r.a.createElement(h.a,{actions:[{text:"Close",onClick:()=>{e(!1)}}],width:"large"},r.a.createElement(w,null,r.a.createElement(b.a,{userId:n.userId,src:n.avatarUrl}),r.a.createElement(k,{onClick:t=>{t.target instanceof HTMLImageElement&&e(!1)}},r.a.createElement(g.a,{userId:n.userId,fullName:n.displayName}),r.a.createElement("span",{ref:e=>{i(e)},dangerouslySetInnerHTML:{__html:t}}))))};var O=n("H5qd");const C=n.n(O).a`query LegacyContentQuery($contentId:ID!){content(id:$contentId){nodes{id body{view{value webresource{keys}}}history{createdBy{...on KnownUser{accountId}...on User{accountId}profilePicture{path}displayName}}type}}}`,x=Object(c.a)("span",{target:"e1e3cud20"})({name:"wydwhr",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}"}),j=Object(c.a)("div",{target:"e1e3cud21"})({name:"suayju",styles:"margin:0 auto;width:100%;"}),R=Object(c.a)("div",{target:"e1e3cud22"})({name:"13tntgw",styles:"display:flex;padding:12px 0 16px 0;span{padding-right:8px;}"}),I=Object(c.a)("div",{target:"e1e3cud23"})("background-color:",m.N60,";border-radius:3px;height:12px;margin-bottom:8px;width:",e=>e.width,"%;"),P=({contentId:e})=>{var t,n;const[a,l]=Object(o.useState)(!1),{data:i,loading:c}=Object(s.d)(C,{variables:{contentId:e}}),d=Object(o.useCallback)(()=>{l(!0)},[e]),m=(e=>{var t,n,a;return{userId:null!=(a=e)&&null!=(a=a.content)&&null!=(a=a.nodes)&&null!=(a=a[0])&&null!=(a=a.history)&&null!=(a=a.createdBy)?a.accountId:a,avatarUrl:null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.history)&&null!=(n=n.createdBy)&&null!=(n=n.profilePicture)?n.path:n,displayName:null!=(t=e)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.history)&&null!=(t=t.createdBy)?t.displayName:t}})(i),h=(null!=(n=i)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.body)&&null!=(n=n.view)?n.value:n)||"",y=(null!=(t=i)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.body)&&null!=(t=t.view)&&null!=(t=t.webresource)?t.keys:t)||[];return c?r.a.createElement(R,null,r.a.createElement(p.a,{label:"legacy-modal-shortcut"}),r.a.createElement(j,null,r.a.createElement(I,{width:100}),r.a.createElement(I,{width:100}),r.a.createElement(I,{width:75}))):r.a.createElement(o.Fragment,null,r.a.createElement(x,null,r.a.createElement(p.a,{label:"legacy-modal-shortcut"}),r.a.createElement("span",null,r.a.createElement("a",{href:"#",onClick:d},r.a.createElement(u.c,{id:"fabric-extension-handlers.fallback.action",defaultMessage:"Click to view content",description:"clickable link to display more content"}))," ",r.a.createElement(u.c,{id:"fabric-extension-handlers.fallback.reason",defaultMessage:"that can't display inline as it was created in a legacy version of Confluence.",description:"reason for why we cannot display the fallback content"}))),r.a.createElement(f.b,null,a&&r.a.createElement(E,{onClose:l,content:h,webResources:y,user:m})))};var M=n("1whV"),T=n.n(M);const _=Object(c.a)("span",{target:"e1ldg4e90"})({name:"wydwhr",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}"}),N=()=>r.a.createElement(_,null,r.a.createElement(T.a,{label:"unsupported-legacy-error"}),r.a.createElement(u.c,{id:"fabric-extension-handlers.unsupported.fallback",defaultMessage:"This content cannot be displayed as it was created in a legacy version of Confluence and is unsupported.",description:"Reason for why we cannot display the unsupported fallback content"}));var S=n("Nk3d");n.d(t,"a",(function(){return K}));const D=["jira","attachments","bgcolor","blog-posts","center","chart","column","contentbylabel","content-by-user","rw-ui-layout-macro","content-report-table","profile-picture","contributors-summary","copyright","excerpt","excerpt-include","fancy-bullets","favpages","gallery","global-reports","map","highlight","listlabels","mathblock","mathinline","loremipsum","navmap","network","index","details","detailssummary","panel","popular-labels","privacy-mark","privacy-policy","recently-updated","recently-used-labels","reg-tm","section","sm","space-details","strike","tasks-report-macro","tm","rw-ui-textbox-macro","userlister","profile","jirachart","jiraroadmap","gadget","contributors"],L={insertCss:e=>e._insertCss()},K=(e,t,n,o)=>{const r={[i.c.MACRO_CORE]:z(e,t,n,o)},l={[i.c.MIGRATION]:A(e,t)};return Object(a.a)(Object(a.a)({},r),l)},z=(e,t,n,o)=>i=>{const{extensionKey:c}=i;if(e&&e(c),D.includes(c)){const e=Object(l.e)(i),s={node:i,contentId:t||"",mode:o||l.c,spaceKey:n||"",context:L,extensionKey:c,attributes:e};return r.a.createElement(S.a,Object(a.a)({},s))}return r.a.createElement(N,null)},A=(e,t)=>n=>{const{extensionKey:a}=n;return a===i.e.INVALID?(e&&e(),r.a.createElement(N,null)):a===i.b.INLINE_EXTERNAL_IMAGE||a===i.b.INLINE_MEDIA_IMAGE?(e&&e(a),t?r.a.createElement(P,{contentId:t}):null):null}},Dsoe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ERkP"),o=n("hpu0");class r extends a.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:n,attributes:a,collect:r,onSuccess:l}=this.props;Object(o.b)().start({attributes:a,name:t,timeout:n,id:e,collect:r,onSuccess:l})}render(){return null}}},EcEE:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),o=n.n(a),r=n("L21V"),l=n("WA38"),i=n("Cwwk"),c=n("KsTJ"),s=n("TVRZ"),u=n("bR0+");const d=c.default.div`
  display: inline-block;
`,p=({userId:e,fullName:t,isAnonymous:n=!1,onUserLinkClick:a=(()=>{}),canViewProfile:c=!0,referralSource:p})=>{const f=Object(i.a)();return n||!e||""===e?o.a.createElement(r.c,{id:"profile.anonymous.name",defaultMessage:"Anonymous",description:"Text for Anonymous user profile link."}):o.a.createElement(s.a,{isAnonymous:n,canViewProfile:c,userId:e},f?o.a.createElement(l.a,{target:"_blank",onClick:a,href:Object(u.a)(e,p)},t):o.a.createElement(d,null,t))}},JEzt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JnXH");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},JnXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("ERkP"),r=n("7nmT");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,r.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component);t.default=c},RKN0:function(e,t,n){"use strict";var a=n("ERkP"),o=n.n(a),r=n("JEzt"),l=n.n(r),i=n("z3D9"),c=n("nvpc"),s=n("u6In"),u=n("bLpi"),d=n("NI0Q"),p=n("RLdS"),f=n("zLcT"),m=n("KsTJ"),h=n("3IV/"),y=n("w301"),b=n("BMbf"),g=n("bg0W"),v=n("ZgvQ");const w=Object(y.a)({light:h.N0,dark:h.DN50}),k=Object(y.a)({light:h.N900,dark:h.DN600}),E=m.default.div`
  background: ${w};
  border-radius: ${b.c}px;
  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */
  color: ${k};
  max-height: ${Object(v.multiply)(b.h,56)}px;
  max-width: ${Object(v.multiply)(b.h,56)}px;
  padding: ${Object(v.multiply)(b.h,2)}px ${Object(v.multiply)(b.h,3)}px;
  z-index: ${b.i.dialog};

  ${g.e200};

  &:focus {
    outline: none;
  }
`;class O extends a.Component{constructor(){super(...arguments),this.handleClickOutside=e=>{const{isOpen:t,onClose:n}=this.props;if(e.defaultPrevented)return;const a=this.containerRef,o=this.triggerRef,{target:r}=e;o&&o.contains(r)||t&&a&&!a.contains(r)&&n&&n({isOpen:!1,event:e})}}componentDidUpdate(e){"undefined"!=typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))}componentDidMount(){"undefined"!=typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)}componentWillUnmount(){"undefined"!=typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)}render(){const{children:e,placement:t,isOpen:n,content:a,onContentBlur:r,onContentFocus:i,onContentClick:c,testId:s}=this.props,f=n?o.a.createElement(u.a,{placement:t},({ref:e,style:t})=>o.a.createElement(E,{onBlur:r,onFocus:i,onClick:c,innerRef:t=>{this.containerRef=t,"function"==typeof e?e(t):e.current=t},style:t,"data-testid":s},a)):null;return o.a.createElement(d.a,null,o.a.createElement(p.a,null,({ref:t})=>o.a.createElement(l.a,{innerRef:e=>{this.triggerRef=e,"function"==typeof t?t(e):t.current=e}},e)),f)}}O.defaultProps={isOpen:!1,onContentBlur:()=>{},onContentClick:()=>{},onContentFocus:()=>{},onClose:()=>{},placement:"bottom-start"};const C=Object(i.a)("atlaskit");t.a=Object(c.a)({componentName:"inlineDialog",packageName:f.a,packageVersion:f.b})(Object(s.a)({onClose:C({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:f.a,packageVersion:f.b}})})(O))},hyqp:function(e,t,n){"use strict";var a=n("Iy7w"),o=n("ERkP"),r=n.n(o),l=n("RjSO"),i=n("82Bo");const c="unsupportedExtension",s="invalidAdf";var u=n("3oRx"),d=n("a0gl");n.d(t,"a",(function(){return f}));const p=Object(a.a)("div",{target:"esiuh5h0"})({name:"9452eu",styles:"padding-top:10px;padding-bottom:10px;"}),f=({commentId:e,adf:t,onContentFallback:n})=>{const[a,f]=Object(o.useState)(null),{featureFlags:m}=Object(d.a)(),{createAnalyticsEvent:h}=Object(l.a)(),y=Object(u.a)(t=>{h({type:"sendTrackEvent",data:{action:"fellback",actionSubject:"comment",actionSubjectId:e,source:"comment",attributes:{editor:"v2",commentType:"page",reason:t?`${c} - ${t}`:s}}}).fire(),n&&n(t)},e);return r.a.createElement(p,{ref:f},r.a.createElement(i.a,{document:t,extensionHandlers:y,allowDynamicTextSizing:!1,portalRef:a,featureFlags:m,allowStickyHeaders:!1}))}},nLwH:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("Czhu"),o=n("Iy7w"),r=n("ERkP"),l=n.n(r),i=n("L21V"),c=n("zJ/j"),s=n("cJDk"),u=n("MqVv");const d=Object(o.a)("div",{target:"e6mtl1v0"})({name:"rp9vlg",styles:"display:flex;justify-content:flex-end;flex:1;> button{margin-right:4px;&:last-of-type{margin-right:0;}}"}),p={unsavedHeading:{id:"comment.unsaved.warning.dialog.heading",defaultMessage:"Do you want to continue?",description:"The heading text for the warning modal confirming the user wants to continue"},unsavedContent:{id:"comment.warning.dialog.unsaved.content",defaultMessage:"Your comment will be lost if you do.",description:"The body text for the warning modal explaining the unsaved content will be lost"},deleteHeading:{id:"comment.warning.dialog.delete.heading",defaultMessage:"Do you want to delete this comment?",description:"The body text for the warning modal explaining the unsaved content will be lost"},deleteContent:{id:"comment.warning.dialog.delete.content",defaultMessage:"Your comment will be permanently removed if you do.",description:"The body text for the warning modal explaining the unsaved content will be lost"}},f=({isDelete:e,onClose:t,onConfirm:n,onCancel:o})=>{const r=()=>{n(),t()},f=()=>{o&&o(),t()},m=()=>l.a.createElement(s.d,null,l.a.createElement(d,null,l.a.createElement(c.a,{"data-cy":"comment-warning-cancel-button",onClick:f},l.a.createElement(i.c,{id:"comment.warning.dialog.cancel.button",defaultMessage:"Cancel",description:"The cancel button text for the comment warning modal"})),l.a.createElement(c.a,{"data-cy":"comment-warning-ok-button",appearance:"warning",onClick:r},l.a.createElement(i.c,{id:"comment.warning.dialog.ok.button",defaultMessage:"OK",description:"The OK button text for the comment warning modal"})))),h=e?p.deleteHeading:p.unsavedHeading,y=e?p.deleteContent:p.unsavedContent;return l.a.createElement(i.c,Object(a.a)({},h),e=>l.a.createElement(u.a,{appearance:"warning",components:{Footer:m},heading:e},l.a.createElement(i.c,Object(a.a)({},y))))}},xBue:function(e,t,n){"use strict";var a=n("ERkP"),o=n.n(a),r=n("aWzz"),l=n.n(r),i=n("I9iR"),c=n.n(i),s=n("W47X"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},m=function(e){function t(){var n,a;d(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!f(e)){e.preventDefault();var t=a.context.router.history,n=a.props,o=n.replace,r=n.to;o?t.replace(r):t.push(r)}},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var r=this.context.router.history,l="string"==typeof t?Object(s.b)(t,null,null,r.location):t,i=r.createHref(l);return o.a.createElement("a",u({},a,{onClick:this.handleClick,href:i,ref:n}))},t}(o.a.Component);m.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=m},zLcT:function(e){e.exports=JSON.parse('{"a":"@atlaskit/inline-dialog","b":"13.0.5"}')}}]);
//# sourceMappingURL=59.MoAzgJwhU1.js.map