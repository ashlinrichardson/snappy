(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"03Pf":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("daKX");const r=Object(o.a)("scroll-to-element"),i=new Set;function a(e){return i.add(e),()=>i.delete(e)}function s(){i.forEach(e=>{try{e()}catch(t){Promise.all([n.e("monitoring~60420017").then(n.bind(null,"fFmz")),Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("error-boundary~b59ad437")]).then(n.bind(null,"fEZm"))]).then(([{getMonitoringClient:e},{Attribution:n}])=>{e().submitError(t,{attribution:n.CONTENT_EXPERIENCE})}).catch(()=>{})}})}function c(){s(),window.scrollTo(0,0)}function l(e,t){let n=0,o=e.offsetParent;for(;o instanceof HTMLElement;)n+=o.offsetTop,o=o.offsetParent;const i=e.offsetTop+(t||0)+n;s();try{window.scroll({top:i,behavior:"auto"})}catch(a){r.error`window.scroll() is not supported`}}},"0Y+4":function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),i=n("aWzz"),a=n.n(i),s=n("lZoD"),c=n("a0gl"),l=n("ceER"),u=n("Aqh1"),d=n("Czhu"),f=n("cld1"),h=n("daKX"),p=n("BX6b"),m=n("pa2z");n("WSZS"),n("U63R");var g=n("NJGo"),b=n("oayO");const y={script:!0,other:!0,link:!0},v={"query-preloader":!0,"translations.en-US":!0,runtime:!0,atlaskit:!0,afp:!0,static:!0,vendors:!0,app:!0},E=()=>{const e=performance.getEntriesByName("readyForUser.end")[0].startTime,t=(()=>{try{return JSON.parse(b.a.getItem("confluence.cachedAssets"))||{}}catch(e){return{}}})(),n={},o={};let r=0;return performance.getEntriesByType("resource").forEach(({initiatorType:i,responseEnd:a,duration:s,name:c})=>{if(!y[i]||a>e)return;const l=c.split("/").pop(),u=l.split("~").shift();v[u]&&(n[u]=l,o[u]={cached:t[u]===l,duration:s}),r++}),(e=>{try{b.a.setItem("confluence.cachedAssets",JSON.stringify(e))}catch(t){}})(n),{criticalChunks:o,totalChunkCount:r}};var O=n("+tQq");const C=Object(o.memo)(({shard:e,featureFlags:t,fallback:n,fabric:r,customAttributes:i,progressBar:a,isNav2:s,taskName:c})=>(Object(o.useEffect)(()=>{!async function({shard:e=null,featureFlags:t={},fallback:n=!1,fabric:o=!1,customAttributes:r={},progressBar:i=null,isNav2:a=!0,taskName:s=null}){if(Object(h.a)("APDEX"),!O.a.startedTask)return void 0;const{tasks:c,taskId:l}=O.a.startedTask,u=s&&c.indexOf(s)||0,b=c[u];if(b&&!(O.a.stoppedTasks&&O.a.stoppedTasks.indexOf(b)>-1)){if(Object(O.d)({stoppedTasks:[...O.a.stoppedTasks,b]}),window.__MODULE_USAGES){const e=performance.now();window.__MODULE_USAGES_APDEX=window.__MODULE_USAGES.filter(t=>t.t<=e)}try{performance.mark("readyForUser.end"),performance.measure("readyForUser",O.a.transitionId?"readyForUser.start":void 0,"readyForUser.end");const s=performance.getEntriesByName("readyForUser"),c=s.length&&s[s.length-1].duration,u=await Object(f.getAnalyticsWebClient)(),h=Object(d.a)(Object(d.a)({},r),{},{shard:e,transitionId:O.a.transitionId,isNav2:a,fallback:n,fabric:o,buildInfo:Object(m.a)(),deviceInfo:{networkEffectiveType:navigator.connection&&navigator.connection.effectiveType,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory},rfuDuration:c,featureFlags:Object.entries(t).reduce((e,[t,n])=>(n&&(e[t]=n),e),{})});if(h.cfp63Durations=Object(g.a)(),0===O.a.transitionId){const e=window.performance.getEntriesByType("navigation");e.length&&null!=e[0].transferSize&&(h.pageLoadedFromCache=0===e[0].transferSize),h.sw=window.APDEX_ATTRIBUTES_FROM_SW||{},h.ssr=Boolean(document.querySelector("meta[name='cc-frontend-ssr']")),h.ssrDurations=window.__SSR_MEASURES__||{},h.cacheStatus=E(),h.ssrFeatureFlags=window.__SSR_FEATURE_FLAGS__||{}}i&&i.finish(),performance.mark("rfuStopApdexEvent"),u.stopApdexEvent({task:b,taskId:l,type:0===O.a.transitionId?"initialLoad":"transition",additionalAttributes:h},({attributes:{duration:e,type:t,ssr:n}})=>{let o;o=n?"ssr":"initialLoad"===t?"initial":"transition",Object(p.c)().submitPerformanceMetric("apdex",e,["renderFrom:"+o])})}catch(y){0}}}({shard:e,featureFlags:t,fallback:n,fabric:r,customAttributes:i,isNav2:s,progressBar:a,taskName:c})}),null));C.propTypes={shard:a.a.string,featureFlags:a.a.object,fallback:a.a.bool,fabric:a.a.bool,customAttributes:a.a.object,progressBar:a.a.object,isNav2:a.a.bool,taskName:a.a.string},n.d(t,"a",(function(){return x}));const x=Object(o.memo)(({fallback:e,fabric:t,customAttributes:n,taskName:i})=>{const{isNav2:a}=Object(o.useContext)(u.a),{shard:d,featureFlags:f}=Object(c.a)();return r.a.createElement(s.c,{to:[l.a]},o=>r.a.createElement(C,{shard:d,featureFlags:f,fallback:e,fabric:t,isNav2:a,customAttributes:n,progressBar:o,taskName:i}))})},"2DyF":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("Czhu"),r=n("zjfJ"),i=n("ERkP"),a=n.n(i),s=n("lZoD");class c extends s.a{constructor(e){super(),Object(r.a)(this,"showDialog",(e,t,n)=>{const r=this.nextKey,i=t||{};this.nextKey++;const s=a.a.createElement(e,Object(o.a)(Object(o.a)({},i),{},{onClose:(...e)=>this.onChildClose(r,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(r,...e)}),n);return this.setState(e=>({stack:[...e.stack,{key:r,component:s,alive:!0,originalProps:{onClose:i.onClose,onCloseComplete:i.onCloseComplete}}]})),()=>{this.onChildClose(r)}}),this.nextKey=0,this.state={stack:e||[]},e&&e.forEach(e=>{this.nextKey=Math.max(this.nextKey,e.key+1)})}onChildClose(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState(e=>({stack:e.stack.map(e=>e===n?Object(o.a)(Object(o.a)({},e),{},{alive:!1}):e)})))}onChildCloseComplete(e,...t){const n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState(e=>({stack:e.stack.filter(e=>e!==n)})))}}},"8HgH":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ERkP");const r=n.n(o).a.createContext({lastModificationDate:null});r.displayName="ContentBodyContext"},"8J6f":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l}));var o=n("3IV/");const r="global-progress-bar",i=o.B400,a=300,s=6e3,c=2e4,l=a+50},AzBY:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("ERkP");const r={firstHighlightShown:!1},i=Object(o.createContext)(r);i.displayName="HighlightActionsContext"},EDnI:function(e,t,n){"use strict";function o(e){return e.replace(/\u00a0/g," ")}n.d(t,"a",(function(){return o}))},GrcB:function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),i=n("gQ5V"),a=n("H5qd");const s=n.n(a).a`query ContentViewedEventQuery($contentId:ID){content(id:$contentId trigger:"viewed"){nodes{id}}}`;let c;n.d(t,"a",(function(){return l}));const l=({contentId:e})=>(Object(o.useEffect)(()=>{c=e},[e]),r.a.createElement(i.b,{query:s,variables:{contentId:e},fetchPolicy:"network-only",skip:c===e},()=>null))},IBaz:function(e,t,n){"use strict";var o=n("zjfJ"),r=n("Iy7w"),i=n("ERkP"),a=n.n(i),s=n("L21V"),c=n("lZoD"),l=n("zJ/j"),u=n("nZDR"),d=n.n(u),f=n("gloY"),h=n.n(f),p=n("a8dO"),m=n("3IV/"),g=n("kHy1"),b=n("MjIW"),y=n("3Z2R"),v=n("FdGg"),E=n("X2PC"),O=n("Q/D5"),C=n("KIs4"),x=n("L3Ew"),w=n("3HyH"),j=n("MV18"),T=n("3VMZ"),k=n("Dsoe"),R=n("8HgH"),N=n("WWAs"),S=n("zCQI"),A=n("QqfF"),I=n("nLwH"),M=n("2DyF"),P=n("7nmT"),H=n.n(P),_=n("ltac"),D=n("a0gl"),B=n("/D+w");const L=Object(r.a)("div",{target:"egsaodj0"})({name:"y7xd18",styles:"@keyframes popup{0%{opacity:0;}100%{opacity:1;}}position:absolute;transition:top 100ms ease-out,left 100ms ease-out;animation:popup 100ms forwards linear;"}),z=Object(r.a)("div",{target:"egsaodj1"})({name:"1obrnsz",styles:"transform:translate(calc(-50% - 5px),calc(-100% - 20px));box-shadow:rgba(9,30,66,0.6) 0px 4px 8px 0px,rgba(9,30,66,0.31) 0px 0px 1px;border-radius:3px;position:absolute;top:0;left:0;"}),F=Object(r.a)("div",{target:"egsaodj2"})(({isMenuHorizontal:e})=>e&&"padding: 3px;",";background-color:#fff;border-radius:3px;display:flex;"),V=Object(r.a)("div",{target:"egsaodj3"})({name:"1uxknoh",styles:"margin:5px 2px;width:1px;background-color:#ebecf0;"}),U=({children:e,top:t,left:n})=>{const o=Object(i.useRef)(null),[r,s]=Object(i.useState)(n),{featureFlags:c}=Object(D.a)(),l=!c["confluence.frontend.connect.context-menu"];Object(i.useLayoutEffect)(()=>{const{left:e,right:t}=Object(_.a)(o.current),n=window.innerWidth;e<0?s(r-e+20):t>n&&s(r-(t-n)-20)},[o]);const u=document.querySelector("#"+B.b);return u?H.a.createPortal(a.a.createElement(L,{style:{top:t}},a.a.createElement(z,{ref:o,style:{left:r},"data-testid":"highlightActionsPopup"},a.a.createElement(F,{isMenuHorizontal:l},e))),u):null};var J=n("cld1"),W=n("g92I");const K=(e,t)=>()=>{const n=window.getSelection();n&&window.dispatchEvent(new CustomEvent("create-inline-comment",{detail:Object(W.b)(e,n.getRangeAt(0),t)}))},G=(e,t,n)=>()=>{const o=window.getSelection();o&&(Object(J.getAnalyticsWebClient)().then(e=>{e.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"jiraIssueLink",source:"HighlightContextMenu"}).fire()}),window.dispatchEvent(new CustomEvent("create-jira-issue-summary",{detail:Object(W.b)(e,o.getRangeAt(0),t,n)})))};var q=n("AzBY"),X=n("Czhu"),$=n("HbGN"),Z=n("Iops"),Q=n("6z9Z"),Y="data-highlighted",ee=1,te=3,ne=["SCRIPT","STYLE","SELECT","OPTION","BUTTON","OBJECT","APPLET","VIDEO","AUDIO","CANVAS","EMBED","PARAM","METER","PROGRESS"];function oe(e,t){return ae(e).color()===ae(t).color()}function re(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}function ie(e,t){e.sort((function(e,n){return ae(t?n:e).parents().length-ae(t?e:n).parents().length}))}var ae=function e(t){return{addClass:function(e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e+"(\\b|$)","gi")," ")},prepend:function(e){for(var n=Array.prototype.slice.call(e),o=n.length;o--;)t.insertBefore(n[o],t.firstChild)},append:function(e){for(var n=Array.prototype.slice.call(e),o=0,r=n.length;o<r;++o)t.appendChild(n[o])},insertAfter:function(e){return e.parentNode.insertBefore(t,e.nextSibling)},insertBefore:function(e){return e.parentNode.insertBefore(t,e)},remove:function(){t.parentNode.removeChild(t),t=null},contains:function(e){return t!==e&&t.contains(e)},wrap:function(e){return t.parentNode&&t.parentNode.insertBefore(e,t),e.appendChild(t),e},unwrap:function(){var n,o=Array.prototype.slice.call(t.childNodes);return o.forEach((function(t){n=t.parentNode,e(t).insertBefore(t.parentNode),e(n).remove()})),o},parents:function(){for(var e,n=[];e=t.parentNode;)n.push(e),t=e;return n},normalizeTextNodes:function(){if(t){if(t.nodeType===te)for(;t.nextSibling&&t.nextSibling.nodeType===te;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else e(t.firstChild).normalizeTextNodes();e(t.nextSibling).normalizeTextNodes()}},color:function(){return t.style.backgroundColor},fromHTML:function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes},getRange:function(){var n,o=e(t).getSelection();return o.rangeCount>0&&(n=o.getRangeAt(0)),n},removeAllRanges:function(){e(t).getSelection().removeAllRanges()},getSelection:function(){return e(t).getWindow().getSelection()},getWindow:function(){return e(t).getDocument().defaultView},getDocument:function(){return t.ownerDocument||t}}};function se(e,t){if(!e)throw"Missing anchor element";this.el=e,this.options=re(t,{color:"#ffff7b",highlightedClass:"highlighted",contextClass:"highlighter-context",onRemoveHighlight:function(){return!0},onBeforeHighlight:function(){return!0},onAfterHighlight:function(){}}),ae(this.el).addClass(this.options.contextClass),this.el}se.prototype.destroy=function(){this.el,ae(this.el).removeClass(this.options.contextClass)},se.prototype.highlightHandler=function(){this.doHighlight()},se.prototype.doHighlight=function(e){var t,n,o,r,i=ae(this.el).getRange();if(i&&!i.collapsed)return!0===this.options.onBeforeHighlight(i)&&(r=+new Date,(t=se.createWrapper(this.options)).setAttribute("data-timestamp",r),n=this.highlightRange(i,t),o=this.normalizeHighlights(n),this.options.onAfterHighlight(i,o,r)),e||ae(this.el).removeAllRanges(),o},se.prototype.highlightRange=function(e,t){if(!e||e.collapsed)return[];var n,o,r,i=function(e){var t=e.startContainer,n=e.endContainer,o=e.commonAncestorContainer,r=!0;if(0===e.endOffset){for(;!n.previousSibling&&n.parentNode!==o;)n=n.parentNode;n=n.previousSibling}else n.nodeType===te?e.endOffset<n.nodeValue.length&&n.splitText(e.endOffset):e.endOffset>0&&(n=n.childNodes.item(e.endOffset-1));return t.nodeType===te?e.startOffset===t.nodeValue.length?r=!1:e.startOffset>0&&n===(t=t.splitText(e.startOffset)).previousSibling&&(n=t):t=e.startOffset<t.childNodes.length?t.childNodes.item(e.startOffset):t.nextSibling,{startContainer:t,endContainer:n,goDeeper:r}}(e),a=i.startContainer,s=i.endContainer,c=i.goDeeper,l=!1,u=a,d=[];do{c&&u.nodeType===te&&(-1===ne.indexOf(u.parentNode.tagName)&&""!==u.nodeValue.trim()&&((o=t.cloneNode(!0)).setAttribute(Y,!0),r=u.parentNode,(ae(this.el).contains(r)||r===this.el)&&(n=ae(u).wrap(o),d.push(n))),c=!1),u!==s||s.hasChildNodes()&&c||(l=!0),u.tagName&&ne.indexOf(u.tagName)>-1&&(s.parentNode===u&&(l=!0),c=!1),c&&u.hasChildNodes()?u=u.firstChild:u.nextSibling?(u=u.nextSibling,c=!0):(u=u.parentNode,c=!1)}while(!l);return d},se.prototype.normalizeHighlights=function(e){var t;return this.flattenNestedHighlights(e),this.mergeSiblingHighlights(e),t=e.filter((function(e){return e.parentElement?e:null})),(t=t.filter((function(e,t,n){return n.indexOf(e)===t}))).sort((function(e,t){return e.offsetTop-t.offsetTop||e.offsetLeft-t.offsetLeft})),t},se.prototype.flattenNestedHighlights=function(e){var t,n=this;function o(){var t=!1;return e.forEach((function(o,r){var i=o.parentElement,a=i.previousSibling,s=i.nextSibling;n.isHighlight(i)&&(oe(i,o)?(i.replaceChild(o.firstChild,o),e[r]=i,t=!0):(o.nextSibling||(ae(o).insertBefore(s||i),t=!0),o.previousSibling||(ae(o).insertAfter(a||i),t=!0),i.hasChildNodes()||ae(i).remove()))})),t}ie(e,!0);do{t=o()}while(t)},se.prototype.mergeSiblingHighlights=function(e){var t=this;function n(e,n){return n&&n.nodeType===ee&&oe(e,n)&&t.isHighlight(n)}e.forEach((function(e){var t=e.previousSibling,o=e.nextSibling;n(e,t)&&(ae(e).prepend(t.childNodes),ae(t).remove()),n(e,o)&&(ae(e).append(o.childNodes),ae(o).remove()),ae(e).normalizeTextNodes()}))},se.prototype.setColor=function(e){this.options.color=e},se.prototype.getColor=function(){return this.options.color},se.prototype.removeHighlights=function(e){var t=e||this.el,n=this.getHighlights({container:t}),o=this;function r(e){ae(e).unwrap().forEach((function(e){var t,n,o;n=(t=e).previousSibling,o=t.nextSibling,n&&n.nodeType===te&&(t.nodeValue=n.nodeValue+t.nodeValue,ae(n).remove()),o&&o.nodeType===te&&(t.nodeValue=t.nodeValue+o.nodeValue,ae(o).remove())}))}ie(n,!0),n.forEach((function(e){!0===o.options.onRemoveHighlight(e)&&r(e)}))},se.prototype.getHighlights=function(e){var t=(e=re(e,{container:this.el,andSelf:!0,grouped:!1})).container.querySelectorAll("["+Y+"]"),n=Array.prototype.slice.call(t);return!0===e.andSelf&&e.container.hasAttribute(Y)&&n.push(e.container),e.grouped&&(n=function(e){var t=[],n={},o=[];return e.forEach((function(e){var o=e.getAttribute("data-timestamp");void 0===n[o]&&(n[o]=[],t.push(o)),n[o].push(e)})),t.forEach((function(e){var t=n[e];o.push({chunks:t,timestamp:e,toString:function(){return t.map((function(e){return e.textContent})).join("")}})})),o}(n)),n},se.prototype.isHighlight=function(e){return e&&e.nodeType===ee&&e.hasAttribute(Y)},se.prototype.serializeHighlights=function(){var e=this.getHighlights(),t=this.el,n=[];return ie(e,!1),e.forEach((function(e){var o=0,r=e.textContent.length,i=function(e,t){var n,o=[];do{n=Array.prototype.slice.call(e.parentNode.childNodes),o.unshift(n.indexOf(e)),e=e.parentNode}while(e!==t||!e);return o}(e,t),a=e.cloneNode(!0);a.innerHTML="",a=a.outerHTML,e.previousSibling&&e.previousSibling.nodeType===te&&(o=e.previousSibling.length),n.push([e.textContent,i.join(":"),o,r])})),JSON.stringify(n)},se.prototype.deserializeHighlights=function(e){var t,n=[],o=this;if(!e)return n;try{t=JSON.parse(e)}catch(i){throw"Can't parse JSON: "+i}let r=!0;return t.forEach((function(e){try{!function(e){for(var t,r,i,a={text:e[0],path:e[1].split(":"),offset:e[2],length:e[3]},s=a.path.pop(),c=o.el;i=a.path.shift();)c=c.childNodes[i];c.childNodes[s-1]&&c.childNodes[s-1].nodeType===te&&(s-=1),(t=(c=c.childNodes[s]).splitText(a.offset)).splitText(a.length),t.nextSibling&&!t.nextSibling.nodeValue&&ae(t.nextSibling).remove(),t.previousSibling&&!t.previousSibling.nodeValue&&ae(t.previousSibling).remove(),r=ae(t).wrap(ae().fromHTML(a.wrapper)[0]),n.push(r)}(e)}catch(i){r=!1,console&&console.warn&&console.warn("Can't deserialize highlight descriptor. Cause: "+i)}})),r?n:[]},se.prototype.find=function(e,t){var n=ae(this.el).getWindow(),o=n.scrollX,r=n.scrollY,i=void 0===t||t;if(ae(this.el).removeAllRanges(),n.find)for(;n.find(e,i);)this.doHighlight(!0);else if(n.document.body.createTextRange){var a=n.document.body.createTextRange();for(a.moveToElementText(this.el);a.findText(e,1,i?4:0)&&(ae(this.el).contains(a.parentElement())||a.parentElement()===this.el);)a.select(),this.doHighlight(!0),a.collapse(!1)}ae(this.el).removeAllRanges(),n.scrollTo(o,r)},se.createWrapper=function(e){var t=document.createElement("span");return t.style.backgroundColor=e.color,t.className=e.highlightedClass,t};var ce=se;class le{constructor(e,t={}){Object(o.a)(this,"el",void 0),Object(o.a)(this,"options",void 0),Object(o.a)(this,"highlighter",void 0),Object(o.a)(this,"defaultOptions",{styles:{}}),this.el=e,this.options=Object(X.a)(Object(X.a)({},this.defaultOptions),t),this.highlighter=new ce(this.el)}highlightRange(e){const t=window.getSelection();return t&&t.empty(),this.highlighter.highlightRange(e,this.createWrapper()),this}removeHighlights(){return this.highlighter.removeHighlights(),this}createWrapper(){const e=document.createElement("span");for(const t in this.options.styles)e.style[t]=this.options.styles[t];return e}}var ue=n("iJ/y"),de=n("NZr6"),fe=n("i8f0");const he=Object(r.a)("span",{target:"emdedfm0"})("opacity:0;position:absolute;pointer-events:none;top:",({top:e})=>e,"px;left:",({left:e})=>e,"px;width:",({width:e})=>e,"px;height:",({height:e})=>e,"px;"),pe=Object(r.a)("div",{target:"emdedfm1"})({name:"evpma",styles:"padding:20px;max-width:500px;max-height:500px;"}),me={backgroundColor:"#f6c342",boxShadow:"0 2px 2px #ccc"},ge=({content:e,contentId:t,forgeExtension:n,activeSelection:o,onClose:r})=>{const{featureFlags:s}=Object(D.a)(),c=Object(i.useContext)(Q.a),l=document.querySelector("#"+B.b),[u,d]=Object(i.useState)(null),[f,h]=Object(i.useState)(null),[p,m]=Object(i.useState)({top:0,left:0,width:0,height:0}),g=Boolean(s["confluence.frontend.forge.render-next"]);Object(i.useEffect)(()=>{if(!o.selectedRange)return;if(!l)return;const e=l.getBoundingClientRect(),t=o.selectedRange.getBoundingClientRect();m({top:t.top-e.top,left:t.left-e.left,width:t.width,height:t.height})},[l,o.selectedRange]),Object(i.useEffect)(()=>{if(!o.selectedRange)return;const t=new le(e,{styles:me}).removeHighlights().highlightRange(o.selectedRange);return()=>{t.removeHighlights()}},[e,o.selectedRange]);const b=e=>{d(e)},y=e=>t=>{h(t),e(t)},v=Object(i.useCallback)(()=>{c.succeed({name:T.a.VIEW_PAGE_CONTEXT_MENU_FORGE})},[c]);return Object(ue.a)({onClose:r,popupRef:u,triggerRef:f}),l?H.a.createPortal(a.a.createElement(Z.a,{testId:"forge-action-popup",content:({update:e})=>a.a.createElement(pe,{ref:b},a.a.createElement(de.a,{onUpdate:e,popupRef:u},g?a.a.createElement(fe.c,{app:n,extensionData:{contentId:t,extensionContext:{type:"contextMenu",selectedText:o.selectedText}},onInitialRender:v,onTearDown:r}):a.a.createElement(x.a,{extension:n,forgeContext:{contentId:t},extensionContext:{type:"contextMenu",selectedText:o.selectedText},onInitialRender:v,tearDown:r}))),isOpen:!0,placement:"bottom",trigger:e=>{let{ref:t}=e,n=Object($.a)(e,["ref"]);return a.a.createElement(he,Object(X.a)(Object(X.a)({"data-testid":"forge-action-selection-span",ref:y(t)},n),{},{top:p.top,left:p.left,width:p.width,height:p.height}))}}),l):null};var be=n("daKX");const ye=Object(be.a)("highlight-action");var ve=n("RKN0"),Ee=n("NU1A"),Oe=n.n(Ee),Ce=n("ogGg"),xe=n.n(Ce),we=n("ZgvQ"),je=n("BMbf"),Te=n("hpu0"),ke=n("JIsJ");const Re=Object(r.a)("div",{target:"e19unanz0"})("display:flex;flex-direction:column;padding-top:8px;padding-bottom:8px;margin:-",Object(we.multiply)(je.h,2),"px -",Object(we.multiply)(je.h,3),"px;overflow-y:auto;max-height:300px;max-width:300px;"),Ne=Object(r.a)("img",{target:"e19unanz1"})({name:"1m01c8l",styles:"height:24px;width:24px;"}),Se=Object(r.a)("div",{target:"e19unanz2"})("width:24px;height:24px;display:inline-block;border-radius:50%;background-color:",m.N20,";display:flex;align-items:center;justify-content:space-around;"),Ae=a.a.createElement(Se,null,a.a.createElement(xe.a,{label:"No icon",size:"small",secondaryColor:"inherit",primaryColor:m.N40})),Ie=({connectItems:e,forgeItems:t=[],selectForgeExtension:n=(()=>{})})=>{const[o,r]=Object(i.useState)(!1),s=Object(i.useRef)(null);Object(i.useLayoutEffect)(()=>{const{current:e}=s;if(e){const t=e=>{e.stopPropagation()};return e.addEventListener("mouseup",t),()=>{e.removeEventListener("mouseup",t)}}},[s,s.current]);const c=Object(i.useCallback)(()=>{r(!1)},[r]),u=Object(i.useMemo)(()=>e.map(e=>{var t;return a.a.createElement(l.a,{iconBefore:(null!=(t=e)&&null!=(t=t.icon)?t.path:t)?a.a.createElement(Ne,{src:e.icon.path}):Ae,key:e.completeKey,appearance:"subtle","data-key":e.completeKey,className:e.styleClass,href:e.url,style:{textAlign:"left",borderRadius:0},shouldFitContainer:!0,title:e.label},e.label)}),[e]),d=Object(i.useMemo)(()=>t.map(t=>{const o=Object(ke.a)(t);return a.a.createElement(l.a,{key:t.id,appearance:"subtle",style:{textAlign:"left",paddingLeft:e.length?"40px":"8px",borderRadius:0},onClick:()=>{Object(Te.b)().start({name:T.a.VIEW_PAGE_CONTEXT_MENU_FORGE,id:t.id,timeout:1e4}),n(t)},shouldFitContainer:!0,title:o},o)}),[e,t,n]),f=Object(i.useMemo)(()=>a.a.createElement(Re,null,u,d),[u,d]);return e.length||t.length?a.a.createElement(ve.a,{placement:"bottom-start",isOpen:o,onClose:c,content:f},a.a.createElement(l.a,{appearance:"subtle",ref:s,isSelected:o,onClick:()=>r(!o),iconBefore:a.a.createElement(Oe.a,{size:"medium",label:"Drop down"}),style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"36px",margin:0},testId:"context-menu-other-apps"})):null};var Me=n("EDnI");n.d(t,"a",(function(){return Be}));const Pe=["com.atlassian.confluence.plugins.confluence-inline-comments:create-inline-comment","com.atlassian.confluence.plugins.confluence-jira-content:create-JIRA-issue-summary"],He=Object(r.a)("div",{target:"e1hgagbv0"})("padding:2px;display:flex;border-right:1px solid ",m.N30,";");function _e(){const e=window.getSelection();if(!e||e.isCollapsed)return null;const t=e.getRangeAt(0);return String(t).trim()?t:null}const De=e=>e?1===e.nodeType&&e.classList.contains("pm-table-sticky-wrapper")?e:e.parentElement?De(e.parentElement):null:null;class Be extends i.PureComponent{constructor(...e){super(...e),Object(o.a)(this,"state",{firstHighlightShown:!1,show:!1,top:0,left:0,forgeExtension:null,activeSelection:null}),Object(o.a)(this,"mounted",!1),Object(o.a)(this,"content",a.a.createRef()),Object(o.a)(this,"onContainerResized",()=>{this.setState({show:!1,forgeExtension:null})}),Object(o.a)(this,"onMouseUp",e=>requestAnimationFrame(()=>{if(!this.mounted)return;const{isReactInlineCommentsEnabled:t}=this.props,n=_e(),o=document.querySelector("#"+B.b),r=document.querySelector(t?"#inline-comment-sidebar":".ic-sidebar");if(!n||!o||!this.content.current||r&&(r.contains(n.startContainer)||r.contains(n.endContainer))||!this.content.current.contains(e.target)&&this.content.current!==e.target&&!e.target.closest("button[disabled]"))return void this.setState({show:!1});const i=o.getBoundingClientRect(),a=this.content.current.getBoundingClientRect(),s=n.getClientRects();if(!s||!s.length)return void this.setState({show:!1});const c=Array.from(s).find(e=>0!==e.width&&0!==e.height);if(c){const{left:t,right:o,top:r,width:s}=c,l=e.clientX,u=t+(s>>1);let d=a.left,f=a.right;const h=function e(t){return t?3!==t.nodeType&&t.scrollWidth>t.clientWidth?t:e(t.parentNode):null}(n.startContainer);if(h){const e=h.getBoundingClientRect();d=Math.max(d,e.left),f=Math.min(f,e.right)}let p=Math.abs(l-u)>100&&t<=l&&l<=o?l:u;p=Math.max(d,Math.min(f,p)),this.setState({firstHighlightShown:!0,show:!0,left:p-i.left,top:r-i.top})}})),Object(o.a)(this,"createReactInlineCommentHighlight",(e,t)=>{const n=window.getSelection();if(n){const o=Object(W.b)(this.content.current,n.getRangeAt(0),t),{searchText:{numMatches:r,index:i,selectedText:a}}=o;e({numMatches:r,matchIndex:i,selectedText:a})}}),Object(o.a)(this,"createInlineCommentButton",e=>{if(!this.content.current)return null;const{contentId:t,isReactInlineCommentsEnabled:n}=this.props,o=((e,t)=>{const n=window.getSelection();if(!n)return!1;let o;try{o=Object(W.b)(e,n.getRangeAt(0),t)}catch(s){ye.error`An error occured on highlighting content`}if(!o||!o.searchText)return!1;const{searchText:{selectedText:r,index:i,numMatches:a}}=o;return r.replace(/\n/g,"").length>0&&-1!==i&&a>0&&i<a})(this.content.current,t),r=a.a.createElement(c.c,{to:[M.a]},r=>a.a.createElement(S.a.Consumer,null,({createComment:i})=>a.a.createElement(A.a.Consumer,null,({hasContentChanged:c})=>a.a.createElement(l.a,{appearance:"subtle",iconBefore:a.a.createElement(h.a,{size:"medium",label:""}),"data-key":e,isDisabled:!o,testId:"createInlineCommentButton",onClick:n?()=>{c?r.showDialog(I.a,{onConfirm:()=>this.createReactInlineCommentHighlight(i,t)}):this.createReactInlineCommentHighlight(i,t)}:K(this.content.current,t)},a.a.createElement(s.c,{id:"highlight-actions.inline-comments.comment",defaultMessage:"Comment",description:"Make a new comment"})))));return o?a.a.createElement(i.Fragment,{key:"inline-comment-button"},r):a.a.createElement(p.a,{key:"inline-comment-button",delay:0,position:"top",content:a.a.createElement(s.c,{id:"highlight-actions.inline-comments.comment.unsupported",defaultMessage:"Comments can only be added to text that doesn’t contain an emoji, a macro, or an @mention"})},r)}),Object(o.a)(this,"renderBuiltInWebItemActions",e=>{if(!this.content.current)return null;const t=e.map(e=>{const{completeKey:t}=e;return"com.atlassian.confluence.plugins.confluence-inline-comments:create-inline-comment"===t?this.createInlineCommentButton(t):"com.atlassian.confluence.plugins.confluence-jira-content:create-JIRA-issue-summary"===t?this.createJiraIssueButton(t):void 0});return a.a.createElement(He,{key:"built-in-actions"},this.getComponentsWithDivider(t))})}componentDidMount(){this.mounted=!0,window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("highlight-actions.container.resized",this.onContainerResized),Object(g.a)({contentId:this.props.contentId,location:b.a.ACTION_PANEL})}componentWillUnmount(){this.mounted=!1,window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("highlight-actions.container.resized",this.onContainerResized)}createJiraIssueButton(e){if(!this.content.current)return null;const{contentId:t}=this.props;return a.a.createElement(R.a.Consumer,{key:"jira-issue-button"},({lastModificationDate:n})=>a.a.createElement(l.a,{appearance:"subtle",iconBefore:a.a.createElement(d.a,{size:"medium",label:""}),"data-key":e,testId:"createJiraIssueButton",onClick:G(this.content.current,t,n)},a.a.createElement(s.c,{id:"highlight-actions.create-issue",defaultMessage:"Create issue",description:"Create a new Jira issue"})))}getComponentsWithDivider(e){const{length:t}=e;return e.reduce((e,n,o)=>(e.push(n),o!==t-1&&e.push(a.a.createElement(V,{key:"divider-"+o})),e),[])}createGenericButton({styleClass:e,completeKey:t,label:n}){return a.a.createElement(l.a,{key:t,appearance:"subtle","data-key":t,className:e},n)}getComponentsForHorizontalPopup(e){const t=e.map(e=>{const{completeKey:t}=e;return t.endsWith("create-inline-comment")?this.createInlineCommentButton(t):t.endsWith("create-JIRA-issue-summary")?this.createJiraIssueButton(t):this.createGenericButton(e)});return this.getComponentsWithDivider(t)}getComponentsForPopup(e,t=[]){const n=e.filter(e=>Pe.includes(e.completeKey)),o=e.filter(e=>!Pe.includes(e.completeKey));return n.length||o.length||t.length?[this.renderBuiltInWebItemActions(n),a.a.createElement(Ie,{key:"other-components",connectItems:o,forgeItems:t,selectForgeExtension:e=>{const t=_e();if(!t)return;const n=Object(Me.a)(String(t)).trim();n&&this.setState({forgeExtension:e,activeSelection:{selectedText:n,selectedRange:t}})}})]:[]}renderPopup(e){const{top:t,left:n}=this.state;return e.length?a.a.createElement(c.c,{to:[N.a]},o=>{let r=0;const s=_e();if(s){const e=De(s.commonAncestorContainer);e&&o&&(r=o.getTotalHeight({includeTopNav:!0})+e.clientHeight)}return a.a.createElement(i.Fragment,null,a.a.createElement(U,{top:r+t,left:n},e),a.a.createElement(j.a,{name:T.a.VIEW_PAGE_CONTEXT_MENU}))}):null}render(){const{children:e,contentId:t}=this.props,{forgeExtension:n,activeSelection:o,show:r}=this.state;return a.a.createElement(i.Fragment,null,a.a.createElement(O.a,{featureFlag:"confluence.frontend.forge.extension-point.context-menu"},a.a.createElement(x.b,{moduleType:w.a.CONTEXT_MENU,render:()=>a.a.createElement(i.Fragment,null)}),n&&o&&!r&&a.a.createElement(ge,{content:this.content.current,contentId:t,forgeExtension:n,activeSelection:o,onClose:()=>{this.setState({forgeExtension:null})}})),a.a.createElement(q.a.Provider,{value:{firstHighlightShown:this.state.firstHighlightShown}},a.a.createElement("div",{key:"content-container",ref:this.content},e)),a.a.createElement(v.a,{attribution:E.a.BACKBONE},r?a.a.createElement(i.Fragment,null,a.a.createElement(k.a,{id:t,name:T.a.VIEW_PAGE_CONTEXT_MENU}),a.a.createElement(y.a,{key:"action-panel",contentId:t,location:b.a.ACTION_PANEL,fetchPolicy:"cache-first"},({webItems:e})=>a.a.createElement(C.a,null,({featureFlags:t})=>t["confluence.frontend.connect.context-menu"]?t["confluence.frontend.forge.extension-point.context-menu"]?a.a.createElement(x.b,{moduleType:w.a.CONTEXT_MENU,render:t=>this.renderPopup(this.getComponentsForPopup(e,t))}):this.renderPopup(this.getComponentsForPopup(e)):this.renderPopup(this.getComponentsForHorizontalPopup(e))))):null))}}},JEzt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("JnXH");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},JnXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n("ERkP"),i=n("7nmT");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,i.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);t.default=c},NU1A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 0 0 0 1.49l4.547 4.557a1 1 0 0 0 1.416 0l4.55-4.558a1.051 1.051 0 1 0-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 0 0-1.487 0z" fill="currentColor"/></svg>'},e))};s.displayName="HipchatChevronDownIcon";var c=s;t.default=c},"Oa+u":function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),i=n("dn5O"),a=n("0Y+4"),s=n("+6Tk"),c=n("MV18"),l=n("3VMZ"),u=n("Aqh1"),d=n("RjSO"),f=n("Ua4J"),h=n("+tQq"),p=n("keNr");const m=e=>e.length&&e[e.length-1].duration,g=({startMark:e,endMark:t,measureName:n})=>{let o;if(performance.getEntriesByName(t).length>0){performance.measure(n,e,t);const r=performance.getEntriesByName(n);o=m(r)}return o>0?Math.round(o):void 0},b=Object(o.memo)(({contentId:e,fabric:t,isNextRendered:n})=>{const{createAnalyticsEvent:r}=Object(d.a)(),{match:i}=Object(o.useContext)(f.a),a=Object(s.a)(p.a);return Object(o.useEffect)(()=>{const o=setTimeout(()=>{const o=Object(h.c)()?void 0:"readyForUser.start",s=performance.getEntriesByName("readyForUser"),c=m(s);let l,u;t&&(l=g({startMark:o,endMark:"Renderer Render Time::end",measureName:"rendererRendered"})),a&&(u=g({startMark:o,endMark:"browser-metric.end",measureName:"browserMetric"}));const d=g({startMark:o,endMark:"rfuStopApdexEvent",measureName:"rfuStopApdexEventMeasure"});r({type:"sendOperationalEvent",data:{action:"rendered",actionSubject:"viewContent",source:"viewContent",attributes:{loadType:Object(h.c)()?"Initial":"Transition",contentId:e,fabric:t,isNextRendered:n,rfuDuration:c,akRenderDuration:l,bmDuration:u,reportedRFUDuration:d,route:i&&i.name}}}).fire()},1500);return()=>{clearTimeout(o)}}),null});n.d(t,"a",(function(){return y}));const y=({fabric:e,contentId:t,isNextRendered:n})=>{const{isNav2:d}=Object(o.useContext)(u.a),f=Object(s.a)("confluence.frontend.omit-cleaning-up-renderer-rendered-end-mark");return r.a.createElement(o.Fragment,null,r.a.createElement(a.a,{fabric:e,customAttributes:{contentId:t,isNextRendered:n}}),t?r.a.createElement(i.a,{customData:{contentId:t,fabric:e,isNav2:d,isNextRendered:n}}):null,f&&r.a.createElement(b,{contentId:t,fabric:e,isNextRendered:n}),r.a.createElement(c.a,{name:l.a.VIEW_CONTENT,attributes:{isNextRendered:n}}),r.a.createElement(c.a,{name:l.a.VIEW_PAGE_RENDERER,attributes:{isNextRendered:n}}))}},"Q/D5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ERkP"),r=n.n(o),i=(n("aWzz"),n("KIs4"));const a=({children:e,featureFlag:t,condition:n=(e=>e)})=>r.a.createElement(i.a,null,({featureFlags:i})=>n(i[t])?r.a.createElement(o.Fragment,null,e):null)},RKN0:function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),i=n("JEzt"),a=n.n(i),s=n("z3D9"),c=n("nvpc"),l=n("u6In"),u=n("bLpi"),d=n("NI0Q"),f=n("RLdS"),h=n("zLcT"),p=n("KsTJ"),m=n("3IV/"),g=n("w301"),b=n("BMbf"),y=n("bg0W"),v=n("ZgvQ");const E=Object(g.a)({light:m.N0,dark:m.DN50}),O=Object(g.a)({light:m.N900,dark:m.DN600}),C=p.default.div`
  background: ${E};
  border-radius: ${b.c}px;
  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */
  color: ${O};
  max-height: ${Object(v.multiply)(b.h,56)}px;
  max-width: ${Object(v.multiply)(b.h,56)}px;
  padding: ${Object(v.multiply)(b.h,2)}px ${Object(v.multiply)(b.h,3)}px;
  z-index: ${b.i.dialog};

  ${y.e200};

  &:focus {
    outline: none;
  }
`;class x extends o.Component{constructor(){super(...arguments),this.handleClickOutside=e=>{const{isOpen:t,onClose:n}=this.props;if(e.defaultPrevented)return;const o=this.containerRef,r=this.triggerRef,{target:i}=e;r&&r.contains(i)||t&&o&&!o.contains(i)&&n&&n({isOpen:!1,event:e})}}componentDidUpdate(e){"undefined"!=typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))}componentDidMount(){"undefined"!=typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)}componentWillUnmount(){"undefined"!=typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)}render(){const{children:e,placement:t,isOpen:n,content:o,onContentBlur:i,onContentFocus:s,onContentClick:c,testId:l}=this.props,h=n?r.a.createElement(u.a,{placement:t},({ref:e,style:t})=>r.a.createElement(C,{onBlur:i,onFocus:s,onClick:c,innerRef:t=>{this.containerRef=t,"function"==typeof e?e(t):e.current=t},style:t,"data-testid":l},o)):null;return r.a.createElement(d.a,null,r.a.createElement(f.a,null,({ref:t})=>r.a.createElement(a.a,{innerRef:e=>{this.triggerRef=e,"function"==typeof t?t(e):t.current=e}},e)),h)}}x.defaultProps={isOpen:!1,onContentBlur:()=>{},onContentClick:()=>{},onContentFocus:()=>{},onClose:()=>{},placement:"bottom-start"};const w=Object(s.a)("atlaskit");t.a=Object(c.a)({componentName:"inlineDialog",packageName:h.a,packageVersion:h.b})(Object(l.a)({onClose:w({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:h.a,packageVersion:h.b}})})(x))},RLdS:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("ERkP"),r=n("lEaq"),i=n.n(r),a=n("NI0Q"),s=n("3eOh");function c(e){var t=e.children,n=e.innerRef,r=o.useContext(a.c),c=o.useCallback((function(e){Object(s.c)(n,e),Object(s.b)(r,e)}),[n,r]);return o.useEffect((function(){return function(){return Object(s.c)(n,null)}})),o.useEffect((function(){i()(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),Object(s.d)(t)({ref:c})}},aiom:function(e,t,n){"use strict";var o=n("ERkP"),r=n.n(o),i=n("lZoD"),a=n("WWAs"),s=n("Ua4J");var c=n("03Pf");const l=({anchorContainer:e,scrollCorrectionPixels:t})=>{const{setHash:n}=Object(o.useContext)(s.a),r=Object(o.useCallback)(o=>{if(!e.current)return;if(o.defaultPrevented)return;const r=function(e,t=document){if(!e)return null;if(0!==e.button)return null;if("click"!==e.type)return null;if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return null;const{target:n}=e,o=n?n.closest:null,r=o?o.call(n,"A"):null,i=r||n;if(!(i instanceof HTMLAnchorElement))return null;if(i.target&&"_self"!==i.target)return null;if(!i.hash)return null;const a=i.ownerDocument;if(!a||a!==document)return null;if(!(a.location.origin+a.location.pathname===i.origin+i.pathname))return null;const s=decodeURI(i.hash.substr(1)),c=document.getElementById(s);return null==c?null:t.contains(c)?{anchorElement:c,hash:s}:null}(o,e.current);if(r){const{anchorElement:e,hash:i}=r;o.preventDefault(),Object(c.b)(e,t),n(i)}},[e,t,n]);Object(o.useEffect)(()=>(window.addEventListener("click",r),()=>{window.removeEventListener("click",r)}),[r])};n.d(t,"a",(function(){return d}));const u=({anchorContainer:e,topOffset:t})=>(l({anchorContainer:e,scrollCorrectionPixels:-t}),null),d=({anchorContainer:e})=>r.a.createElement(i.c,{to:[a.a]},t=>r.a.createElement(u,{anchorContainer:e,topOffset:t.getTotalHeight()}));d.displayName="ScrollToHashLinkHandler"},ceER:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("zjfJ"),r=n("lZoD"),i=n("8J6f");class a extends r.a{constructor(e){super(),Object(o.a)(this,"exitAnimationTimer",void 0),Object(o.a)(this,"delayedAnimationTimer",void 0),Object(o.a)(this,"timeoutTimer",void 0),Object(o.a)(this,"recentlyReset",!1),Object(o.a)(this,"isRunning",()=>"START"===this.state.status),Object(o.a)(this,"isDelayed",()=>"DELAYED"===this.state.status),Object(o.a)(this,"isStartable",()=>"RESET"===this.state.status||"SSR"===this.state.status||this.recentlyReset),Object(o.a)(this,"getStatus",()=>this.state.status),Object(o.a)(this,"getDuration",()=>this.state.duration||i.b),Object(o.a)(this,"start",(e=i.b,t=i.f)=>{this.isStartable()&&(this.recentlyReset=!1,this.delayedAnimationTimer=setTimeout(()=>{this.isRunning()&&this.setState({status:"DELAYED"})},e),this.timeoutTimer=setTimeout(()=>{this.isDelayed()&&this.reset()},t),this.setState({status:"START",duration:e}))}),Object(o.a)(this,"finish",()=>{(this.isRunning()||this.isDelayed())&&(this.isDelayed()?this.reset():this.setState({status:"FINISH"}),this.exitAnimationTimer=setTimeout(()=>{this.reset()},i.d))}),Object(o.a)(this,"reset",()=>{clearTimeout(this.exitAnimationTimer),clearTimeout(this.delayedAnimationTimer),clearTimeout(this.timeoutTimer),this.setState({status:"RESET"}),this.recentlyReset=!0}),this.state={status:e?e.status:window.__SSR_RENDERED__?"SSR":"RESET",duration:e&&e.duration||i.b}}}},dn5O:function(e,t,n){"use strict";var o=n("ERkP"),r=n("Ua4J"),i=n("+6Tk"),a=n("keNr"),s=n("daKX"),c=n("rUEv");const l=Object(s.a)("browser-metrics");n.d(t,"a",(function(){return u}));const u=Object(o.memo)(({customData:e,stopTime:t})=>{const{match:n}=Object(o.useContext)(r.a),s=(e=>{const t=Object(o.useContext)(c.a);if(!e)return l.error`metricKey is falthy.`,null;const n=t[e];return n||(l.error`${e} has not been configured`,null)})(n&&n.name),u=Object(i.a)(a.a);return Object(o.useEffect)(()=>{u&&s&&(performance.mark("browser-metric.end"),s.stop({customData:e,stopTime:t}))},[]),null})},g92I:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var o=n("EDnI"),r=n("t5/q");const i=[".user-mention","[data-mention-id]",".ap-container",'a[href^="/"]','.conf-macro[data-hasbody="false"]',".status-lozenge-span",".date-lozenger-container",'[data-inline-card="true"]',".inlineCardView-content-wrap",".jira-issue",".ak-renderer-extension-overflow-container button",'[data-node-type="expand"] > button','[data-node-type="nestedExpand"] > button',".jira-issues","[data-type='file']",".code-block",'.conf-macro[data-macro-name="code"]',".pm-table-sticky-wrapper","[extensionkey='gadget']","span[data-placeholder]","[contenteditable='false']"].join(",");function a(e){return $("<div>").append(e.cloneContents()).html()}function s(e){if(e.commonAncestorContainer){const t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}}function c(e){const t=window.scrollY,n=window.scrollX;let o=e.getClientRects();if(!o.length&&e.parentElement&&e.parentElement()){const r=$(e.parentElement()),i=r.offset();i&&(o=[{top:i.top-t,left:i.left-n,bottom:i.top+(r.height()||0),right:i.left+(r.width()||0)}])}const r=function(e,t){const n={first:t[0],last:t[t.length-1]};return"undefined"!==e.endOffset&&0===e.endOffset&&t.length>1&&(n.last=t[t.length-2]),n}(e,o);return{first:function(e){const o={};return e?(o.width=e.right-e.left,o.height=e.bottom-e.top,o.left=e.left+n,o.right=e.right+n,o.top=e.top+t,o.bottom=e.bottom+t,o):o}(r.first),average:function(e,o){const r={};return r.top=e.top,r.left=(e.left||0)+n,r.bottom=o.bottom,void 0!==e.left&&void 0!==e.right&&void 0!==o.left&&void 0!==o.right&&(e.left>=o.right?r.right=e.right:r.right=o.right),r.right=(r.right||0)+n,r.top=(r.top||0)+t,r.bottom=(r.bottom||0)+t,r.width=r.right-r.left,r.height=r.bottom-r.top,r}(r.first,r.last)}}function l(e,t,n,l,u){const d=function(e){return Object(o.a)(String(e))}(t),f=d.trim();let h;return f&&(h=function(e,t,n,o,a){const s=Array.from(e.querySelectorAll(".pm-table-sticky-wrapper")),c=Array.from(e.querySelectorAll(i)),{text:l,nodesStartPos:u,nodes:d}=Object(r.b)(e,[...c,...s]),{index:f,numMatches:h,matchTraceList:p}=Object(r.a)(l,t,n.startContainer,n.startOffset,u,d,a),m={pageId:o,selectedText:t,index:f,numMatches:h};return p&&(m.matchTraceList=p),m}(e,d,t,n,u)),u?h.matchTraceList:{text:f,searchText:h,area:c(t),html:a(t),containingElement:s(t),range:t,lastModified:l}}function u(e,t,n){const o=l(e,t,n,null,!0);return o||[]}},gloY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 0 0 .164.033.515.515 0 0 0 .474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e))};s.displayName="CommentIcon";var c=s;t.default=c},ltac:function(e,t,n){"use strict";function o(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function r(e,t){if(!e)return!1;t=t||document.scrollingElement||document.body.parentNode;const n=e.offsetHeight,r=o(e),i=o(t)+t.scrollTop,a=t.offsetHeight;return r>=i&&r+n<=i+a}function i(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:i(e.parentNode)}function a(e,t){t=t||i(e),e&&t&&!r(e,t)&&(t.scrollTop=o(e)-o(t)-t.clientHeight/2)}function s(e){return e.getBoundingClientRect()}function c(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:r,bottom:i}=o,a=n.offsetHeight;return 0<=r&&r<a||0<=i&&i<=a||r<=0&&0<=i&&i>=a}function l(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:r}=o,i=n.offsetHeight;return 0<=r&&r<i}n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}))},mbfJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("frZf");function r(e){return e?e.replace(/href="(.*_\/styles\/[^\/"]*)"/g,(e,t)=>t.includes(".css")?`href="${o.a+t.substring(t.indexOf("/_")+2)}"`:e):e}},nLwH:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("Czhu"),r=n("Iy7w"),i=n("ERkP"),a=n.n(i),s=n("L21V"),c=n("zJ/j"),l=n("cJDk"),u=n("MqVv");const d=Object(r.a)("div",{target:"e6mtl1v0"})({name:"rp9vlg",styles:"display:flex;justify-content:flex-end;flex:1;> button{margin-right:4px;&:last-of-type{margin-right:0;}}"}),f={unsavedHeading:{id:"comment.unsaved.warning.dialog.heading",defaultMessage:"Do you want to continue?",description:"The heading text for the warning modal confirming the user wants to continue"},unsavedContent:{id:"comment.warning.dialog.unsaved.content",defaultMessage:"Your comment will be lost if you do.",description:"The body text for the warning modal explaining the unsaved content will be lost"},deleteHeading:{id:"comment.warning.dialog.delete.heading",defaultMessage:"Do you want to delete this comment?",description:"The body text for the warning modal explaining the unsaved content will be lost"},deleteContent:{id:"comment.warning.dialog.delete.content",defaultMessage:"Your comment will be permanently removed if you do.",description:"The body text for the warning modal explaining the unsaved content will be lost"}},h=({isDelete:e,onClose:t,onConfirm:n,onCancel:r})=>{const i=()=>{n(),t()},h=()=>{r&&r(),t()},p=()=>a.a.createElement(l.d,null,a.a.createElement(d,null,a.a.createElement(c.a,{"data-cy":"comment-warning-cancel-button",onClick:h},a.a.createElement(s.c,{id:"comment.warning.dialog.cancel.button",defaultMessage:"Cancel",description:"The cancel button text for the comment warning modal"})),a.a.createElement(c.a,{"data-cy":"comment-warning-ok-button",appearance:"warning",onClick:i},a.a.createElement(s.c,{id:"comment.warning.dialog.ok.button",defaultMessage:"OK",description:"The OK button text for the comment warning modal"})))),m=e?f.deleteHeading:f.unsavedHeading,g=e?f.deleteContent:f.unsavedContent;return a.a.createElement(s.c,Object(o.a)({},m),e=>a.a.createElement(u.a,{appearance:"warning",components:{Footer:p},heading:e},a.a.createElement(s.c,Object(o.a)({},g))))}},nZDR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M13 11V3.993A.997.997 0 0 0 12 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 0 0 3 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0 0 21 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="AddIcon";var c=s;t.default=c},ogGg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=function(e){return o.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M19.41 3.041l.72-.72a1.095 1.095 0 1 1 1.55 1.548L3.87 21.68a1.095 1.095 0 1 1-1.55-1.55l.72-.72a2.005 2.005 0 0 1-.04-.405V4.995C3 3.893 3.893 3 4.995 3h14.01c.139 0 .274.014.405.041zM21 7.531v11.474A1.995 1.995 0 0 1 19.005 21H7.53l3-3H18v-2.7l-2.271-2.498L21 7.53zM8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="currentColor"/></svg>'},e))};s.displayName="MediaServicesNoImageIcon";var c=s;t.default=c},sor6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("hpu0"),r=n("A79P");const i=async(e,{name:t,timeout:n,attributes:i})=>{Object(o.b)().start({name:t,timeout:n||r.a.PAGE_LOAD,attributes:i});try{await e()}catch(a){throw Object(o.c)(t,a),a}Object(o.b)().succeed({name:t})}},"t5/q":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("EDnI");function r(e,t,n){const o=Math.min(n,e.length-1);let r=o,i=e.length;for(;r<i;){const n=r+i>>1;e[n]<=t?r=n+1:i=n}return Math.max(r-1,o)}function i(e,t){let n,r="";const i=[],a=[],s=e=>t.some(t=>t===e||t.contains(e))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;s.acceptNode=s;const c=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,s,!1);for(;n=c.nextNode();){const e=Object(o.a)(n.nodeValue);(" "===e||e.trim())&&(i.push(r.length),a.push(n),r+=e)}return{text:r,nodesStartPos:i,nodes:a}}function a(e){return e&&e.nodeValue?e.nodeValue.length:0}function s(e,t,n,o,i,s,c){const l=[];if(!n)return{numMatches:0,index:-1,matchTraceList:null};let u=0,d=0,f=0,h=-1,p=0;for(;-1!==(f=e.indexOf(t,u));){const e=r(i,f,d),t=s[e];let m=n;if(3===m.nodeType&&o>=a(m)&&(o-=a(m),m=n.nextSibling),m&&(3===m.nodeType&&t===m||3!==m.nodeType&&m.contains(t))){f-i[e]<=o&&(h=p)}if(c){let e=t.parentElement;const n=[];for(;e&&"content"!==e.getAttribute("id");){let t="",o="";const{tagName:r}=e,i=e.classList?e.classList.value:"",a=e.getAttributeNames().filter(e=>-1!==e.indexOf("data-"));i.length&&(t="."+i.split(" ").join(".")),a.length&&a.forEach(t=>{var n;const r=null===(n=e)||void 0===n?void 0:n.getAttribute(t);o+=`[${t}="${r}"]`}),n.unshift(`${r}${t}${o}`),e=e.parentElement}l.push(n.join(" > "))}p++,u=f+1,d=e}return{numMatches:p,index:h,matchTraceList:l.length?l:null}}},tlRP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("RfuI");const r=Object(o.a)({id:"ClZmW",name:"RestrictedPage",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e("no-permission.restricted-page~27096fa6")]).then(n.bind(null,"mPgm")).then(({RestrictedPage:e})=>e)}),i=Object(o.a)({id:"EhdjM",name:"RestrictedSpace",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e("no-permission.restricted-space~b59ad437")]).then(n.bind(null,"5C6J")).then(({RestrictedSpace:e})=>e)}),a=Object(o.a)({id:"/SH9f",name:"RestrictedPageConfirmation",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("no-permission.restricted-page-confirmation~b59ad437")]).then(n.bind(null,"QBVN")).then(({RestrictedPageConfirmation:e})=>e)})},zLcT:function(e){e.exports=JSON.parse('{"a":"@atlaskit/inline-dialog","b":"13.0.5"}')}}]);
//# sourceMappingURL=55.Q9imShK87T.js.map