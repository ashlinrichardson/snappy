(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"+CY+":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("zjfJ"),i=a("ERkP"),s=(a("aWzz"),a("+Aie")),o=a.n(s),c=a("5Asb");const r={},l=o.a.prototype.stopCallback;o.a.prototype.stopCallback=function(e,t,a){return!!!c.d.map(e=>t.classList.contains(e)).find(e=>e)&&l.call(this,e,t,a)};class h extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"listeners",{}),Object(n.a)(this,"lastFired",0),Object(n.a)(this,"_call",e=>{const t=+new Date;t-this.lastFired>=150&&(this.lastFired=t,this.props.listener(e))})}componentDidMount(){const{accelerator:e}=this.props;r[e],r[e]=!0,o.a.bind(e,this._call)}componentWillUnmount(){const{accelerator:e}=this.props;delete r[e],o.a.unbind(e)}render(){return null}}},"/2pk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ERkP")),i=s(a("4KTy"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return n.default.createElement(i.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11.983 15.984a4.005 4.005 0 0 1-4.002-4c0-2.206 1.795-4 4.002-4a4.005 4.005 0 0 1 4.002 4c0 2.206-1.795 4-4.002 4M12 4C6.48 4 2 8.84 2 12c0 3.086 4.577 8 10 8s10-4.914 10-8c0-3.16-4.481-8-10-8"/><circle cx="12" cy="12" r="2"/></g></svg>'},e))};c.displayName="WatchFilledIcon";var r=c;t.default=r},"5Asb":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return o}));const n={PUBLISH:"mod+enter",PUBLISH_WITH_COMMENT:"mod+shift+enter",EDIT:"e",PREVIEW:"mod+shift+e"},i="mod+s",s="shortcuts-are-allowed",o=["ProseMirror-focused",s]},"6OoW":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("zjfJ"),i=a("lZoD"),s=a("UhQU");class o extends i.a{constructor(...e){super(...e),Object(n.a)(this,"state",{selectedTab:s.a.PAGE})}getSelectedTab(){return this.state.selectedTab}getSelectedTabIndex(){return this.state.selectedTab===s.a.PAGE?0:1}setSelectedTab(e){this.setState({selectedTab:e})}}},CLO0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ERkP")),i=s(a("4KTy"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return n.default.createElement(i.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12 18c-4.536 0-7.999-4.26-7.999-6 0-2.001 3.459-6 8-6 4.376 0 7.998 3.973 7.998 6 0 1.74-3.462 6-7.998 6m0-14C6.48 4 2 8.841 2 12c0 3.086 4.576 8 10 8 5.423 0 10-4.914 10-8 0-3.159-4.48-8-10-8"/><path d="M11.977 13.984c-1.103 0-2-.897-2-2s.897-2 2-2c1.104 0 2 .897 2 2s-.896 2-2 2m0-6c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.207 0 4-1.794 4-4s-1.793-4-4-4"/></g></svg>'},e))};c.displayName="WatchIcon";var r=c;t.default=r},ESpw:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const n=e=>({}),i=function(e,t=Object.create(Object.prototype)){if(!e)throw new Error("a default set of overrides *must* be passed in as the first argument");return function(a){const{cssFn:n,attributesFn:i,component:s}=e[a];if(!t[a])return{cssFn:n,attributesFn:i,component:s};const{cssFn:o,attributesFn:c,component:r}=t[a];return{cssFn:o?e=>o(n(e),e):n,attributesFn:c||i,component:r||s}}}},"GNK+":function(e){e.exports=JSON.parse('{"a":"@atlaskit/checkbox","b":"11.0.4"}')},JGo4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ERkP")),i=s(a("4KTy"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return n.default.createElement(i.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M4.02 19.23a1 1 0 0 0 1.18 1.18l3.81-.78-4.21-4.21-.78 3.81zm5.921-2.62l-2.12-2.12L16.306 6h.002l2.121 2.121-8.489 8.49zm9.903-9.903l-2.12-2.122A1.997 1.997 0 0 0 16.308 4c-.512 0-1.024.195-1.415.585l-9.757 9.758 4.95 4.95 9.757-9.758a2 2 0 0 0 0-2.828z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};c.displayName="EditIcon";var r=c;t.default=r},N4KI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ERkP")),i=s(a("4KTy"));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return n.default.createElement(i.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><rect fill="inherit" x="8" y="11" width="8" height="2" rx="1"/></g></svg>'},e))};c.displayName="CheckboxIndeterminateIcon";var r=c;t.default=r},"Ua+b":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("ERkP"),i=a.n(n),s=(a("aWzz"),a("KsTJ")),o=a("3IV/");const c=s.default.div`
  display: flex;
  line-height: 1.3;
  padding-bottom: 1px;
  padding-top: 1px;
`,r=s.default.div`
  background-color: ${o.N400};
  border-radius: 2px;
  margin-left: ${e=>e.hasContentBefore?4:2}px;
  margin-right: ${e=>e.hasContentBefore?0:2}px;
  padding: 1px 8px;
  line-height: 1.2;
`,l=({shortcut:e,contentBefore:t})=>i.a.createElement(c,null,t,e.split(" ").map(e=>i.a.createElement(r,{key:e,hasContentBefore:!!t},e)))},UhQU:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={PAGE:"PAGE",SPACE:"SPACE"}},bXhU:function(e,t,a){"use strict";var n=a("HbGN"),i=a("ERkP"),s=a.n(i),o=a("lSUb"),c=a("xQ8g"),r=a.n(c),l=a("N4KI"),h=a.n(l),d=a("EFzz"),u=a("Czhu"),p=a("l1C2"),g=a("ESpw");const b=e=>{let{tokens:t}=e,a=Object(n.a)(e,["tokens"]);return a.isDisabled?{stroke:(i=t.icon).borderColor.disabled,strokeWidth:i.borderWidth}:a.isActive?(e=>({stroke:e.borderColor.active,strokeWidth:e.borderWidth}))(t.icon):a.isFocused?(e=>({stroke:e.borderColor.focused,strokeWidth:e.borderWidth}))(t.icon):a.isInvalid?a.isChecked?(e=>({stroke:e.borderColor.invalidAndChecked,strokeWidth:e.borderWidth}))(t.icon):(e=>({stroke:e.borderColor.invalid,strokeWidth:e.borderWidth}))(t.icon):a.isHovered?a.isChecked?(e=>({stroke:e.borderColor.hoveredAndChecked,strokeWidth:e.borderWidth}))(t.icon):(e=>({stroke:e.borderColor.hovered,strokeWidth:e.borderWidth}))(t.icon):a.isChecked?(e=>({stroke:e.borderColor.checked,strokeWidth:e.borderWidth}))(t.icon):{stroke:t.icon.borderColor.rest,strokeWidth:t.icon.borderWidth};var i},w=e=>{const{isChecked:t,isDisabled:a,isActive:n,tokens:{icon:i}}=e;let s=i.tickColor.checked;return a&&t?s=i.tickColor.disabledAndChecked:n&&t&&!a?s=i.tickColor.activeAndChecked:t||(s=i.tickColor.rest),s},f=e=>{const{isChecked:t,isDisabled:a,isActive:n,isHovered:i,tokens:{icon:s}}=e;let o=s.boxColor.rest;return a?o=s.boxColor.disabled:n?o=s.boxColor.active:i&&t?o=s.boxColor.hoveredAndChecked:i?o=s.boxColor.hovered:t&&(o=s.boxColor.checked),o};var m={component:function(e){let{attributesFn:t,cssFn:a,children:i}=e,s=Object(n.a)(e,["attributesFn","cssFn","children"]);return Object(p.f)("span",Object.assign({css:a(s)},t(s),{children:i}))},cssFn:e=>({lineHeight:0,flexShrink:0,color:f(e),fill:w(e),transition:"all 0.2s ease-in-out;","& rect:first-of-type":Object(u.a)({transition:"stroke 0.2s ease-in-out;"},b(e)),"> span":{display:"flex"}}),attributesFn:g.b},v=a("oXDD");a.d(t,"a",(function(){return C}));const y={IconWrapper:m,IconIndeterminate:{component:h.a},Icon:{component:r.a}};class C extends i.Component{constructor(e){super(e),this.createExtender=Object(o.a)(g.a).bind(this)}render(){const{isChecked:e,isDisabled:t,isInvalid:a,isActive:i,isFocused:o,isHovered:c,isIndeterminate:r,overrides:l,primaryColor:h,secondaryColor:u,theme:p}=this.props,g=this.createExtender(y,l),b=g("IconWrapper"),{component:w}=b,f=Object(n.a)(b,["component"]),{component:m}=g("IconIndeterminate"),{component:C}=g("Icon");return s.a.createElement(v.b.Provider,{value:p},s.a.createElement(d.a.Consumer,null,({mode:n})=>s.a.createElement(v.b.Consumer,{mode:n,tokens:v.a},n=>s.a.createElement(w,Object.assign({},f,{tokens:n,isChecked:e,isDisabled:t,isFocused:o,isActive:i,isHovered:c,isInvalid:a}),r?s.a.createElement(m,{primaryColor:h,secondaryColor:u,size:n.icon.size,label:""}):s.a.createElement(C,{primaryColor:h,secondaryColor:u,size:n.icon.size,label:""})))))}}C.defaultProps={primaryColor:"inherit",secondaryColor:"inherit",isIndeterminate:!1,theme:(e,t)=>e(t)}},e00J:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a("ERkP"),s=a("7nmT");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var r=function(e){function t(){return o(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,s.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);t.default=r},iJcn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("e00J");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}})},kgsK:function(e,t,a){"use strict";var n=a("HbGN"),i=a("ERkP"),s=a.n(i),o=a("lSUb"),c=a("z3D9"),r=a("nvpc"),l=a("u6In"),h=a("EFzz"),d=a("bXhU"),u=a("Czhu"),p=a("l1C2"),g=a("BMbf"),b=a("ESpw");var w={component:function({attributesFn:e,children:t,isDisabled:a,onMouseUp:n,onMouseDown:i,onMouseLeave:s,onMouseEnter:o,tokens:c,cssFn:r,testId:l}){return Object(p.f)("label",Object.assign({},e({isDisabled:a}),{onMouseUp:n,onMouseDown:i,onMouseLeave:s,onMouseEnter:o,css:r({isDisabled:a,tokens:c}),"data-testid":l}),t)},cssFn:({isDisabled:e,tokens:t})=>Object(u.a)({fontFamily:Object(g.e)(),alignItems:"flex-start",display:"flex",color:e?t.label.textColor.disabled:t.label.textColor.rest},e&&{cursor:"not-allowed"}),attributesFn:b.b};var f={component:function({attributesFn:e,tokens:t,children:a,cssFn:n}){return Object(p.f)("span",Object.assign({},e(),{css:n({tokens:t})}),a)},cssFn:({tokens:e})=>({paddingTop:e.label.spacing.top,paddingRight:e.label.spacing.right,paddingBottom:e.label.spacing.bottom,paddingLeft:e.label.spacing.left}),attributesFn:b.b},m=({children:e})=>Object(p.f)("span",{css:{display:"flex;",flexShrink:0,position:"relative"}},e),v=Object(i.forwardRef)((e,t)=>{let{createAnalyticsEvent:a,attributesFn:i,testId:s}=e,o=Object(n.a)(e,["createAnalyticsEvent","attributesFn","testId"]);return Object(p.f)("input",Object.assign({type:"checkbox"},i({disabled:o.disabled,checked:o.checked,required:o.required}),o,{ref:t,css:{left:"50%",margin:0,opacity:0,padding:0,position:"absolute",transform:"translate(-50%, -50%)",top:"50%",pointerEvents:"none"},"data-testid":s}))}),y=a("ZgvQ"),C=e=>{let{tokens:t}=e,a=Object(n.a)(e,["tokens"]);return Object(p.f)("span",Object.assign({css:{color:t.requiredIndicator.textColor.rest,paddingLeft:Object(y.multiply)(g.h,.25)+"px;"}},a))},k=a("oXDD"),W=a("GNK+");const I={Label:w,LabelText:f,HiddenCheckbox:{attributesFn:()=>({})}};class O extends i.Component{constructor(e){super(e),this.state={isActive:!1,isFocused:!1,isHovered:!1,isMouseDown:!1,isChecked:void 0!==this.props.isChecked?this.props.isChecked:this.props.defaultChecked},this.checkbox=void 0,this.actionKeys=[" "],this.onChange=e=>this.props.isDisabled?null:(e.persist(),void 0!==e.target.checked&&this.setState({isChecked:e.target.checked}),this.props.onChange&&this.props.onChange(e),!0),this.blur=()=>{this.checkbox&&this.checkbox.blur&&this.checkbox.blur()},this.focus=()=>{this.checkbox&&this.checkbox.focus&&this.checkbox.focus()},this.onBlur=()=>this.setState({isActive:this.state.isMouseDown&&this.state.isActive,isFocused:!1}),this.onFocus=()=>this.setState({isFocused:!0}),this.onMouseLeave=()=>this.setState({isActive:!1,isHovered:!1}),this.onMouseEnter=()=>this.setState({isHovered:!0}),this.onMouseUp=()=>this.setState({isActive:!1,isMouseDown:!1}),this.onMouseDown=()=>this.setState({isActive:!0,isMouseDown:!0}),this.onKeyDown=e=>{e.key in this.actionKeys&&this.setState({isActive:!0})},this.onKeyUp=e=>{e.key in this.actionKeys&&this.setState({isActive:!1})},this.createExtender=Object(o.a)(b.a)}componentDidMount(){const{isIndeterminate:e}=this.props;this.checkbox&&(this.checkbox.indeterminate=!!e,this.props.inputRef&&this.props.inputRef(this.checkbox))}componentDidUpdate(e){const{isIndeterminate:t}=this.props;e.isIndeterminate!==t&&this.checkbox&&(this.checkbox.indeterminate=!!t)}render(){const{isDisabled:e,isInvalid:t,isIndeterminate:a,label:i,name:o,overrides:c,value:r,isRequired:l,isChecked:u,theme:p,testId:g}=this.props,w=void 0===this.props.isChecked?this.state.isChecked:u,{isFocused:f,isActive:y,isHovered:W}=this.state,O=Object(b.a)(I,c),S=O("Label"),{component:E}=S,j=Object(n.a)(S,["component"]),B=O("LabelText"),{component:M}=B,D=Object(n.a)(B,["component"]),{attributesFn:P}=O("HiddenCheckbox");return s.a.createElement(k.b.Provider,{value:p},s.a.createElement(h.a.Consumer,null,({mode:n})=>s.a.createElement(k.b.Consumer,{mode:n,tokens:k.a},n=>s.a.createElement(E,Object.assign({},j,{isDisabled:e,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp,tokens:n,testId:g&&g+"--checkbox-label"}),s.a.createElement(m,null,s.a.createElement(v,{disabled:e,checked:w,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,value:r,name:o,ref:e=>this.checkbox=e,required:l,attributesFn:P,testId:g&&g+"--hidden-checkbox"}),s.a.createElement(d.a,{theme:p,overrides:{IconWrapper:c&&c.IconWrapper,Icon:c&&c.Icon,IconIndeterminate:c&&c.IconIndeterminate},isChecked:w,isDisabled:e,isFocused:f,isActive:y,isHovered:W,isInvalid:t,isIndeterminate:a,primaryColor:"inherit",secondaryColor:"inherit",label:""})),s.a.createElement(M,Object.assign({},D,{tokens:n}),i,l&&s.a.createElement(C,{tokens:n,"aria-hidden":"true"},"*"))))))}}O.defaultProps={isDisabled:!1,isInvalid:!1,defaultChecked:!1,isIndeterminate:!1,theme:(e,t)=>e(t)};const S=Object(c.a)("atlaskit");t.a=Object(r.a)({componentName:"checkbox",packageName:W.a,packageVersion:W.b})(Object(l.a)({onChange:S({action:"changed",actionSubject:"checkbox",attributes:{componentName:"checkbox",packageName:W.a,packageVersion:W.b}})})(O))},oXDD:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("3IV/"),i=a("8pvK");const s={label:{textColor:{rest:{light:n.N900,dark:n.DN600},disabled:{light:n.N80,dark:n.N80}},spacing:{top:"2px",right:"4px",bottom:"2px",left:"4px"}},icon:{borderWidth:"2px",borderColor:{rest:{light:n.N40,dark:n.DN80},disabled:{light:"",dark:""},checked:{light:"currentColor",dark:"currentColor"},active:{light:"currentColor",dark:"currentColor"},invalid:{light:n.R300,dark:n.R300},invalidAndChecked:{light:n.R300,dark:n.R300},focused:{light:n.B100,dark:n.B75},hovered:{light:n.N40,dark:n.DN200},hoveredAndChecked:{light:"currentColor",dark:"currentColor"}},boxColor:{rest:{light:n.N10,dark:n.DN10},disabled:{light:n.N20,dark:n.DN10},active:{light:n.B50,dark:n.B200},hoveredAndChecked:{light:n.B300,dark:n.B75},hovered:{light:n.N30,dark:n.DN30},checked:{light:n.B400,dark:n.B400}},tickColor:{rest:{light:"transparent",dark:"transparent"},disabledAndChecked:{light:n.N70,dark:n.DN90},activeAndChecked:{light:n.B400,dark:n.DN10},checked:{light:n.N10,dark:n.DN10}},size:"medium"},requiredIndicator:{textColor:{rest:n.R500}}};t.b=Object(i.a)(({tokens:e,mode:t})=>function(e,t){return function e(a){return Object.keys(a).reduce((n,i)=>{const s=a[i];return"object"!=typeof s||null==typeof s||Array.isArray(s)?n[i]=s:Object.keys(s).includes(t)?n[i]=s[t]:n[i]=e(a[i]),n},{})}(e)}(e,t))},uQoP:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("Iy7w");const i=e=>Object(n.a)(e,{target:"eoul0ti0"})({name:"ktb2h4",styles:"@keyframes show{0%{opacity:0;}100%{opacity:1;}}animation:show 0.25s ease-in-out;"})},wORz:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),s=a("iJcn"),o=a.n(s),c=a("baYQ");class r extends n.Component{render(){return i.a.createElement(c.c,null,e=>e?i.a.createElement(o.a,{innerRef:e(this.props.name)},this.props.children):this.props.children)}}t.a=r},wifC:function(e,t,a){"use strict";var n=a("zjfJ"),i=a("ERkP"),s=a.n(i),o=a("gQ5V"),c=(a("aWzz"),a("lZoD")),r=a("u6In"),l=a("zJ/j"),h=a("F4Ur"),d=a("KIs4"),u=a("qhEF"),p=a("FdGg"),g=a("X2PC"),b=a("rc7/"),w=a("H5qd"),f=a.n(w);const m=f.a`query WatchDialogQuery($contentId:ID!){content(id:$contentId){nodes{id currentUserIsWatching type space{id key currentUser{isWatched isWatchingBlogs}operations{operation targetType}}}}}`;var v,y,C=a("L21V"),k=a("RKN0"),W=a("+CY+"),I=a("Czhu"),O=a("Iy7w"),S=a("/2pk"),E=a.n(S),j=a("CLO0"),B=a.n(j),M=a("a8dO"),D=a("wORz"),P=a("Ua+b"),x=a("uQoP");const U=Object(C.g)({watchStopTooltip:{id:"watch-dialog.stop.button.tooltip",defaultMessage:"Stop watching",description:"Stop watching tooltip"},watchStartTooltip:{id:"watch-dialog.start.button.tooltip",defaultMessage:"Watch",description:"Start Watching tooltip"}}),A=Object(O.a)(l.a,{target:"e6egkzf0"})({name:"1g98hqh",styles:"min-width:30px;"}),_=Object(x.a)(A);function T(e){const t=Object(I.a)({},e),a=t.isAnimated;return delete t.isAnimated,a?s.a.createElement(_,Object(I.a)({},t)):s.a.createElement(A,Object(I.a)({},t))}const N=Object(r.a)()(Object(C.h)((y=v=class extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"handleClick",()=>{this.clickAnalyticsEvent(),this.props.onClick()})}clickAnalyticsEvent(){const{createAnalyticsEvent:e,isWatching:t}=this.props;e({type:"sendUIEvent",data:{action:t?"unwatched":"watched",actionSubject:"page-watch-button",source:"viewPageScreen"}}).fire()}render(){const{isSelected:e,intl:t,isAnimated:a,isWatching:n}=this.props;return s.a.createElement(D.a,{name:"page-watch-spotlight"},s.a.createElement(M.a,{tag:"span",content:s.a.createElement(P.a,{shortcut:"w",contentBefore:n?t.formatMessage(U.watchStopTooltip):t.formatMessage(U.watchStartTooltip)})},s.a.createElement(T,{"data-test-id":"page-watch-button",appearance:"subtle",isSelected:e,onClick:this.handleClick,iconBefore:n?s.a.createElement(E.a,{label:"WatchIcon"}):s.a.createElement(B.a,{label:"WatchIcon"}),isAnimated:a})))}},Object(n.a)(v,"defaultProps",{isAnimated:!0}),y)));var F=a("kgsK"),R=a("2DyF"),z=a("+mzV"),K=a("RfuI");const q=Object(K.a)({id:"eZPik",name:"ManageWatcherDialogLoader",loader:async()=>(await Promise.all([a.e("atlaskit~66e23772"),a.e("vendors~4134d62c"),a.e(2),a.e(3),a.e(25),a.e("manage-watcher-dialog~b59ad437")]).then(a.bind(null,"Ay2Y"))).ManageWatcherDialog});var Q=a("UhQU"),L=a("6OoW");class H extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"makeClickHandler",({dialogs:e,contentId:t,spaceKey:a,tabSwitcher:n})=>()=>{n.setSelectedTab(this.props.defaultTab),e.showDialog(q,{contentId:t,spaceKey:a}),this.props.onClick()})}render(){return s.a.createElement(p.a,{attribution:g.a.BACKBONE},s.a.createElement(z.a.Consumer,null,({contentId:e,spaceKey:t})=>s.a.createElement(c.c,{to:[R.a,L.a]},(a,n)=>s.a.createElement(l.a,{"data-test-id":"manage-watcher-button",spacing:"none",onClick:this.makeClickHandler({dialogs:a,contentId:e,spaceKey:t,tabSwitcher:n}),appearance:"link"},s.a.createElement(C.c,{id:"manage-watcher-dialog.watcher.button",defaultMessage:"Manage watchers",description:"The button to open manage watchers dialog."})))))}}Object(n.a)(H,"defaultProps",{defaultTab:Q.a.PAGE,onClick:()=>null});const Y=Object(C.g)({watchingSpaceTitle:{id:"watch-dialog.title.watching.space",defaultMessage:"You are watching this space",description:"Title for Watch dialog when watching space"},watchingSpaceDescription:{id:"watch-dialog.title.watching.space.description",defaultMessage:"Receiving email updates for all content in this space.",description:"Description for Watch dialog when watching space"},watchingBlogAndBlogsTitle:{id:"watch-dialog.title.watching.blog.and.blogs",defaultMessage:"You are watching this blog post",description:"Title for Watch dialog when watching blog and blog space"},watchingBlogAndBlogsDescription:{id:"watch-dialog.title.watching.blog.and.blogs.description",defaultMessage:"Receiving email updates about changes to this blog post and all new blog posts in this space.",description:"Description for Watch dialog when watching blog and blog space"},watchingBlogTitle:{id:"watch-dialog.title.watching.blog",defaultMessage:"You are watching this blog post",description:"Title for Watch dialog when watching blog"},watchingBlogDescription:{id:"watch-dialog.title.watching.blog.description",defaultMessage:"Receiving email updates about changes to this blog post.",description:"Description for Watch dialog when watching blog"},watchingPageTitle:{id:"watch-dialog.title.watching.page",defaultMessage:"You are watching this page",description:"Title for Watch dialog when watching page"},watchingPageDescription:{id:"watch-dialog.title.watching.page.description",defaultMessage:"Receiving email updates about changes to this page.",description:"Description for Watch dialog when watching page"},watchingBlogsTitle:{id:"watch-dialog.title.watching.blogs",defaultMessage:"You are watching for new blog posts",description:"Title for Watch dialog when watching blog space"},watchingBlogsDescription:{id:"watch-dialog.title.watching.blogs.description",defaultMessage:"Receiving email updates for new blog posts in this space.",description:"Description for Watch dialog when watching blog space"},watchingNothingBlogTitle:{id:"watch-dialog.title.watching.nothing.blog",defaultMessage:"You are not watching this blog",description:"Title for Watch dialog when not watching blog"},watchingNothingBlogDescription:{id:"watch-dialog.title.watching.nothing.blogs.description",defaultMessage:"Start watching to receive email updates about changes to this blog.",description:"Description for Watch dialog when not watching blog"},watchingNothingPageTitle:{id:"watch-dialog.title.watching.nothing.page",defaultMessage:"You are not watching this page",description:"Title for Watch dialog when not watching page"},watchingNothingPageDescription:{id:"watch-dialog.title.nothing.watching.page.description",defaultMessage:"Start watching to receive email updates about changes to this page.",description:"Description for Watch dialog when not watching page"},watchPage:{id:"watch-dialog.page",defaultMessage:"Watch page",description:"Watch page - checkbox label"},watchBlog:{id:"watch-dialog.blog",defaultMessage:"Watch blog post",description:"Watch blog post - checkbox label"},watchBlogs:{id:"watch-dialog.blogs",defaultMessage:"Watch for new blog posts in this space",description:"Watch for blog posts - checkbox label"},watchSpace:{id:"watch-dialog.space",defaultMessage:"Watch all content in this space",description:"Watch space -  checkbox label"},watchDisabledPageToolTip:{id:"watch-dialog.disabledpage.tooltip",defaultMessage:"You will receive updates for this page because you are watching this space",description:"Watching space tooltip for page"},watchDisabledBlogsToolTip:{id:"watch-dialog.disabledblogs.tooltip",defaultMessage:"You are subscribed to all blog posts because you are watching this space",description:"Watching space tooltip for blogs"},manageWatchers:{id:"watch-dialog.manage",defaultMessage:"Manage watchers",description:"Manage watchers link"}}),$=Object(O.a)("div",{target:"e16a910o0"})({name:"b983i2",styles:"margin:16px 0 0 0;"}),G=Object(O.a)("div",{target:"e16a910o1"})({name:"a952hd",styles:"width:325px;"}),J=Object(C.h)(Object(r.a)()(class extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"state",{isCurrentUserWatchingSpace:this.props.params.isWatchingSpace,isCurrentUserWatchingPage:this.props.params.isWatchingPage,isCurrentUserWatchingBlogs:this.props.params.isWatchingBlogs}),Object(n.a)(this,"watchPageChanged",()=>{const{contentId:e,watchContent:t,unwatchContent:a}=this.props,{isCurrentUserWatchingPage:n}=this.state;n?(a({variables:{id:e},optimisticResponse:{__typename:"Mutation",unwatchContent:{__typename:"WatchContentPayload",content:{__typename:"Content",id:e,currentUserIsWatching:!1}}}}),this.setState({isCurrentUserWatchingPage:!1})):(t({variables:{id:e},optimisticResponse:{__typename:"Mutation",watchContent:{__typename:"WatchContentPayload",content:{__typename:"Content",id:e,currentUserIsWatching:!0}}}}),this.setState({isCurrentUserWatchingPage:!0}))}),Object(n.a)(this,"watchSpaceChanged",()=>{const{spaceId:e,watchSpace:t,unwatchSpace:a}=this.props,{isCurrentUserWatchingSpace:n}=this.state;n?(a({variables:{spaceId:e},optimisticResponse:{__typename:"Mutation",unwatchSpace:{__typename:"WatchSpacePayload",space:{__typename:"Space",id:e,currentUser:{__typename:"SpaceUserMetadata",isWatched:!1}}}}}),this.setState({isCurrentUserWatchingSpace:!1})):(t({variables:{spaceId:e},optimisticResponse:{__typename:"Mutation",watchSpace:{__typename:"WatchSpacePayload",space:{__typename:"Space",id:e,currentUser:{__typename:"SpaceUserMetadata",isWatched:!0}}}}}),this.setState({isCurrentUserWatchingSpace:!0}))}),Object(n.a)(this,"watchBlogsChanged",()=>{const{spaceId:e,watchBlogs:t,unwatchBlogs:a}=this.props,{isCurrentUserWatchingBlogs:n}=this.state;n?(a({variables:{spaceId:e},optimisticResponse:{__typename:"Mutation",unwatchBlogs:{__typename:"WatchSpacePayload",space:{__typename:"Space",id:e,currentUser:{__typename:"SpaceUserMetadata",isWatchingBlogs:!1}}}}}),this.setState({isCurrentUserWatchingBlogs:!1})):(t({variables:{spaceId:e},optimisticResponse:{__typename:"Mutation",watchBlogs:{__typename:"WatchSpacePayload",space:{__typename:"Space",id:e,currentUser:{__typename:"SpaceUserMetadata",isWatchingBlogs:!0}}}}}),this.setState({isCurrentUserWatchingBlogs:!0}))}),Object(n.a)(this,"populateTitleAndDescription",()=>{const{params:e}=this.props;let t={};return t=e.isWatchingSpace?{title:Y.watchingSpaceTitle,description:Y.watchingSpaceDescription}:e.isBlogPost?e.isWatchingBlogs&&e.isWatchingPage?{title:Y.watchingBlogAndBlogsTitle,description:Y.watchingBlogAndBlogsDescription}:e.isWatchingPage?{title:Y.watchingBlogTitle,description:Y.watchingBlogDescription}:e.isWatchingBlogs?{title:Y.watchingBlogsTitle,description:Y.watchingBlogsDescription}:{title:Y.watchingNothingBlogTitle,description:Y.watchingNothingBlogDescription}:e.isWatchingPage?{title:Y.watchingPageTitle,description:Y.watchingPageDescription}:{title:Y.watchingNothingPageTitle,description:Y.watchingNothingPageDescription},s.a.createElement("div",null,s.a.createElement(C.c,Object(I.a)(Object(I.a)({},t.title),{},{tagName:"h2"})),s.a.createElement($,null,s.a.createElement(C.c,Object(I.a)({},t.description))))}),Object(n.a)(this,"fireAnalyticsEvent",e=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"ManageWatcherDialogButton",source:"WatchDialogContent",attributes:{source:e}}}).fire()})}render(){const{defaultTab:e,params:t,intl:a}=this.props;return s.a.createElement(G,null,this.populateTitleAndDescription(),s.a.createElement($,null,s.a.createElement(M.a,{content:t.isWatchingSpace?a.formatMessage(Y.watchDisabledPageToolTip):""},s.a.createElement(F.a,{testId:"watch-page-checkbox",label:t.isBlogPost?a.formatMessage(Y.watchBlog):a.formatMessage(Y.watchPage),value:"val1",onChange:this.watchPageChanged,isChecked:t.isWatchingPage||t.isWatchingSpace,isDisabled:t.isWatchingSpace,name:"watch-page"})),t.isBlogPost?s.a.createElement(M.a,{content:t.isWatchingSpace?a.formatMessage(Y.watchDisabledBlogsToolTip):""},s.a.createElement(F.a,{testId:"watch-blogs-checkbox",label:a.formatMessage(Y.watchBlogs),value:"val",onChange:this.watchBlogsChanged,isChecked:t.isWatchingBlogs||t.isWatchingSpace,isDisabled:t.isWatchingSpace,name:"watch-blogs"})):"",s.a.createElement(F.a,{testId:"watch-space-checkbox",label:a.formatMessage(Y.watchSpace),value:"val2",onChange:this.watchSpaceChanged,isChecked:t.isWatchingSpace,name:"watch-space"})),t.isAdmin?s.a.createElement($,null,s.a.createElement(H,{defaultTab:e,onClick:this.fireAnalyticsEvent("v2")})):"")}}));const V=Object(C.g)({watchPageNotification:{id:"watch-dialog.notification.start.watching.page",defaultMessage:"You started watching this page.",description:"start watching page notification"},unwatchPageNotification:{id:"watch-dialog.notification.stop.watching.page",defaultMessage:"You stopped watching this page.",description:"stop watching page notification"},watchBlogNotification:{id:"watch-dialog.notification.start.watching.blog",defaultMessage:"You started watching this blog.",description:"start watching blog notification"},unwatchBlogNotification:{id:"watch-dialog.notification.stop.watching.blog",defaultMessage:"You stopped watching this blog.",description:"stop watching blog notification"}}),X=Object(C.h)(class extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"state",{dialogOpen:!1}),Object(n.a)(this,"toggleDialog",()=>this.setState({dialogOpen:!this.state.dialogOpen})),Object(n.a)(this,"handleShortcutClick",()=>{const{contentId:e,params:t,watchContent:a,unwatchContent:n,flagsContainer:i,intl:s}=this.props;t.isWatchingSpace?this.setState({dialogOpen:!0}):t.isWatchingPage?n({variables:{id:e}}).then(()=>{i.showSuccessFlag({title:s.formatMessage(t.isBlogPost?V.unwatchBlogNotification:V.unwatchPageNotification),close:"auto"})}):a({variables:{id:e}}).then(()=>{i.showSuccessFlag({title:s.formatMessage(t.isBlogPost?V.watchBlogNotification:V.watchPageNotification),close:"auto"})})}),Object(n.a)(this,"closeDialog",()=>{this.setState({dialogOpen:!1})})}isWatching(){const{params:e}=this.props;return e.isWatchingPage||e.isBlogPost&&e.isWatchingBlogs||e.isWatchingSpace}render(){const{contentId:e,spaceId:t,params:a,watchContent:n,defaultTab:o,unwatchContent:c,watchSpace:r,unwatchSpace:l,watchBlogs:h,unwatchBlogs:d,customPlacement:u,isAnimated:p,customTrigger:g,useShortcut:b}=this.props,w=g||N;return s.a.createElement(i.Fragment,null,b&&s.a.createElement(W.a,{accelerator:"w",listener:this.handleShortcutClick}),s.a.createElement(k.a,{onClose:this.closeDialog,content:s.a.createElement(J,{contentId:e,spaceId:t,defaultTab:o,params:a,watchContent:n,unwatchContent:c,watchSpace:r,unwatchSpace:l,watchBlogs:h,unwatchBlogs:d}),isOpen:this.state.dialogOpen,placement:u},s.a.createElement(w,{isWatching:this.isWatching(),isSelected:this.state.dialogOpen,onClick:this.toggleDialog,isAnimated:p})))}}),Z=f.a`mutation WatchDialogWatchContentMutation($id:ID!){watchContent(watchContentInput:{contentId:$id currentUser:true}){content{id currentUserIsWatching}}}`,ee=f.a`mutation WatchDialogUnwatchContentMutation($id:ID!){unwatchContent(watchContentInput:{contentId:$id currentUser:true}){content{id currentUserIsWatching}}}`,te=f.a`mutation WatchDialogWatchSpaceMutation($spaceId:ID!){watchSpace(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatched}}}}`,ae=f.a`mutation WatchDialogUnwatchSpaceMutation($spaceId:ID!){unwatchSpace(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatched}}}}`,ne=f.a`mutation WatchDialogWatchBlogsMutation($spaceId:ID!){watchBlogs(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatchingBlogs}}}}`,ie=f.a`mutation WatchDialogUnwatchBlogsMutation($spaceId:ID!){unwatchBlogs(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatchingBlogs}}}}`;var se,oe;a.d(t,"a",(function(){return ce}));const ce=Object(r.a)()((oe=se=class extends i.PureComponent{constructor(...e){super(...e),Object(n.a)(this,"updateUnwatchBlogs",(e,{data:{unwatchBlogs:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].space.currentUser.isWatchingBlogs=t.space.currentUser.isWatchingBlogs,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"updateWatchBlogs",(e,{data:{watchBlogs:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].space.currentUser.isWatchingBlogs=t.space.currentUser.isWatchingBlogs,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"updateWatchSpace",(e,{data:{watchSpace:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].space.currentUser.isWatched=t.space.currentUser.isWatched,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"updateUnwatchSpace",(e,{data:{unwatchSpace:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].space.currentUser.isWatched=t.space.currentUser.isWatched,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"updateWatchContent",(e,{data:{watchContent:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].currentUserIsWatching=t.content.currentUserIsWatching,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"updateUnwatchContent",(e,{data:{unwatchContent:t}})=>{const{contentId:a}=this.props,n=e.readQuery({query:m,variables:{contentId:a}});n.content.nodes[0].currentUserIsWatching=t.content.currentUserIsWatching,e.writeQuery({query:m,data:n})}),Object(n.a)(this,"unwatchBlogAnalytics",()=>{this.fireAnalyticsEvent("unwatch","blogs")}),Object(n.a)(this,"watchBlogAnalytics",()=>{this.fireAnalyticsEvent("watch","blogs")}),Object(n.a)(this,"unwatchSpaceAnalytics",()=>{this.fireAnalyticsEvent("unwatch","space")}),Object(n.a)(this,"watchSpaceAnalytics",()=>{this.fireAnalyticsEvent("watch","space")}),Object(n.a)(this,"unwatchContentAnalytics",()=>{this.fireAnalyticsEvent("unwatch","content")}),Object(n.a)(this,"watchContentAnalytics",()=>{this.fireAnalyticsEvent("watch","content")})}fireAnalyticsEvent(e,t){const{contentId:a,createAnalyticsEvent:n}=this.props;n({type:"sendTrackEvent",data:{action:e,actionSubject:t,actionSubjectId:a,source:"WatchDialog",attributes:{componentVersion:"v2"}}}).fire()}render(){const{contentId:e,defaultTab:t,customPlacement:a,onRender:n,isAnimated:i,customTrigger:r,useShortcut:w}=this.props;return e?s.a.createElement(p.a,{attribution:g.a.COLLABORATION},s.a.createElement(d.a,null,({userId:d})=>d?s.a.createElement(c.c,{to:[u.a]},c=>s.a.createElement(o.b,{query:m,variables:{contentId:e}},({data:d,loading:u,error:p})=>{var g,f,m,v,y,C;if(p)return Object(b.b)(p)&&Object(h.a)(p),null;if(u)return s.a.createElement(l.a,{appearance:"subtle"});const k=null!=(C=d)&&null!=(C=C.content)&&null!=(C=C.nodes)&&null!=(C=C[0])&&null!=(C=C.space)?C.id:C,W={isWatchingPage:null!=(y=d)&&null!=(y=y.content)&&null!=(y=y.nodes)&&null!=(y=y[0])?y.currentUserIsWatching:y,isWatchingSpace:null!=(v=d)&&null!=(v=v.content)&&null!=(v=v.nodes)&&null!=(v=v[0])&&null!=(v=v.space)&&null!=(v=v.currentUser)?v.isWatched:v,isBlogPost:"blogpost"===(null!=(m=d)&&null!=(m=m.content)&&null!=(m=m.nodes)&&null!=(m=m[0])?m.type:m),isWatchingBlogs:null!=(f=d)&&null!=(f=f.content)&&null!=(f=f.nodes)&&null!=(f=f[0])&&null!=(f=f.space)&&null!=(f=f.currentUser)?f.isWatchingBlogs:f,isAdmin:(I=(null!=(g=d)&&null!=(g=g.content)&&null!=(g=g.nodes)&&null!=(g=g[0])&&null!=(g=g.space)?g.operations:g)||[],Boolean(I.find(e=>"space"===e.targetType&&"administer"===e.operation)))};var I;return s.a.createElement(o.a,{mutation:ie,onCompleted:this.unwatchBlogAnalytics,update:this.updateUnwatchBlogs},l=>s.a.createElement(o.a,{mutation:ne,onCompleted:this.watchBlogAnalytics,update:this.updateWatchBlogs},h=>s.a.createElement(o.a,{mutation:ae,onCompleted:this.unwatchSpaceAnalytics,update:this.updateUnwatchSpace},d=>s.a.createElement(o.a,{mutation:te,onCompleted:this.watchSpaceAnalytics,update:this.updateWatchSpace},u=>s.a.createElement(o.a,{mutation:ee,onCompleted:this.unwatchContentAnalytics,update:this.updateUnwatchContent},p=>s.a.createElement(o.a,{mutation:Z,onCompleted:this.watchContentAnalytics,update:this.updateWatchContent},o=>(n(),s.a.createElement(X,{contentId:e,spaceId:k,params:W,defaultTab:t,watchContent:o,unwatchContent:p,watchSpace:u,unwatchSpace:d,watchBlogs:h,unwatchBlogs:l,flagsContainer:c,customPlacement:a,isAnimated:i,customTrigger:r,useShortcut:w}))))))))})):null)):null}},Object(n.a)(se,"defaultProps",{onRender:()=>{},useShortcut:!0}),oe))}}]);
//# sourceMappingURL=86.EaBRJnyaey.js.map