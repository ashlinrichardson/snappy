(window.webpackJsonp=window.webpackJsonp||[]).push([["pseudo-wizard-create-dialog~493df0b3"],{"17lG":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return c}));var r=t("Jygk"),o=t.n(r),a=t("k8+f");function i(e){try{return o.a.require(e),!0}catch(n){return!1}}function c({listener:e,module:n,interval:t=250},r){Object(a.a)({listener:"wait-for-required-module "+n,globalProperty:"require"},()=>{if(i(n))return void r();const e=setInterval(()=>{i(n)&&(clearInterval(e),r())},t)})}},"3ac5":function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t("TOvH"),o=t("RZKf"),a=t("4BMa"),i=t("hd8a"),c=t("7xNx"),l=t("rQmM"),s=t("bpT7");function d(){Object(a.a)(),Object(a.b)(),r.a.preload(),o.a.preload(),i.a.preload(),c.a.preload(),l.a.preload(),s.b.preload(),s.a.preload()}},"4BMa":function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return a}));var r=t("7yUP");const o=async()=>{Object(r.c)("confluence.fabric.editor.download.start");const e=await Promise.all([t.e("atlaskit~66e23772"),t.e("vendors~4134d62c"),t.e(0),t.e(5),t.e(6),t.e(10),t.e(9),t.e(12),t.e(13),t.e(17),t.e(15),t.e(19),t.e(21),t.e(22),t.e(27),t.e(31),t.e(37),t.e(36),t.e(39),t.e(40),t.e(41),t.e(44),t.e(46),t.e("@atlaskit_editor-core~b59ad437")]).then(t.bind(null,"6Qoh"));return Object(r.c)("confluence.fabric.editor.download.end"),e},a=()=>Promise.all([t.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),t.e("synchrony-plugin~4134d62c")]).then(t.bind(null,"/VC6"))},"681K":function(e,n,t){"use strict";t.r(n),t.d(n,"CreateDialogBlueprintWizardRenderer",(function(){return O}));var r=t("zjfJ"),o=(t("aWzz"),t("ERkP")),a=t.n(o),i=t("Jygk"),c=t.n(i),l=t("wuLf"),s=t("3ac5"),d=t("bfgX"),u=t("S2j0"),p=t("hpu0"),f=t("3VMZ"),b=t("A79P"),g=t("k8+f"),h=t("17lG");class m extends o.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"isOpening",!1),Object(r.a)(this,"forceReloadInNextOpen",!0),Object(r.a)(this,"_setOpenState",e=>e?this._open():this._close()),Object(r.a)(this,"_close",e=>{if("function"==typeof this._confluenceDialogClose){try{this._confluenceDialogClose()}catch(n){0}this._confluenceDialogClose=null}Object(d.c)("remove.dialog",this._afterDialogClosed),this.props.onClose(e)}),Object(r.a)(this,"_afterDialogClosed",(e,{dialog:n})=>{"create-dialog"===n.id&&(this._confluenceDialogClose=null,this._close(e))}),Object(r.a)(this,"_isActive",()=>!!c.a.document.querySelector("#create-dialog")),Object(r.a)(this,"_open",()=>{if(!this._isActive()&&!this.isOpening){const{blueprint:e,spaceKey:n,parentPageId:t,contentId:r,onContentUpdated:o,onError:a}=this.props;e&&(Object(p.b)().start({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,timeout:b.a.DEFAULT}),this.isOpening=!0,Object(u.a)(["wrc!com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources","wrc!create-content"],()=>{Object(h.a)({listener:"PseudoWizardDialog",module:"ac/confluence/style/link-style-css"},()=>{const e=c.a.require("ac/confluence/style/link-style-css");e&&"function"==typeof e.addLinkTags&&e.addLinkTags()}),Object(g.a)({listener:"PseudoWizardDialog",globalProperty:"Confluence.Blueprint.loadDialogAndOpenTemplate"},()=>{const{contentBlueprintId:i,templateId:l,itemModuleCompleteKey:s}=e;c.a.Confluence.Blueprint.loadDialogAndOpenTemplate({spaceKey:n,contentBlueprintId:i,templateId:l,initContext:{itemModuleCompleteKey:s,parentPageId:"no-parent-page"===t?null:t},contentId:r,onContentUpdated:o,onError:a}).then(()=>{this.isOpening=!1,this.forceReloadInNextOpen=!1,Object(p.b)().succeed({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG})}).fail(e=>{this.isOpening=!1,this.forceReloadInNextOpen=!1,Object(p.b)().fail({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,error:new Error("Failed to open correct blueprint dialog "+e)})})})},()=>{Object(p.b)().fail({name:f.a.BLUEPRINT_WIZARD_LOAD_DIALOG,error:new Error("WRM is unavailable")})}))}})}componentDidMount(){Object(d.a)("remove.dialog",this._afterDialogClosed),this.forceReloadInNextOpen=!0,this._setOpenState(this.props.open)}UNSAFE_componentWillReceiveProps(e){this.props.spaceKey!==e.spaceKey&&(this.forceReloadInNextOpen=!0),e.open&&Object(s.a)()}render(){return null}}Object(r.a)(m,"displayName","PseudoWizardDialog"),Object(r.a)(m,"defaultProps",{onClose:()=>{}});const O=()=>{const{showBlueprintVariableWizard:e,parentPageId:n,spaceKey:t,onClose:r,blueprint:i,contentId:c,onContentUpdated:s,onError:d}=Object(o.useContext)(l.a);return e?a.a.createElement(m,{parentPageId:n,spaceKey:t,onClose:r,blueprint:i,contentId:c,onContentUpdated:s,onError:d,open:!0}):null}},"7xNx":function(e,n,t){"use strict";var r=t("RfuI"),o=Object(r.a)({id:"iGkzZ",name:"packages/confluence-fabric-editor/src/components/EditorBreadcrumbs/EditorBreadcrumbsLoader.ts",loader:()=>Promise.all([t.e("atlaskit~66e23772"),t.e("vendors~4134d62c"),t.e(0),t.e("fabric.editor.breadcrumbs~dc51bad7")]).then(t.bind(null,"R0Hm"))});n.a=o},"7yUP":function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return u}));t("veKZ");var r=t("aGtI"),o=t.n(r),a=t("BlJA"),i=t.n(a),c=t("Jygk"),l=t.n(c);const s=(e,n,t=[])=>{if(e===n)return!0;const r=o()(i()(e),i()(n));for(const o of r)if(!(t.indexOf(o)>=0)&&e[o]!==n[o])return!1;return!0},d=e=>{0},u=e=>{l.a.performance&&l.a.performance.mark(e)}},RZKf:function(e,n,t){"use strict";var r=t("RfuI");n.a=Object(r.a)({id:"HcbRZ",name:"packages/confluence-fabric-editor/src/components/ContentEditorBindings/ContentEditorBindingsLoader.ts",loader:()=>Promise.all([t.e("vendors~4134d62c"),t.e(12),t.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),t.e(127),t.e("collab.editor.container~dc51bad7")]).then(t.bind(null,"ktcL"))})},TOvH:function(e,n,t){"use strict";var r=t("RfuI");n.a=Object(r.a)({id:"wso4J",name:"packages/confluence-fabric-editor/src/components/FullPageEditorWrapper/FullPageEditorWrapperLoader.js",loader:()=>Promise.all([t.e("vendors~4134d62c"),t.e(11),t.e("fullpage.editor.wrapper~493df0b3")]).then(t.bind(null,"XDCa"))})},bpT7:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return a}));var r=t("RfuI");const o=Object(r.a)({id:"lxa0b",name:"EditPageLoader",loader:()=>Promise.all([t.e("atlaskit~66e23772"),t.e("vendors~4134d62c"),t.e("fabric.editpage~493df0b3")]).then(t.bind(null,"wv4k"))}),a=Object(r.a)({id:"BcQNz",name:"EditPageDataLoaderLoader",loader:()=>Promise.all([t.e("graphql.prosemirror-synchrony-plugin.content-reconciler~4134d62c"),t.e(127),t.e("fabric.editpage.dataloader~549ee3d0")]).then(t.bind(null,"yRof"))})},hd8a:function(e,n,t){"use strict";var r=t("RfuI");n.a=Object(r.a)({id:"PHwyb",name:"EditPageBrowserTitle",loader:()=>t.e("fabric.editpage.title~493df0b3").then(t.bind(null,"66Bi"))})},"k8+f":function(e,n,t){"use strict";function r(e){const n=e.split(".");let t=window[n.shift()];for(;void 0!==t&&n.length;)t=t[n.shift()];return t}t.d(n,"a",(function(){return a}));function o(e){0}function a({listener:e,globalProperty:n,interval:t=250},a){if(r(n))return o(),a(),null;const i=setInterval(()=>{o(),r(n)&&(o(),clearInterval(i),a())},t);return{cancel(){i&&clearInterval(i)}}}},rQmM:function(e,n,t){"use strict";var r=t("RfuI");n.a=Object(r.a)({id:"m7yuF",name:"packages/confluence-fabric-editor/src/components/FullPageEditor/FullPageEditorLoader.ts",loader:()=>Promise.all([t.e("atlaskit~66e23772"),t.e("afp~af75c846"),t.e("vendors~4134d62c"),t.e(0),t.e(2),t.e(3),t.e(4),t.e(1),t.e(5),t.e(6),t.e(7),t.e(11),t.e(10),t.e(9),t.e(12),t.e(13),t.e(17),t.e(15),t.e(18),t.e(20),t.e(19),t.e(21),t.e(22),t.e(26),t.e(27),t.e(28),t.e(31),t.e(30),t.e(35),t.e(38),t.e(37),t.e(32),t.e(36),t.e(39),t.e(40),t.e(41),t.e(42),t.e(44),t.e(46),t.e(50),t.e(56),t.e(59),t.e(74),t.e(79),t.e(80),t.e(87),t.e(112),t.e("fullpage.editor.container~493df0b3")]).then(t.bind(null,"goqy"))})}}]);
//# sourceMappingURL=pseudo-wizard-create-dialog~493df0b3.ETv8p3V2Qi.js.map