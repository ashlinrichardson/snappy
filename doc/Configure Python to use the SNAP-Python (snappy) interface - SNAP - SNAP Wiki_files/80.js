(window.webpackJsonp=window.webpackJsonp||[]).push([[80,133,136],{"+AdF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ERkP"),o=n("7nmT");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,o.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component);t.default=s},"06eB":function(e,t,n){var r=n("ey2t"),a=n("qnX1"),o=n("eYkv"),i=n("UV1p"),c=n("R6B+"),s=n("hoKw"),l=Date.prototype.getTime;function u(e,t,n){var f=n||{};return!!(f.strict?o(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?f.strict?o(e,t):e==t:function(e,t,n){var o,f;if(typeof e!=typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e)!==a(t))return!1;var m=i(e),b=i(t);if(m!==b)return!1;if(m||b)return e.source===t.source&&c(e)===c(t);if(s(e)&&s(t))return l.call(e)===l.call(t);var h=p(e),g=p(t);if(h!==g)return!1;if(h||g){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!=typeof t)return!1;try{var y=r(e),v=r(t)}catch(O){return!1}if(y.length!==v.length)return!1;for(y.sort(),v.sort(),o=y.length-1;o>=0;o--)if(y[o]!=v[o])return!1;for(o=y.length-1;o>=0;o--)if(f=y[o],!u(e[f],t[f],n))return!1;return!0}(e,t,f))}function d(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},"0bsQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("zjfJ"),a=n("Czhu"),o=(n("aWzz"),n("ERkP")),i=n.n(o),c=n("KsTJ"),s=n("lRcl");const l={small:12,medium:26,large:36},u=c.default.div([],e=>Object(a.a)({width:"100%",height:"100%",position:"relative"},e.style)),d=c.default.div`
  position: absolute;
  left: 50%;
  top: 50%;
  marginLeft: ${e=>e.marginLeft}px
  marginTop: ${e=>e.marginTop}px
  zIndex: 100
`;class p extends o.PureComponent{render(){const{style:e,size:t}=this.props;return i.a.createElement(u,{style:e,"data-test-id":"wrapper-spinner"},i.a.createElement(d,{"data-test-id":"spinner",marginLeft:-l[t]/2,marginTop:-l[t]/2},i.a.createElement(s.a,{size:l[t]})))}}Object(r.a)(p,"displayName","CenteredSpinner"),Object(r.a)(p,"defaultProps",{size:"small"})},"0n68":function(e,t,n){"use strict";var r=n("5L5q"),a=n("OsbC"),o=a("%Function.prototype.apply%"),i=a("%Function.prototype.call%"),c=a("%Reflect.apply%",!0)||r.call(i,o);e.exports=function(){return c(r,i,arguments)},e.exports.apply=function(){return c(r,o,arguments)}},"23Qm":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ERkP"),a=n.n(r);class o extends a.a.PureComponent{constructor(){super(...arguments),this.state={MediaImage:o.MediaImage}}async componentDidMount(){if(!this.state.MediaImage)try{const[e,t]=await Promise.all([Promise.all([n.e(5),n.e(62),n.e("@atlaskit-media-client~4134d62c")]).then(n.bind(null,"kGyc")),n.e("@atlaskit-internal_media-image~4134d62c").then(n.bind(null,"PRFI"))]),r=e.withMediaClient(t.MediaImageInternal);o.MediaImage=r,this.setState({MediaImage:r})}catch(e){}}render(){const{MediaImage:e}=this.state;return e?a.a.createElement(e,Object.assign({},this.props)):null}}o.displayName="AsyncMediaImage"},"30eJ":function(e,t,n){"use strict";n.r(t),n.d(t,"FormContext",(function(){return l})),n.d(t,"IsDisabledContext",(function(){return u}));var r=n("ERkP"),a=n.n(r),o=n("bXdj"),i=n("hO4i"),c=n("DL3M"),s=n.n(c);const l=Object(r.createContext)((function(){return()=>{}})),u=Object(r.createContext)(!1);t.default=function(e){const t=Object(r.useRef)(null),n=Object(r.useRef)(e.onSubmit);n.current=e.onSubmit;const c=Object(r.useState)(()=>{const e=Object(o.a)({onSubmit:(...e)=>n.current(...e),destroyOnUnregister:!0,initialValues:{},mutators:{setDefaultValue:([e,t],n)=>{if(n.formState.initialValues){const r=n.formState.initialValues,a=n.formState.values,o=e&&"function"==typeof t?t(r[e]):t;s()(r,e,o),s()(a,e,o)}}}});return Object(i.a)(()=>t.current?Array.from(t.current.querySelectorAll("input")):[])(e),e})[0],[d,p]=Object(r.useState)({dirty:!1,submitting:!1});Object(r.useEffect)(()=>c.subscribe(({dirty:e,submitting:t})=>{p({dirty:e,submitting:t})},{dirty:!0,submitting:!0}),[c]);const f=Object(r.useCallback)((e,t,n,r,a)=>{c.pauseValidation();const o=c.registerField(e,n,r,a);return c.mutators.setDefaultValue(e,t),c.resumeValidation(),o},[c]),{isDisabled:m=!1,children:b}=e,{dirty:h,submitting:g}=d;return a.a.createElement(l.Provider,{value:f},a.a.createElement(u.Provider,{value:m},b({formProps:{onSubmit:e=>{e&&e.preventDefault(),c.submit()},ref:t,onKeyDown:e=>{if("Enter"===e.key&&(e.ctrlKey||e.metaKey)&&t.current){const n=t.current.querySelector('button:not([type]), button[type="submit"], input[type="submit"]');n&&n.click(),e.preventDefault()}}},dirty:h,reset:e=>{c.reset(e)},submitting:g,disabled:m,getValues:()=>c.getState().values,setFieldValue:c.change})))}},"37G6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("ERkP")),a=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return r.default.createElement(a.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.01 18c.546 0 .99-.444.99-1a1 1 0 0 0-.99-1H3.99A.993.993 0 0 0 3 17a1 1 0 0 0 .99 1h4.02zM3 7c0 .552.445 1 .993 1h16.014A.994.994 0 0 0 21 7c0-.552-.445-1-.993-1H3.993A.994.994 0 0 0 3 7zm10.998 6A.999.999 0 0 0 15 12c0-.552-.456-1-1.002-1H4.002A.999.999 0 0 0 3 12c0 .552.456 1 1.002 1h9.996z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};c.displayName="OverviewIcon";var s=c;t.default=s},"3ldI":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("Jygk"),a=n.n(r),o=n("M2LZ"),i=n("kC4U"),c=n("94Z3");function s(){let e=null;return function(){if(e)return Promise.resolve(e);const t=e=>e.json();return Object(i.a)("/wiki/plugins/macrobrowser/browse-macros.action?detailed=false&t=12").then(t,e=>{if(e instanceof c.a)return t(e.response);throw e}).then(({macros:t})=>(e=t,t))}}function l(){return new Promise(e=>{o.a.require(["wrc!fabric-editor-macro-browser","wr!com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-macro-browser","wr!com.atlassian.confluence.plugins.gadgets:macro-browser-for-gadgetsplugin","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:editor-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-macro-browser-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources","wrc!com.atlassian.confluence.extra.team-calendars:amd","wrc!com.atlassian.confluence.extra.team-calendars:user-timezone-setup","wrc!com.atlassian.confluence.extra.team-calendars:calendar-init-editor","wrc!com.atlassian.confluence.extra.team-calendars:macro-browser-web-resources"],()=>{const t=a.a.require("confluence-macro-browser/macro-browser");n.e("macro-browser-overrides~d16a5355").then(n.bind(null,"9S8K")).then(e=>{e.default()}).then(()=>{a.a.AJS.trigger("reset.rte"),e(t)})})})}},"48gJ":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},"4LHq":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="confluence.frontend.global-perms-view-user-profile"},"5L5q":function(e,t,n){"use strict";var r=n("8iDC");e.exports=Function.prototype.bind||r},"6v+B":function(e,t,n){"use strict";var r=n("ERkP"),a=n.n(r),o=n("KsTJ"),i=n("3IV/");const c=o.default.span`
  padding: 2px 5px;
  background-color: ${i.B50};
  border-radius: 3px 0 0 3px;
`,s=o.default.span`
  word-break: break-all;
  color: ${i.N800};
  font-weight: initial;
`,l=o.default.span`
  color: ${i.N70};
  padding: 2px 5px;
  background-color: ${i.B50};
  border-radius: 0 3px 3px 0;
  word-break: break-all;
`;class u extends r.PureComponent{render(){const{parameters:e}=this.props;return a.a.createElement("span",null,a.a.createElement(c,null,a.a.createElement(s,{"data-test-id":"variable-name"},e.name)),a.a.createElement(l,{"data-test-id":"variable-type"},"| "+e.type))}}var d=u,p=n("Czhu"),f=n("giew"),m=n("BLh+"),b=n("FyK+"),h=n("zJ/j"),g=n("PLaw"),y=n.n(g),v=n("OQ+j"),O=n("xLJ5"),E=n("Xxvd");const x=e=>{const{parameters:t,onChange:n,value:o,placeholder:i}=e,c=t.params&&t.params.options,s=Object(r.useMemo)(()=>c?(e=>e.map(e=>({label:e,value:e})))(c):[],[c]),l=Object(r.useMemo)(()=>(e=>t=>{e(t.value)})(n),[n]),u={option:e=>Object(p.a)(Object(p.a)({},e),{},{wordBreak:"break-word"})};return a.a.createElement(v.a,{options:s,placeholder:""+(o||i),onChange:l,target:({ref:e,isOpen:t})=>a.a.createElement(E.a,null,a.a.createElement(h.a,{ref:e,iconAfter:a.a.createElement(y.a,{label:"dropdown icon"}),isSelected:t},""+(o||i))),popperProps:{placement:"auto",modifiers:[{name:"preventOverflow",options:{boundary:"clippingParents"}}]},maxMenuHeight:200,maxMenuWidth:200,searchThreshold:10,styles:u,value:{label:o,value:o}||""})},j=e=>{const{parameters:t,onChange:n,value:r,placeholder:o}=e,i={placeholder:o};return a.a.createElement(m.a,Object(p.a)({onChange:n,value:r||"",minimumRows:t.params&&t.params.rows||1,resize:"vertical",cols:t.params&&t.params.columns||30},i))},w=e=>{const{onChange:t,value:n,inputName:r,placeholder:o}=e;return a.a.createElement(f.a,{name:r,onChange:t,value:n||"",placeholder:o,width:200,isCompact:!0})},C=e=>{const{parameters:t}=e;switch(t.type){case O.a:return a.a.createElement(x,Object(p.a)({},e));case O.b:return a.a.createElement(j,Object(p.a)({},e));default:return a.a.createElement(w,Object(p.a)({},e))}},I=e=>{const{parameters:t}=e,n="$"+t.name,r=""+(t.placeholder||t.name);return t.type===O.b?a.a.createElement(E.f,null,a.a.createElement("div",{style:{display:"inline-block",width:"100%"}},a.a.createElement(b.default,{name:n,defaultValue:""},({fieldProps:e})=>a.a.createElement(C,Object(p.a)(Object(p.a)({},e),{},{parameters:t,inputName:n,placeholder:r}))))):a.a.createElement(E.e,null,a.a.createElement("div",{style:{display:"inline-block",width:"100%",margin:"0px 0px"}},a.a.createElement(b.default,{name:n,defaultValue:""},({fieldProps:e})=>a.a.createElement(C,Object(p.a)(Object(p.a)({},e),{},{parameters:t,inputName:n,placeholder:r})))))};var P=n("dbjD");n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return A}));const k=e=>{if(!e)return null;const{extensionKey:t,parameters:n}=e;return t===P.c.TEMPLATE?a.a.createElement(d,{parameters:n}):null},A=e=>{if(!e)return null;const{extensionKey:t,parameters:n}=e;return t===P.c.TEMPLATE?a.a.createElement(I,{parameters:n}):null}},"6y+9":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("zjfJ");class a{constructor(e){Object(r.a)(this,"_toggleTaskCallback",void 0),this._toggleTaskCallback=e}notifyRecentUpdates(e){}subscribe(e,t){}toggleTask(e,t){return this._toggleTaskCallback&&this._toggleTaskCallback(e,t),Promise.resolve(t)}unsubscribe(e,t){}unsubscribeRecentUpdates(e){}}},"8ghD":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("Czhu");function a(e){return e.type.name||e.type}function o(e,t){return{type:a(e),attrs:Object(r.a)(Object(r.a)({},e.attrs),{},{parameters:Object(r.a)(Object(r.a)({},e.attrs.parameters),t)})}}function i(e,t){const n=[];return function e(t,n){for(const r of Object.keys(t)){const a=t[r];n(r,a),null!==a&&"object"==typeof a&&e(t[r],n)}}(e,(e,r)=>{r&&r.type===t&&n.push(r)}),n}},"8iDC":function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,i=a.call(arguments,1),c=function(){if(this instanceof n){var r=t.apply(this,i.concat(a.call(arguments)));return Object(r)===r?r:this}return t.apply(e,i.concat(a.call(arguments)))},s=Math.max(0,t.length-i.length),l=[],u=0;u<s;u++)l.push("$"+u);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},"9AQa":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("aWzz");var r=n("ERkP"),a=n.n(r),o=n("L21V"),i=n("0bsQ"),c=n("y/nW");class s extends r.PureComponent{render(){const{shouldPanelBeDisplayed:e,targetContentTitle:t}=this.props;return e?a.a.createElement("span",{style:c.a},a.a.createElement("span",{style:c.c},t||a.a.createElement(o.c,{id:"editor.excerpt.include.panel.title.loading"})),a.a.createElement("span",{style:c.b},a.a.createElement(i.a,{size:"medium",style:{minHeight:100}}))):a.a.createElement(i.a,{size:"medium",style:{minHeight:100}})}}},"9jV5":function(e,t,n){"use strict";var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("gwLK"),c=n("gQ5V"),s=n("8TdO"),l=n("+6Tk"),u=n("MUQl"),d=n("Q//X");function p({attributes:e,children:t=null,contentId:n,extensionKey:r,error:a,mode:o,name:i}){const c=Object(l.a)(d.b);return Object(u.a)(()=>{c&&Object(d.f)(o,n).fail({name:i,attributes:e,error:a})},[e,n,r,a,c,o,i]),t}var f=n("2hMr"),m=n("6z9Z"),b=n("hpu0"),h=n("23Qm"),g=n("CRB6"),y=n.n(g),v=n("a8dO"),O=n("KsTJ"),E=n("L21V");const x=O.default.div`
  display: inline;
`,j=o.a.forwardRef((e,t)=>o.a.createElement(x,Object(r.a)(Object(r.a)({},e),{},{innerRef:t}))),w=Object(E.g)({openLink:{id:"confluence-fabric-editor.inline-image.openLink",defaultMessage:"Open link in a new tab",description:"Tooltip message when user hover over inline image to alert them that they can open the link in a new tab"}});class C extends a.PureComponent{render(){const{width:e="auto",height:t="auto",id:n,collection:r,clientId:a,token:i,link:c,intl:s,baseUrl:l}=this.props,u={collectionName:r,width:Number(e)||void 0,height:Number(t)||void 0},d={authProvider:()=>Promise.resolve({clientId:a,token:i,baseUrl:l})};return o.a.createElement(h.a,{identifier:{collectionName:r,id:n,mediaItemType:"file"},mediaClientConfig:d,apiConfig:u},({loading:e,error:t,data:n})=>e?null:t||!n?o.a.createElement(v.a,{tag:"span",content:"Image has failed to load"},o.a.createElement(y.a,{primaryColor:"#97a0af",size:"xlarge",label:"Image has failed to load"})):o.a.createElement(v.a,{content:s.formatMessage(w.openLink),tag:j,delay:0},o.a.createElement("a",{href:c},o.a.createElement("img",{src:n.src}))))}}var I=Object(E.h)(C),P=n("H5qd");const k=n.n(P).a`query InlineImageQuery($contentId:ID){content(id:$contentId){nodes{id body{atlas_doc_format{mediaToken{token}}}}}mediaConfiguration{clientId fileStoreUrl}}`;n.d(t,"a",(function(){return A}));class A extends a.PureComponent{render(){const{contentId:e,mode:t,extensionKey:n,node:l,link:u}=this.props,h=Object(d.e)(l);return o.a.createElement(i.b,{client:Object(s.getApolloClient)()},o.a.createElement(m.a.Provider,{value:Object(b.b)()},o.a.createElement(c.b,{query:k,variables:{contentId:e}},({data:i,loading:c,error:s})=>{var m,b,g;if(c)return null;if(s||!i)return o.a.createElement(p,{name:Object(d.d)(t,l),contentId:e,extensionKey:n,mode:t,error:s||new Error(n+" failed to render. InlineImage query data is empty"),attributes:h});const y=(null!=(g=i)&&null!=(g=g.content)&&null!=(g=g.nodes)&&null!=(g=g[0])&&null!=(g=g.body)&&null!=(g=g.atlas_doc_format)&&null!=(g=g.mediaToken)?g.token:g)||null,v=(null!=(b=i)&&null!=(b=b.mediaConfiguration)?b.clientId:b)||null,O=(null!=(m=i)&&null!=(m=m.mediaConfiguration)?m.fileStoreUrl:m)||null;return o.a.createElement(a.Fragment,null,o.a.createElement(I,Object(r.a)(Object(r.a)({},this.props),{},{link:u,token:y,clientId:v,baseUrl:O})),o.a.createElement(f.a,{name:Object(d.d)(t,l),contentId:e,extensionKey:n,mode:t,attributes:h}))})))}}},"9lk5":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n("qrFu"),a=n("W1KW"),o=n("HC8e"),i=n("kC4U"),c=n("ztP5");let s;const l=()=>s||(s=new r.a({connectToDevTools:!1,link:new a.a({credentials:"include",uri:"/gateway/api/graphql",fetch:i.a}),cache:new o.a}),s),u=(e,t,n,r)=>({accountId:e,cloudId:t,contentId:n,spaceKey:r});function d({objectId:e,objectType:t,containerId:n,containerType:r}){return{objectId:e,objectType:t||void 0,containerId:n||void 0,containerType:r}}function p(e){return"localhost"===window.location.hostname?c.c.DEVELOPMENT:"STAGING"===e?c.c.STAGING:"PRODUCTION"===e?c.c.PRODUCTION:c.c.DEVELOPMENT}},"B/tD":function(e,t,n){"use strict";var r=n("zjfJ"),a=n("ERkP"),o=n.n(a),i=n("KsTJ"),c=n("L21V"),s=n("xsIe"),l=n("3IV/"),u=n("WEdt"),d=n("5ypJ"),p=n.n(d),f=n("PLaw"),m=n.n(f),b=n("gwLK"),h=n("gQ5V"),g=n("FdGg"),y=n("X2PC"),v=n("8TdO"),O=n("KIs4"),E=n("0bsQ"),x=n("Q//X"),j=n("XOH5"),w=n("2hMr"),C=n("6z9Z"),I=n("hpu0"),P=n("dIe6"),k=n("JpXc"),A=n("H5qd");const S=n.n(A).a`query ConvertStorageContentToADFMutation($cxhtml:String!$contentId:String!)@experimental{experimentalConvertStorageContentToADF(cxhtml:$cxhtml contentId:$contentId){value}}`;var R,$;n.d(t,"a",(function(){return z}));const T=i.default.div`
  ${Object(u.h400)()};
`,N=i.default.div`
  color: ${l.B400}
  font-weight: 500;
`,M=i.default.div`
  display: flex;
`,D=i.default.div``,F=i.default.div`
  background-color: ${l.N0};
  margin-top: 10px;
`,L=i.default.div`
  display: flex;
  flex: 0 1 auto;
`,U=i.default.div`
  display: flex;
  flex: 9 1 auto;
`,_=i.default.div`
  display: flex;
  flex: 0 1 auto;
`,V=i.default.div`
  width: 100%;
`,z=Object(c.h)(($=R=class extends a.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"state",{html:null,expanded:!1}),Object(r.a)(this,"expandHandler",()=>{this.setState({expanded:!this.state.expanded})}),Object(r.a)(this,"onClickLearnMore",()=>{window.open("https://support.atlassian.com/confluence-cloud/docs/convert-pages-to-the-new-editor/#Convertpagestotheneweditor-WhatACTUALLYhappenswhenyourcontentisconverted","_blank")})}render(){const{reason:e,cxhtml:t,contentId:n,mode:r,extensionKey:i,node:l}=this.props,{formatMessage:u}=this.props.intl,d=Object(x.e)(l),f=o.a.createElement(N,null,o.a.createElement(c.c,{defaultMessage:"This element has conversion issues",id:"confluence-fabric-editor.invalid.extension.component.unsupported.content",description:"The title inside Unsupported Content element notifying user that there is conversion issue with the page element"}));return o.a.createElement(b.b,{client:Object(v.getApolloClient)()},o.a.createElement(C.a.Provider,{value:Object(I.b)()},o.a.createElement(g.a,{attribution:y.a.CONTENT_EXPERIENCE},o.a.createElement(O.a,null,({featureFlags:b})=>b["confluence.frontend.support.unsupported.fabric.migration"]?o.a.createElement(h.b,{query:S,variables:{cxhtml:t,contentId:n}},({data:t,loading:b,error:h})=>{var g;if(h)return o.a.createElement(a.Fragment,null,o.a.createElement(j.a,{name:Object(x.d)(r,l),contentId:n,mode:r,error:h,attributes:d}),o.a.createElement(P.a,{error:h}));const y=(e=>{if(e)try{return JSON.parse(e)}catch(h){console.error(h)}return null})(null!=(g=t)&&null!=(g=g.experimentalConvertStorageContentToADF)?g.value:g);return o.a.createElement(a.Fragment,null,o.a.createElement(V,null,o.a.createElement(s.a,{appearance:"warning"},o.a.createElement(M,{onClick:this.expandHandler,className:"header-container"},o.a.createElement(L,null,this.state.expanded?o.a.createElement(m.a,{label:u({id:"confluence-fabric-editor.invalid.extension.component.expand.down.icon",defaultMessage:"Collapse"})}):o.a.createElement(p.a,{label:u({id:"confluence-fabric-editor.invalid.extension.component.expand.up.icon",defaultMessage:"Expand",description:"The tooltip message when hover over expand icon in Unsupported Content"})})),o.a.createElement(U,{onClick:this.expandHandler},f),o.a.createElement(_,{onClick:this.onClickLearnMore},o.a.createElement("a",{style:{cursor:"pointer"}},o.a.createElement(c.c,{defaultMessage:"Learn More",id:"confluence-fabric-editor.invalid.extension.component.unsupported.content.learn.more",description:"The Learn More anchor link that direct user to another page telling them what happen when convert page"})))),this.state.expanded?o.a.createElement(D,null,e?o.a.createElement(T,{className:"reason-message"},o.a.createElement("span",null,e)):o.a.createElement(T,null,o.a.createElement(T,null,o.a.createElement(c.c,{defaultMessage:"You won't lose any content when the page is converted, but it'll look like this since this combination can't be edited in the new editor.",id:"confluence-fabric-editor.invalid.extension.component.unsupported.combination.cannot.be.edited.in.new.editor",description:"The message inside Unsupported Content element notifying user that user won't lose any content when the page is converted and content combination can't be edited in the new editor"}))),!y||b?o.a.createElement(E.a,{size:"medium"}):o.a.createElement(F,null,o.a.createElement(k.a,{allowDynamicTextSizing:!0,appearance:"full-width",adf:y,objectId:n||"",ignoreHeadingAnchorLinksFeatureFlag:!0}))):null)),o.a.createElement(w.a,{attributes:d,contentId:n,extensionKey:i,mode:r,name:Object(x.d)(r,l)}))}):null))))}},Object(r.a)(R,"defaultProps",{cxhtml:""}),$))},BGTi:function(e,t,n){"use strict";n("HbGN"),n("cxan"),n("fGyu"),n("pkwY");var r=n("9fIP"),a=n("MMYH"),o=n("K/z8"),i=n("sRHE"),c=n("8K1b"),s=n("pWxA"),l=n("zjfJ"),u=n("ERkP"),d=n.n(u),p=n("lSUb"),f=n("l1C2"),m=(n("7nmT"),n("aWzz"),n("4wDe"),n("fjh6")),b=(n("5IAQ"),n("KD1n"),n("jynR"),n("8CuW")),h=n("zEpV"),g=(u.Component,Object(b.a)(m.a));t.a=g},"BLh+":function(e,t,n){"use strict";var r=n("HbGN"),a=n("ERkP"),o=n.n(a),i=n("z3D9"),c=n("nvpc"),s=n("u6In"),l=n("EFzz"),u=n("KsTJ"),d=n("BMbf");const p=Object(d.h)(),f=2.5*p,m=2*p,b=({isCompact:e})=>e?m:f,h=({isCompact:e})=>e?2:6,g=p,y=u.css`
  color: ${e=>e.placeholderTextColor};
`,v=u.default.div`
  flex: 1 1 100%;
  position: relative;
  background-color: ${e=>{let t=e.isFocused?e.backgroundColorFocus:e.backgroundColor;return e.isDisabled&&(t=e.isFocused?e.disabledRules.backgroundColorFocus:e.disabledRules.backgroundColor),e.isInvalid&&(t=e.isFocused?e.invalidRules.backgroundColorFocus:e.invalidRules.backgroundColor),t}};
  border-color: ${e=>{let t=e.isFocused?e.borderColorFocus:e.borderColor;return e.isDisabled&&(t=e.isFocused?e.disabledRules.borderColorFocus:e.disabledRules.borderColor),e.isInvalid&&(t=e.isFocused?e.invalidRules.borderColorFocus:e.invalidRules.borderColor),t}};
  border-radius: ${"3px"};
  border-style: ${e=>"none"===e.appearance?"none;":"solid;"};
  box-sizing: border-box;
  overflow: auto;
  transition: background-color ${"0.2s"} ease-in-out,
    border-color ${"0.2s"} ease-in-out;
  word-wrap: break-word;
  ${()=>u.css`
    border-width: ${2}px;
    padding: ${h}px ${g-2}px;
  `}
  ${e=>{if(e.isReadOnly||e.isFocused||e.none)return null;let t=e.backgroundColorHover;return e.isDisabled&&(t=e.disabledRules.backgroundColorHover),e.isInvalid&&(t=e.invalidRules.backgroundColorHover),u.css`
    &:hover {
      background-color: ${t};
    }
  `}}
  ${e=>e.isDisabled&&"cursor: not-allowed;"}
  font-size: ${d.f}px;
  max-height: ${e=>e.maxHeight};
  max-width: 100%;
  ${({resize:e})=>"auto"===e?"resize: auto;":"horizontal"===e?"resize: horizontal;":"vertical"===e?"resize: vertical;":"resize: none;"}
  & > textarea {
    display:block;
    resize: none;
    background: transparent;
    margin: 0;
    border: 0;
    box-sizing: border-box;
    color: ${({isDisabled:e,textColor:t,disabledRules:n})=>e?n.textColor:t};
    ${({isDisabled:e})=>e?"pointer-events: none;":null}
    cursor: inherit;
    font-family: ${e=>e.isMonospaced?Object(d.d)():Object(d.e)()};
    font-size: inherit;
    line-height: ${({isCompact:e})=>b({isCompact:e})/Object(d.f)()};
    min-width: 0;
    outline: none;
    overflow: auto;
    max-width: 100%;
    width: 100%;
    padding: 0;
    ${O=y,u.css`
  &::placeholder {
    ${O}
  }
`};
    ${({minimumRows:e=1,isCompact:t})=>`min-height: ${b({isCompact:t})*e}px;`}

    &[disabled] {
      ${"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n"};
    }
    &::-ms-clear {
      display: none;
    }

    &:invalid {
      box-shadow: none;
    }
  }
`;var O,E=n("HJ22"),x=n("m0CL");class j extends o.a.Component{constructor(){super(...arguments),this.textareaElement=null,this.state={height:"100%"},this.getTextAreaRef=e=>{this.textareaElement=e;const{forwardedRef:t}=this.props;t&&"object"==typeof t&&(t.current=e),t&&"function"==typeof t&&t(e)},this.handleOnChange=e=>{const{onChange:t}=this.props;"smart"===this.props.resize&&this.setState({height:"auto"},()=>{"smart"===this.props.resize&&this.textareaElement&&this.setState({height:this.textareaElement.scrollHeight+"px"})}),t&&t(e)}}componentDidMount(){"smart"===this.props.resize&&this.textareaElement&&this.setState({height:this.textareaElement.scrollHeight+"px"})}render(){const e=this.props,{resize:t,forwardedRef:n}=e,a=Object(r.a)(e,["resize","forwardedRef"]),{height:i}=this.state;return"smart"===t?o.a.createElement("textarea",Object.assign({ref:this.getTextAreaRef,style:{height:i}},a,{onChange:this.handleOnChange})):o.a.createElement("textarea",Object.assign({ref:this.getTextAreaRef,style:{height:"100%"}},a))}}class w extends o.a.Component{constructor(){super(...arguments),this.state={isFocused:!1},this.handleOnBlur=e=>{const{onBlur:t}=this.props;this.setState({isFocused:!1}),t&&t(e)},this.handleOnFocus=e=>{const{onFocus:t}=this.props;this.setState({isFocused:!0}),t&&t(e)}}render(){const e=this.props,{createAnalyticsEvent:t,appearance:n,resize:a,isCompact:i,isDisabled:c,isInvalid:s,isReadOnly:u,isMonospaced:d,isRequired:p,minimumRows:f,maxHeight:m,theme:b,forwardedRef:h,testId:g}=e,y=Object(r.a)(e,["createAnalyticsEvent","appearance","resize","isCompact","isDisabled","isInvalid","isReadOnly","isMonospaced","isRequired","minimumRows","maxHeight","theme","forwardedRef","testId"]),{isFocused:O}=this.state;return o.a.createElement(l.a.Consumer,null,({mode:e})=>o.a.createElement(E.a.Provider,{value:b},o.a.createElement(E.a.Consumer,{appearance:n,mode:e},e=>o.a.createElement(v,Object.assign({resize:a,maxHeight:m,appearance:n,isCompact:i,isDisabled:c,isReadOnly:u,isMonospaced:d,isFocused:O,isInvalid:s,minimumRows:f},e),o.a.createElement(j,Object.assign({forwardedRef:h,resize:a,disabled:c,readOnly:u,required:p},y,{onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,"data-testid":g}))))))}}w.defaultProps={resize:"smart",appearance:"standard",isCompact:!1,isRequired:!1,isReadOnly:!1,isDisabled:!1,isInvalid:!1,isMonospaced:!1,minimumRows:1,maxHeight:"50vh",forwardedRef:()=>{}};const C=o.a.forwardRef((e,t)=>o.a.createElement(w,Object.assign({forwardedRef:t},e))),I=Object(i.a)("atlaskit");t.a=Object(c.a)({componentName:"textArea",packageName:x.a,packageVersion:x.b})(Object(s.a)({onBlur:I({action:"blurred",actionSubject:"textArea",attributes:{componentName:"textArea",packageName:x.a,packageVersion:x.b}}),onFocus:I({action:"focused",actionSubject:"textArea",attributes:{componentName:"textArea",packageName:x.a,packageVersion:x.b}})})(C))},Bud6:function(e,t,n){"use strict";n.d(t,"l",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"z",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"p",(function(){return m})),n.d(t,"t",(function(){return b})),n.d(t,"w",(function(){return h})),n.d(t,"A",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"E",(function(){return v})),n.d(t,"D",(function(){return O})),n.d(t,"n",(function(){return E})),n.d(t,"C",(function(){return x})),n.d(t,"B",(function(){return j})),n.d(t,"G",(function(){return w})),n.d(t,"F",(function(){return C})),n.d(t,"k",(function(){return I})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return k})),n.d(t,"v",(function(){return A})),n.d(t,"y",(function(){return S})),n.d(t,"h",(function(){return R})),n.d(t,"I",(function(){return $})),n.d(t,"J",(function(){return T})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return D})),n.d(t,"u",(function(){return F})),n.d(t,"x",(function(){return L})),n.d(t,"d",(function(){return U})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return V})),n.d(t,"H",(function(){return z}));var r=n("ROYt"),a=n("yS9+"),o=n("yLtY"),i=n("2M9l");Object(a.b)(i.H);const c=Object(a.b)(i.D),s=Object(a.b)(i.a),l=Object(a.b)(i.b),u=Object(a.b)(i.c),d=Object(a.b)(i.I),p=Object(a.b)(i.q),f=Object(a.b)(i.u),m=Object(a.b)(i.t),b=Object(a.b)(i.E),h=Object(a.b)(i.p),g=Object(a.b)(i.w),y=Object(a.b)(i.n),v=Object(a.b)(i.J),O=Object(a.b)(i.z),E=Object(a.b)(i.o),x=Object(a.b)(i.y),j=Object(a.b)(i.x),w=Object(a.b)(i.A+"_SUCCESS"),C=Object(a.c)(i.A,r.a.contentProperties.updateContentProperty),I=Object(a.c)(i.e,r.a.content.editorPage,{schema:o.a.content}),P=Object(a.c)(i.h,r.a.content.publishEditorPage,{schema:o.a.content}),k=Object(a.c)(i.f,r.a.content.publishEditorPageFromTemplate,{schema:o.a.content}),A=(Object(a.c)(i.g,r.a.content.renderContent),Object(a.c)(i.k,r.a.content.syncEditorDraft)),S=Object(a.b)(i.G),R=Object(a.c)(i.d,r.a.content.getBreadcrumbs),$=Object(a.c)(i.B,r.a.content.updateInlineTask),T=Object(a.c)(i.C,r.a.content.updateParentPage,{schema:o.a.content}),N=Object(a.c)(i.j,r.a.content.deleteContent),M=Object(a.c)(i.l,r.a.content.relationSourcesForTarget),D=Object(a.c)(i.m,r.a.content.relationSourcesForTarget),F=Object(a.c)(i.v,r.a.content.revertContent),L=Object(a.b)(i.F),U=Object(a.c)(i.i,r.a.content.createPage,{schema:o.a.content}),_=Object(a.c)(i.r,r.a.content.editorPage,{schema:o.a.content}),V=Object(a.c)(i.s,r.a.content.draftMetadata,{schema:o.a.content}),z=Object(a.b)(i.K)},CmXO:function(e,t,n){"use strict";var r=n("zT+L").supportsDescriptors,a=n("IlOi"),o=Object.getOwnPropertyDescriptor,i=Object.defineProperty,c=TypeError,s=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!s)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=a(),t=s(l),n=o(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},Cwwk:function(e,t,n){"use strict";var r=n("+6Tk"),a=n("4LHq"),o=n("Czhu"),i=n("1U1M"),c=n("b/OQ");const s=e=>e&&e.globalOperations&&e.globalOperations.length>0?e.globalOperations:[];n.d(t,"a",(function(){return l}));const l=()=>{if(!Object(r.a)(a.a))return!0;const{data:e,error:t}=(()=>{const{loading:e,data:t,error:n}=Object(i.d)(c.a,{errorPolicy:"all",fetchPolicy:"cache-first"});if(n)return{data:[],error:n};const r={data:[],error:null};return e?r:Object(o.a)(Object(o.a)({},r),{},{data:s(t)})})();return!!t||!!(e&&e.length>0&&e.some(e=>e&&"read"===e.operation&&"userProfile"===e.targetType))}},DL3M:function(e,t,n){var r=n("y4bl");e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},DSvr:function(e,t){e.exports=function(e,t){t=t||{};var n,r,a,o=e.ownerDocument||e,i=[],c=[],s=function(e){var t=[];return function(n){if(n===e.documentElement)return!1;var r=e.defaultView.getComputedStyle(n);return!!function n(r,a){if(r===e.documentElement)return!1;for(var o=0,i=t.length;o<i;o++)if(t[o][0]===r)return t[o][1];var c=!1;return"none"===(a=a||e.defaultView.getComputedStyle(r)).display?c=!0:r.parentNode&&(c=n(r.parentNode)),t.push([r,c]),c}(n,r)||"hidden"===r.visibility}}(o),l=["input","select","a[href]","textarea","button","[tabindex]"],u=e.querySelectorAll(l.join(","));if(t.includeContainer){var d=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;l.some((function(t){return d.call(e,t)}))&&(u=Array.prototype.slice.apply(u)).unshift(e)}for(var p=0,f=u.length;p<f;p++)n=u[p],r=parseInt(n.getAttribute("tabindex"),10),(a=isNaN(r)?n.tabIndex:r)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||s(n,o)||(0===a?i.push(n):c.push({index:p,tabIndex:a,node:n}));var m=c.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node}));return Array.prototype.push.apply(m,i),m}},EWug:function(e,t,n){"use strict";var r=n("yiKp");function a(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(a,Error),a.buildMessage=function(e,t){const n={literal:e=>`"${a(e.text)}"`,class(e){let t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?`${o(e.parts[t][0])}-${o(e.parts[t][1])}`:o(e.parts[t]);return`[${e.inverted?"^":""}${n}]`},any:e=>"any character",end:e=>"end of input",other:e=>e.description};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return`Expected ${function(e){let t,r,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(o=e[t],n[o.type](o));var o;if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return`${a[0]} or ${a[1]}`;default:return`${a.slice(0,-1).join(", ")}, or ${a[a.length-1]}`}}(e)} but ${function(e){return e?`"${a(e)}"`:"end of input"}(t)} found.`},e.exports={SyntaxError:a,parse:function(e,t){t=void 0!==t?t:{};let n,o={},i={aqlStatement:0},c=0,s=[function(e,t){return{clause:e,orderby:t}},function(e){return e},"order by",h("ORDER BY",!0),function(e,t){return[e,...t]},",",h(",",!1),function(e){return e},function(e,t){return{field:e,direction:t}},"asc",h("ASC",!0),"desc",h("DESC",!0),function(e,t){return{nodeType:"clause",clauses:[e,...t],type:"or"}},"or",h("OR",!0),function(e,t){return{nodeType:"clause",clauses:[e,...t],type:"and"}},"and",h("AND",!0),function(e,t){return{nodeType:"clause",clause:t,invert:!!e}},function(e){return r({nodeType:"expr"},e)},"not ",h("NOT ",!0),"!",h("!",!1),function(e,t,n){return{field:e,op:t,value:n}},function(e,t,n){return{field:e,op:t,value:n}},"<",h("<",!1),">",h(">",!1),"~",h("~",!1),"!~",h("!~",!1),"in",h("IN",!0),function(e){return e?"NOT IN":"IN"},"=",h("=",!1),"!=",h("!=",!1),function(e,t){return[e,...t]},function(e){return e},">=",h(">=",!1),"<=",h("<=",!1),function(e){return Number.parseFloat(e)},"(",h("(",!1),")",h(")",!1),function(e,t){return`${e}(${(t||[]).join(",")})`},function(e,t){return[e,...t]},function(e){return e},"'",h("'",!1),"\\",h("\\",!1),'"',h('"',!1),".",h(".",!1),/^[^']/,g(["'"],!0,!1),function(e){return e.join("")},/^[^"]/,g(['"'],!0,!1),/^[0-9]/,g([["0","9"]],!1,!1),/^[\\\-]/,g(["\\","-"],!1,!1),function(e,t){return[e,...t]},/^[a-zA-Z_]/,g([["a","z"],["A","Z"],"_"],!1,!1),/^[a-zA-Z_0-9]/,g([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),function(e,t){return e+t},/^[eE]/,g(["e","E"],!1,!1),/^[\-+]/,g(["-","+"],!1,!1),/^[\t ]/,g(["\t"," "],!1,!1)],l=[x('%;&/7#;!." &"/)$8": ""! )("\'#&\'#'),x('%;U/1#;"/($8":!"! )("\'#&\'#'),x('%3"""5(7#/K#;U/B$;$/9$$;#0#*;#&/)$8$:$$"! )($\'#(#\'#("\'#&\'#'),x("%2%\"\"6%7&/:#;V/1$;$/($8#:'#! )(#'#(\"'#&'#"),x("%;M/;#;U/2$;%/)$8#:(#\"\" )(#'#(\"'#&'#"),x('3)""5#7*.) &3+""5$7,'),x("%;(/9#$;'0#*;'&/)$8\":-\"\"! )(\"'#&'#"),x("%;U/I#3.\"\"5\"7//:$;U/1$;(/($8$:'$! )($'#(#'#(\"'#&'#"),x('%;+/9#$;)0#*;)&/)$8":0""! )("\'#&\'#'),x("%;U/I#31\"\"5#72/:$;U/1$;*/($8$:'$! )($'#(#'#(\"'#&'#"),x('%;,." &"/2#;+/)$8":3""! )("\'#&\'#'),x("%;J/L#;V/C$;&/:$;V/1$;K/($8%:'%!\")(%'#($'#(#'#(\"'#&'#./ &%;-/' 8!:4!! )"),x('35""5$76.) &27""6778'),x(";..5 &;/./ &;1.) &;0.# &;2"),x("%;M/N#;U/E$;6/<$;U/3$;5/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),x("%;M/N#;U/E$;7/<$;U/3$;9/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#.X &%;M/N#;U/E$;8/<$;U/3$;=/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),x("%;M/N#;U/E$;>/<$;U/3$;3/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),x("%;M/N#;U/E$;>/<$;U/3$;4/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),x("%;M/\\#2;\"\"6;7</M$;M/D$2=\"\"6=7>/5$;A/,$;@/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),x(';?.* &%;C/"!&,)'),x('%;C/"!&,).# &;B'),x(";M.# &;C"),x('2?""6?7@.) &2A""6A7B'),x('%;,." &"/7#3C""5"7D/($8":E"!!)("\'#&\'#'),x('2F""6F7G.) &2H""6H7I'),x(";C.# &;:"),x("%;J/]#;V/T$;</K$$;;0#*;;&/;$;V/2$;K/)$8&:J&\"#\")(&'#(%'#($'#(#'#(\"'#&'#"),x("%2%\"\"6%7&/A#$;U0#*;U&/1$;</($8#:K#! )(#'#(\"'#&'#"),x(";C.# &;="),x(";C./ &;M.) &;P.# &;?"),x('2L""6L7M.Y &2N""6N7O.M &2=""6=7>.A &2;""6;7<.5 &2F""6F7G.) &2H""6H7I'),x("%;T/' 8!:P!! )"),x("%;7/:#;U.\" &\"/,$;9/#$+#)(#'#(\"'#&'#.¹ &%;8/:#;U.\" &\"/,$;=/#$+#)(#'#(\"'#&'#. &%;6/:#;U.\" &\"/,$;5/#$+#)(#'#(\"'#&'#.k &%;>/:#;U.\" &\"/,$;4/#$+#)(#'#(\"'#&'#.D &%;>/:#;U.\" &\"/,$;3/#$+#)(#'#(\"'#&'#"),x("%;I/,#;M/#$+\")(\"'#&'#"),x(";P.# &;M"),x("%;M/p#;V/g$2Q\"\"6Q7R/X$;V/O$;D.\" &\"/A$;V/8$2S\"\"6S7T/)$8':U'\"&\")(''#(&'#(%'#($'#(#'#(\"'#&'#"),x('%;=/9#$;E0#*;E&/)$8":V""! )("\'#&\'#'),x("%2%\"\"6%7&/:#;V/1$;=/($8#:W#! )(#'#(\"'#&'#"),x('2X""6X7Y'),x('2Z""6Z7['),x('2\\""6\\7]'),x('2^""6^7_'),x('2Q""6Q7R'),x('2S""6S7T'),x("%;G/,#;F/#$+\")(\"'#&'#.O &%;G/,#;G/#$+\")(\"'#&'#.6 &%;G/,#;H/#$+\")(\"'#&'#"),x('%;F/g#$%;L/"!&,).) &4`""5!7a06*%;L/"!&,).) &4`""5!7a&/1$;F/($8#:b#!!)(#\'#("\'#&\'#. &%;H/g#$%;L/"!&,).) &4c""5!7d06*%;L/"!&,).) &4c""5!7d&/1$;H/($8#:b#!!)(#\'#("\'#&\'#./ &%;Q/\' 8!:b!! )'),x('4e""5!7f'),x('%4g""5!7h/"!&,)'),x("%%;N/t#;N/k$;N/b$;N/Y$;O/P$;N/G$;N/>$;O/5$;N/,$;N/#$+*)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#/\"!&,)"),x('%;R/_#$%;I/,#;R/#$+")("\'#&\'#06*%;I/,#;R/#$+")("\'#&\'#&/)$8":i""! )("\'#&\'#'),x('%4j""5!7k/L#%$4l""5!7m0)*4l""5!7m&/"!&,)/)$8":n""! )("\'#&\'#'),x('$4e""5!7f/,#0)*4e""5!7f&&&#'),x('%;S/#%2^""6^7_/?#$4e""5!7f0)*4e""5!7f&/#$+")("\'#&\'#." &"/^$%4o""5!7p/@#4q""5!7r." &"/,$;S/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.} &%2^""6^7_/g#;S/^$%4o""5!7p/@#4q""5!7r." &"/,$;S/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.# &;S'),x('$4s""5!7t/,#0)*4s""5!7t&&&#'),x('$4s""5!7t0)*4s""5!7t&')],u=0,d=0,p=[{line:1,column:1}],f=0,m=[],b=0;if("startRule"in t){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "${t.startRule}".`);c=i[t.startRule]}function h(e,t){return{type:"literal",text:e,ignoreCase:t}}function g(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function y(t){let n,r=p[t];if(r)return r;for(n=t-1;!p[n];)n--;for(r=p[n],r={line:r.line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return p[t]=r,r}function v(e,t){const n=y(e),r=y(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function O(e){u<f||(u>f&&(f=u,m=[]),m.push(e))}function E(e,t,n){return new a(a.buildMessage(e,t),e,t,n)}function x(e){let t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=e.charCodeAt(t)-32;return n}if(n=function t(n){let r,a,i=l[n],c=0,p=[],f=i.length,m=[],h=[];for(;;){for(;c<f;)switch(i[c]){case 0:h.push(s[i[c+1]]),c+=2;break;case 1:h.push(void 0),c++;break;case 2:h.push(null),c++;break;case 3:h.push(o),c++;break;case 4:h.push([]),c++;break;case 5:h.push(u),c++;break;case 6:h.pop(),c++;break;case 7:u=h.pop(),c++;break;case 8:h.length-=i[c+1],c+=2;break;case 9:h.splice(-2,1),c++;break;case 10:h[h.length-2].push(h.pop()),c++;break;case 11:h.push(h.splice(h.length-i[c+1],i[c+1])),c+=2;break;case 12:h.push(e.substring(h.pop(),u)),c++;break;case 13:m.push(f),p.push(c+3+i[c+1]+i[c+2]),h[h.length-1]?(f=c+3+i[c+1],c+=3):(f=c+3+i[c+1]+i[c+2],c+=3+i[c+1]);break;case 14:m.push(f),p.push(c+3+i[c+1]+i[c+2]),h[h.length-1]===o?(f=c+3+i[c+1],c+=3):(f=c+3+i[c+1]+i[c+2],c+=3+i[c+1]);break;case 15:m.push(f),p.push(c+3+i[c+1]+i[c+2]),h[h.length-1]!==o?(f=c+3+i[c+1],c+=3):(f=c+3+i[c+1]+i[c+2],c+=3+i[c+1]);break;case 16:h[h.length-1]!==o?(m.push(f),p.push(c),f=c+2+i[c+1],c+=2):c+=2+i[c+1];break;case 17:m.push(f),p.push(c+3+i[c+1]+i[c+2]),e.length>u?(f=c+3+i[c+1],c+=3):(f=c+3+i[c+1]+i[c+2],c+=3+i[c+1]);break;case 18:m.push(f),p.push(c+4+i[c+2]+i[c+3]),e.substr(u,s[i[c+1]].length)===s[i[c+1]]?(f=c+4+i[c+2],c+=4):(f=c+4+i[c+2]+i[c+3],c+=4+i[c+2]);break;case 19:m.push(f),p.push(c+4+i[c+2]+i[c+3]),e.substr(u,s[i[c+1]].length).toLowerCase()===s[i[c+1]]?(f=c+4+i[c+2],c+=4):(f=c+4+i[c+2]+i[c+3],c+=4+i[c+2]);break;case 20:m.push(f),p.push(c+4+i[c+2]+i[c+3]),s[i[c+1]].test(e.charAt(u))?(f=c+4+i[c+2],c+=4):(f=c+4+i[c+2]+i[c+3],c+=4+i[c+2]);break;case 21:h.push(e.substr(u,i[c+1])),u+=i[c+1],c+=2;break;case 22:h.push(s[i[c+1]]),u+=s[i[c+1]].length,c+=2;break;case 23:h.push(o),0===b&&O(s[i[c+1]]),c+=2;break;case 24:d=h[h.length-1-i[c+1]],c+=2;break;case 25:d=u,c++;break;case 26:for(r=i.slice(c+4,c+4+i[c+3]),a=0;a<i[c+3];a++)r[a]=h[h.length-1-r[a]];h.splice(h.length-i[c+2],i[c+2],s[i[c+1]].apply(null,r)),c+=4+i[c+3];break;case 27:h.push(t(i[c+1])),c+=2;break;case 28:b++,c++;break;case 29:b--,c++;break;default:throw new Error(`Invalid opcode: ${i[c]}.`)}if(!(m.length>0))break;f=m.pop(),c=p.pop()}return h[0]}(c),n!==o&&u===e.length)return n;throw n!==o&&u<e.length&&O({type:"end"}),E(m,f<e.length?e.charAt(f):null,f<e.length?v(f,f+1):v(f,f))}}},F3Ih:function(e,t,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=n("cTt9"),c=Object.prototype.propertyIsEnumerable,s=!c.call({toString:null},"toString"),l=c.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=i(e),c=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=l&&n;if(c&&e.length>0&&!a.call(e,0))for(var b=0;b<e.length;++b)p.push(String(b));if(r&&e.length>0)for(var h=0;h<e.length;++h)p.push(String(h));else for(var g in e)m&&"prototype"===g||!a.call(e,g)||p.push(String(g));if(s)for(var y=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(t){return!1}}(e),v=0;v<u.length;++v)y&&"constructor"===u[v]||!a.call(e,u[v])||p.push(u[v]);return p}}e.exports=r},FCVA:function(e,t,n){"use strict";var r=n("zjfJ"),a=n("ERkP"),o=n.n(a),i=n("Q//X"),c=n("XOH5");class s extends a.PureComponent{constructor(...e){super(...e),Object(r.a)(this,"stopMacroExperience",e=>{const{mode:t,node:n,contentId:r}=this.props,a=Object(i.e)(n);return o.a.createElement(c.a,{name:Object(i.d)(t,n),contentId:r,mode:t,error:e,attributes:a})})}render(){const{width:e,height:t,src:n}=this.props;return o.a.createElement("img",{style:{cursor:"move"},width:e,height:t,src:n,onError:this.stopMacroExperience,onLoad:this.stopMacroExperience})}}Object(r.a)(s,"defaultProps",{width:"auto",height:"auto"}),t.a=s},"FyK+":function(e,t,n){"use strict";n.r(t),n.d(t,"FieldId",(function(){return l}));var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("cYO7"),c=n("30eJ"),s=n("dai/");const l=o.a.createContext(void 0);function u(e){const t=Object(a.useRef)(e);return Object(a.useEffect)(()=>{t.current=e}),t}function d(e){const t=Object(a.useContext)(c.FormContext),n=Object(a.useContext)(c.IsDisabledContext)||e.isDisabled,d="function"==typeof e.defaultValue?e.defaultValue():e.defaultValue;const[p,f]=Object(a.useState)({fieldProps:{onChange:()=>{},onBlur:()=>{},onFocus:()=>{},value:d},error:void 0,valid:!1,meta:{dirty:!1,dirtySinceLastSubmit:!1,touched:!1,valid:!1,validating:!1,submitting:!1,submitFailed:!1,error:void 0,submitError:void 0}}),m=u(e),b=u(p),h=(g=m.current.defaultValue,y=e.defaultValue,g===y||"function"==typeof g&&"function"==typeof y||(Array.isArray(g)&&Array.isArray(y)||"object"==typeof g&&"object"==typeof y)&&JSON.stringify(g)===JSON.stringify(y));var g,y;Object(a.useEffect)(()=>{function e(e={}){return{dirty:e.dirty||!1,dirtySinceLastSubmit:e.dirtySinceLastSubmit||!1,touched:e.touched||!1,valid:e.valid||!1,submitting:e.submitting||!1,submitFailed:e.submitFailed||!1,error:e.error,submitError:e.submitError,validating:!!e.validating}}return t(m.current.name,m.current.defaultValue,t=>{const n=t.submitting?b.current.meta.dirtySinceLastSubmit:t.dirtySinceLastSubmit,r=t.submitting?b.current.meta.submitFailed:t.submitFailed,a=(n&&m.current.validate?void 0:t.submitError)||(t.touched||t.dirty)&&t.error,o=r?void 0===a:t.valid;function i(e,t){if(m.current.transform)return m.current.transform(e,t);if(n=e,!Boolean(n&&n.target))return e;{const{currentTarget:t}=e;if("checkbox"===t.type)return t.checked?t.value||!0:!!t.value&&void 0;if(t)return t.value}var n}f({fieldProps:{onChange:e=>{t.change(i(e,t.value))},onBlur:t.blur,onFocus:t.focus,value:t.value},error:a||void 0,valid:o||!1,meta:e(t)})},{dirty:!0,dirtySinceLastSubmit:!0,touched:!0,valid:!0,submitting:!0,submitFailed:!0,value:!0,error:!0,submitError:!0,validating:!0},{getValidator:()=>function(t,n,r){const a=m.current.validate;if(a&&r)return a(t,n,e(r))}})},[m,b,t,e.name,h]);const v=Object(a.useMemo)(()=>e.id?e.id:`${e.name}-${Object(i.b)({id:e.name})}`,[e.id,e.name]),O=Object(r.a)(Object(r.a)({},p.fieldProps),{},{name:e.name,isDisabled:n,isInvalid:Boolean(p.error),isRequired:Boolean(e.isRequired),"aria-invalid":p.error?"true":"false","aria-labelledby":`${v}-label ${v}-helper ${v}-valid ${v}-error`,id:v});return o.a.createElement(s.c,null,e.label&&o.a.createElement(s.a,{id:v+"-label",htmlFor:v},e.label,e.isRequired&&o.a.createElement(s.b,{"aria-hidden":"true"},"*")),o.a.createElement(l.Provider,{value:v},e.children({fieldProps:O,error:p.error,valid:p.valid,meta:p.meta})))}d.defaultProps={defaultValue:void 0,isDisabled:!1},t.default=d},GHF8:function(e,t,n){"use strict";var r=n("Czhu"),a=n("KIs4"),o=n("8TdO"),i=n("bQlP"),c=n("frZf"),s=n("MjPE"),l=n("pL3m");class u{constructor(e,t={}){this.nameCache=new Map,this.nameQueue=new Map,this.nameStartTime=new Map,this.processingQueue=new Map,this.debounce=0,this.processQueue=()=>{clearTimeout(this.debounce),this.debounce=0;const{queue:e,extraQueue:t}=this.splitQueueAtLimit();this.nameQueue=t,this.processingQueue=new Map([...this.processingQueue,...e]),this.client.lookupMentionNames(Array.from(e.keys())).then(t=>{t.forEach(t=>{const{id:n}=t;e.delete(n),this.resolveQueueItem(t)}),e.forEach((e,t)=>{this.resolveQueueItem({id:t,status:s.a.UNKNOWN})})}).catch(()=>{e.forEach((e,t)=>{this.resolveQueueItem({id:t,status:s.a.SERVICE_ERROR})})}),this.nameQueue.size>0&&this.scheduleProcessQueue()},this.client=e,this.fireHydrationEvent=Object(l.g)(t)}lookupName(e){const t=this.nameCache.get(e);return t?(this.fireAnalytics(!0,t),t):new Promise(t=>{const n=this.processingQueue.get(e);n&&this.processingQueue.set(e,[...n,t]);const r=this.nameQueue.get(e)||[];this.nameQueue.set(e,[...r,t]),0!==r.length||n||this.nameStartTime.set(e,Date.now()),this.scheduleProcessQueue(),this.isQueueAtLimit()&&this.processQueue()})}cacheName(e,t){this.nameCache.set(e,{id:e,name:t,status:s.a.OK})}scheduleProcessQueue(){this.debounce||(this.debounce=window.setTimeout(this.processQueue,u.waitForBatch))}isQueueAtLimit(){return this.nameQueue.size>=this.client.getLookupLimit()}splitQueueAtLimit(){const e=Array.from(this.nameQueue.entries()),t=this.client.getLookupLimit();return{queue:new Map(e.slice(0,t)),extraQueue:new Map(e.slice(t))}}resolveQueueItem(e){const{id:t}=e,n=this.processingQueue.get(t);n&&(this.processingQueue.delete(t),this.nameCache.set(t,e),n.forEach(t=>{try{t(e)}catch(n){}}),this.fireAnalytics(!1,e))}fireAnalytics(e,t){const{id:n}=t,r=t.status===s.a.OK?"completed":"failed",a=this.nameStartTime.get(n),o=a?Date.now()-a:0;this.nameStartTime.delete(n),this.fireHydrationEvent(r,n,e,o)}}u.waitForBatch=100;var d=n("mn6t"),p=n("kQ1B"),f=n("bR0+"),m=n("kVVw"),b=n("kC4U");class h{getLookupLimit(){return 100}lookupMentionNames(e){const t=e.reduce((e,t,n)=>`${e}${n>0?"&":""}accountId=${encodeURIComponent(t)}`,"");return Object(b.a)("/wiki/rest/api/user/bulk?"+t,{credentials:"same-origin"}).then(e=>e.json()).then(e=>e&&e.results&&e.results.length?e.results.map(e=>({id:e.accountId,name:e.displayName,status:s.a.OK})):[])}}n.d(t,"a",(function(){return y}));async function g(e,t,n,s){const l={url:"/gateway/api/mentions/"+e,productId:"micros-group/confluence",containerId:t||null,shouldHighlightMention:e=>e.id===n},p=await Object(a.b)(Object(o.getApolloClient)()),{featureFlags:b}=p,g=b["confluence.frontend.people.directory"]?c.a:"",y=Object(r.a)(Object(r.a)({},l),{},{url:"/gateway/api/teams/mentions",teamLinkResolver:e=>Object(f.c)(e,"fabric",c.a),teamHighlightEnabled:b[i.w],createTeamPath:g+"/people/search#createTeam"});return b[i.u]&&(l.mentionNameResolver=new u(new h,s)),b[i.x]?function(e,t){return new m.a("/gateway/api/v1/recommendations",e,t)}(l,y):new d.a(l,y)}async function y(e,t,n,r){var a,o,i;const c=(null!=(i=n)?i.spaceId:i)||null;if(!e)throw new Error("MentionResource cannot be configured without a cloud id");return{mentionResource:await g(e,c,t,r),presenceResource:new p.a({url:"/gateway/api/directory/graphql",cloudId:e,productId:"confluence"}),mentionServiceUrl:"/gateway/api/mentions/"+e,contextIdentifier:{containerId:c,objectId:(null!=(o=n)?o.contentId:o)||null,childObjectId:(null!=(a=n)?a.commentId:a)||null}}}},HJ22:function(e,t,n){"use strict";var r=n("8pvK"),a=n("3IV/");const o={light:a.N20,dark:a.DN20},i={light:a.R400,dark:a.R400},c={light:a.B100,dark:a.B75},s={light:a.N40,dark:a.DN40},l={light:a.N10,dark:a.DN10},u={light:a.N30,dark:a.DN30},d={light:a.N0,dark:a.DN10},p={light:a.N100,dark:a.DN200},f={light:a.N900,dark:a.DN600},m={light:a.N70,dark:a.DN90},b={light:"transparent",dark:"transparent"};n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return w}));const h={light:{backgroundColor:o.light,backgroundColorFocus:o.light,backgroundColorHover:o.light,borderColor:s.light,borderColorFocus:c.light,textColor:m.light},dark:{backgroundColor:o.dark,backgroundColorFocus:o.dark,backgroundColorHover:o.dark,borderColor:s.dark,borderColorFocus:c.dark,textColor:m.dark}},g={light:{borderColor:i.light,borderColorFocus:c.light,backgroundColor:l.light,backgroundColorFocus:d.light,backgroundColorHover:u.light},dark:{borderColor:i.dark,borderColorFocus:c.dark,backgroundColor:l.dark,backgroundColorFocus:d.dark,backgroundColorHover:u.dark}},y={standard:l,subtle:b,none:b},v={standard:d,subtle:d,none:b},O={standard:u,subtle:u,none:b},E={standard:s,subtle:b,none:b},x={standard:c,subtle:c,none:b},j={borderColor:E,borderColorFocus:x,backgroundColor:y,backgroundColorFocus:v,backgroundColorHover:O,disabledRules:h,invalidRules:g,textColor:f,placeholderTextColor:p},w=Object(r.a)(({appearance:e,mode:t})=>({borderColor:E[e][t],borderColorFocus:x[e][t],backgroundColorHover:O[e][t],backgroundColorFocus:v[e][t],backgroundColor:y[e][t],disabledRules:h[t],invalidRules:g[t],textColor:f[t],placeholderTextColor:p[t]}))},Hi6d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("ERkP")),a=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return r.default.createElement(a.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11 8.002v4.002c0 .28.116.53.301.712l2.47 2.47a1.003 1.003 0 0 0 1.414 0 1.003 1.003 0 0 0 0-1.415L13 11.586V8.004A1.009 1.009 0 0 0 13 8V6a1 1 0 0 0-2 0v2.002zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};c.displayName="RecentIcon";var s=c;t.default=s},IlOi:function(e,t,n){"use strict";var r=n("YZE+"),a=n("zT+L").supportsDescriptors,o=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!a)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},K9i4:function(e,t,n){"use strict";var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("L21V"),c=n("i4Pk"),s=n("xpeE"),l=n("bs5R"),u=n.n(l);const d=n("KsTJ").default.div`
  display: block;
  background-color: #f4f5f7;
  border-radius: 5;
  width: 100%;
  box-sizing: border-box;

  padding: 8px;
  margin-top: 8px;
  margin-bottom: 8px;
`;var p=({children:e})=>o.a.createElement(d,null,o.a.createElement(u.a,{size:"medium"}),o.a.createElement("span",{style:{paddingLeft:6,verticalAlign:"text-bottom"}},e));n.d(t,"a",(function(){return h}));const f=o.a.createContext([]),m=e=>{const{_referencedContentId:t}=e.parameters.macroParams;return t?t.value:void 0},b=Object(i.g)({missingPage:{id:"page-include-extension-handler.missingPage",defaultMessage:"The included page is no longer available. It might have been deleted."},infiniteLoop:{id:"page-include-extension-handler.infiniteLoop",defaultMessage:"The page being included has already been included. You cannot infinitely nest pages."}});class h extends a.Component{render(){const e=m(this.props.node);if(!e)return o.a.createElement(p,null,o.a.createElement(i.c,Object(r.a)({},b.missingPage)));const{spaceKey:t,showTemplateVariablesInPreview:n,showTemplateInputInPreview:a}=this.props;return o.a.createElement(f.Consumer,null,l=>{if(l.some(t=>"include"===t.extensionKey&&m(t)===e))return o.a.createElement(p,null,o.a.createElement(i.c,Object(r.a)({},b.infiniteLoop)));const u=[...l,this.props.node],d=Object(s.a)({contentId:e,showTemplateVariablesInPreview:n,showTemplateInputInPreview:a,spaceKey:t,parentMacros:u});return o.a.createElement(f.Provider,{value:u},o.a.createElement(c.a,{spaceKey:this.props.spaceKey,contentId:e,extensionHandlers:d,appearance:"full-width",allowDynamicTextSizing:!1}))})}}},KuFb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7+Q0");const a={[r.b.DEFAULT]:"full-page",[r.b.FULL_WIDTH]:"full-width"},o=e=>{const t=a[e];return t||i()},i=()=>a[r.b.DEFAULT]},Licu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("H5qd"),a=n.n(r),o=n("j+hl");const i=a.a`query ContentRendererQuery($contentId:ID$status:[String]){content(id:$contentId status:$status){nodes{id body{atlas_doc_format{value}}space{id key}type ...contentAppearancePublishedFragment}}}${o.b}`},M2LZ:function(e,t,n){"use strict";var r=n("S2j0");var a={require:(e,t)=>new Promise(n=>{Object(r.a)(e,e=>{n(e),t&&t(e)},()=>{0})})},o=n("zjfJ"),i=n("Czhu"),c=n("ERkP"),s=n.n(c);var l=function(e,t){const n=Object(i.a)({isBlocking:!0},t);return t=>{class a extends c.Component{constructor(...e){super(...e),Object(o.a)(this,"state",{dependenciesLoaded:!1}),Object(o.a)(this,"markAsLoaded",()=>{this.mounted&&this.setState({dependenciesLoaded:!0})})}componentDidMount(){this.mounted=!0,e&&e.length>0?Object(r.a)(e,this.markAsLoaded,()=>{0}):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?s.a.createElement(t,Object(i.a)(Object(i.a)({},this.props),{},{wrmDependenciesLoaded:e})):null}}return a.displayName=`WRMComponent(${t.displayName||t.name})`,a}};n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}))},MA4i:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ERkP"),a=n.n(r),o=n("RfuI"),i=n("RluF");const c=Object(o.a)({id:"MsMdX",name:"DetailsSummary",loader:async()=>{const{DetailsSummary:e}=await Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("extension-handler-detailssummary~b59ad437")]).then(n.bind(null,"2Cio"));return e},loading:()=>a.a.createElement(i.a,null)})},"OQ+j":function(e,t,n){"use strict";var r=n("HbGN"),a=n("Czhu"),o=n("ERkP"),i=n.n(o),c=n("7nmT"),s=n("BGTi"),l=n("XaRy"),u=n.n(l),d=n("ewQW"),p=n("NI0Q"),f=n("RLdS"),m=n("bNPp"),b=n.n(m),h=n("nChe"),g=n.n(h),y=n("3IV/"),v=n("l1C2"),O=n("6+Wb"),E=n("BMbf"),x=n("S/wU"),j=n.n(x);const w=e=>{let{maxWidth:t,minWidth:n}=e,a=Object(r.a)(e,["maxWidth","minWidth"]);return Object(v.f)("div",Object.assign({css:{backgroundColor:"white",borderRadius:4,boxShadow:`0 0 0 1px ${y.N40A}, 0 4px 11px ${y.N40A}`,maxWidth:t,minWidth:n,zIndex:E.i.modal()}},a))},C=e=>Object(v.f)("div",{css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},Object(v.f)(O.z.Control,Object.assign({},e))),I={Control:e=>{let{innerRef:t,innerProps:n}=e,a=Object(r.a)(e,["innerRef","innerProps"]);return Object(v.f)("div",{ref:t,css:{padding:"8px 8px 4px"}},Object(v.f)(O.z.Control,Object.assign({},a,{innerProps:n})))},DropdownIndicator:()=>Object(v.f)("div",{css:{marginRight:2,textAlign:"center",width:32}},Object(v.f)(j.a,{label:"open"})),Menu:e=>{let{children:t,innerProps:n}=e;Object(r.a)(e,["children","innerProps"]);return Object(v.f)("div",Object.assign({},n),t)}};n.d(t,"a",(function(){return A}));const P={groupHeading:e=>Object(a.a)(Object(a.a)({},e),{},{color:y.N80})},k={modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",enabled:!0,options:{padding:5,boundary:"clippingParents",altAxis:!0,altBoundary:!0}}],placement:"bottom-start"};class A extends o.PureComponent{constructor(){super(...arguments),this.focusTrap=null,this.menuRef=null,this.selectRef=null,this.targetRef=null,this.state={isOpen:!1,mergedComponents:I,mergedPopperProps:k},this.handleKeyDown=e=>{switch(e.key){case"Escape":case"Esc":this.close()}this.props.handleKeyDown&&this.props.handleKeyDown(e)},this.handleClick=({target:e})=>{const{isOpen:t}=this.state;e instanceof Element&&(t&&this.menuRef&&!this.menuRef.contains(e)&&this.close(),!t&&this.targetRef&&this.targetRef.contains(e)&&this.open())},this.handleSelectChange=(e,t)=>{const{closeMenuOnSelect:n,onChange:r}=this.props;n&&"clear"!==t.action&&this.close(),r&&r(e,t)},this.open=()=>{const{onOpen:e}=this.props;e&&e(),this.setState({isOpen:!0},this.initialiseFocusTrap),this.selectRef&&this.selectRef.select.openMenu("first"),"undefined"!=typeof window&&window.addEventListener("keydown",this.handleKeyDown,!0)},this.initialiseFocusTrap=()=>{if(!this.menuRef)return;const e={clickOutsideDeactivates:!0,escapeDeactivates:!0,fallbackFocus:this.menuRef,returnFocusOnDeactivate:!0};this.focusTrap=u()(this.menuRef,e),setTimeout(()=>this.focusTrap.activate(),1)},this.close=()=>{const{onClose:e}=this.props;e&&e(),this.setState({isOpen:!1}),this.focusTrap&&this.focusTrap.deactivate(),"undefined"!=typeof window&&window.removeEventListener("keydown",this.handleKeyDown,!0)},this.resolveTargetRef=e=>t=>{!this.targetRef&&e&&t&&(this.targetRef=t,"function"==typeof e?e(t):e.current=t)},this.resolveMenuRef=e=>t=>{this.menuRef=t,"function"==typeof e?e(t):e.current=t},this.getSelectRef=e=>{this.selectRef=e},this.getItemCount=()=>{const{options:e}=this.props;let t=0;return e.forEach(e=>{e.options?e.options.forEach(()=>t++):t++}),t},this.getMaxHeight=()=>{const{maxMenuHeight:e}=this.props;if(!this.selectRef)return e;const t=this.showSearchControl(),{controlRef:n}=this.selectRef.select;return e-(t?n.offsetHeight:0)},this.showSearchControl=()=>{const{searchThreshold:e}=this.props;return this.getItemCount()>e},this.renderSelect=()=>{const e=this.props,{footer:t,maxMenuWidth:n,minMenuWidth:o,target:l}=e,u=Object(r.a)(e,["footer","maxMenuWidth","minMenuWidth","target"]),{isOpen:p,mergedComponents:f,mergedPopperProps:m}=this.state,h=this.showSearchControl(),g=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?document.body:null,y=Object(a.a)(Object(a.a)({},f),{},{Control:h?f.Control:C});if(!g||!p)return null;const v=i.a.createElement(d.a,Object.assign({},m),({placement:e,ref:r,style:c})=>i.a.createElement(b.a,{innerRef:this.resolveMenuRef(r)},i.a.createElement(w,{style:c,"data-placement":e,minWidth:o,maxWidth:n},i.a.createElement(s.a,Object.assign({backspaceRemovesValue:!1,controlShouldRenderValue:!1,isClearable:!1,tabSelectsValue:!1,menuIsOpen:!0,ref:this.getSelectRef},u,{isSearchable:h,styles:Object(a.a)(Object(a.a)({},P),u.styles),maxMenuHeight:this.getMaxHeight(),components:y,onChange:this.handleSelectChange})),t)));return"fixed"===m.strategy?v:Object(c.createPortal)(v,g)}}static getDerivedStateFromProps(e,t){const n={},r=Object(a.a)(Object(a.a)({},k),e.popperProps);g()(r,t.mergedPopperProps)||(n.mergedPopperProps=r);const o=Object(a.a)(Object(a.a)({},I),e.components);return g()(o,t.mergedComponents)||(n.mergedComponents=o),i=n,0!==Object.keys(i).length?n:null;var i}componentDidMount(){"undefined"!=typeof window&&window.addEventListener("click",this.handleClick,!0)}componentWillUnmount(){"undefined"!=typeof window&&(window.removeEventListener("click",this.handleClick,!0),window.removeEventListener("keydown",this.handleKeyDown,!0))}render(){const{target:e}=this.props,{isOpen:t}=this.state;return i.a.createElement(p.a,null,i.a.createElement(f.a,null,({ref:n})=>e&&e({ref:this.resolveTargetRef(n),isOpen:t})),this.renderSelect())}}A.defaultProps={closeMenuOnSelect:!0,components:{},maxMenuHeight:300,maxMenuWidth:440,minMenuWidth:220,popperProps:{},searchThreshold:5,styles:{},options:[]}},OsbC:function(e,t,n){"use strict";var r=TypeError,a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(g){a=null}var o=function(){throw new r},i=a?function(){try{return o}catch(e){try{return a(arguments,"callee").get}catch(t){return o}}}():o,c=n("V+Bs")(),s=Object.getPrototypeOf||function(e){return e.__proto__},l=void 0,u="undefined"==typeof Uint8Array?void 0:s(Uint8Array),d={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":c?s([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":l&&c&&Symbol.asyncIterator?l[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?s(s([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?s((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?s((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":c?s(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":c?Symbol:void 0,"%SymbolPrototype%":c?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":i,"%TypedArray%":u,"%TypedArrayPrototype%":u?u.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},p=n("5L5q").call(Function.call,String.prototype.replace),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m=/\\(\\)?/g,b=function(e){var t=[];return p(e,f,(function(e,n,r,a){t[t.length]=r?p(a,m,"$1"):n||e})),t},h=function(e,t){if(!(e in d))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===d[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return d[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=b(e),o=h("%"+(n.length>0?n[0]:"")+"%",t),i=1;i<n.length;i+=1)if(null!=o)if(a&&i+1>=n.length){var c=a(o,n[i]);if(!t&&!(n[i]in o))throw new r("base intrinsic for "+e+" exists, but the property is not available.");o=c?c.get||c.value:o[n[i]]}else o=o[n[i]];return o}},PLaw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("ERkP")),a=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return r.default.createElement(a.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};c.displayName="ChevronDownIcon";var s=c;t.default=s},"R6B+":function(e,t,n){"use strict";var r=n("zT+L"),a=n("0n68"),o=n("YZE+"),i=n("IlOi"),c=n("CmXO"),s=a(o);r(s,{getPolyfill:i,implementation:o,shim:c}),e.exports=s},RLdS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ERkP"),a=n("lEaq"),o=n.n(a),i=n("NI0Q"),c=n("3eOh");function s(e){var t=e.children,n=e.innerRef,a=r.useContext(i.c),s=r.useCallback((function(e){Object(c.c)(n,e),Object(c.b)(a,e)}),[n,a]);return r.useEffect((function(){return function(){return Object(c.c)(n,null)}})),r.useEffect((function(){o()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),Object(c.d)(t)({ref:s})}},RluF:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ERkP"),a=n.n(r),o=n("L21V"),i=n("3IV/");const c=()=>a.a.createElement("div",{style:{padding:"7px 10px",borderBottom:"1px solid "+i.N40,backgroundColor:i.N20,color:i.N100}},a.a.createElement(o.c,{id:"fabric-extension-handlers.detailssummary.fetching.data",defaultMessage:"Generating page properties report...",description:"Page Properties Report macro message to display during loading"}))},Ru70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("u5XY");class a{constructor(e,t){this.manifestsPromise=Promise.resolve(e),this.autoConvertHandlers=t}getExtensions(){return this.manifestsPromise}async getExtension(e,t){const n=(await this.manifestsPromise).find(n=>n.type===e&&n.key===t);if(!n)throw new Error(`Extension with type "${e}" and key "${t}" not found!`);return n}async search(e){return(await this.manifestsPromise).filter(t=>t.title.toLowerCase().includes(e.toLowerCase()))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return Object(r.a)(await this.manifestsPromise)}}},S1px:function(e,t,n){"use strict";var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("rDc3"),c=n("RfuI"),s=n("9AQa"),l=Object(c.a)({id:"JnrlN",name:"packages/confluence-extension-handlers/src/extension-handler-excerpt-include/ExcerptIncludeLoader.js",loader:()=>Promise.all([n.e(130),n.e("extension-handler-excerpt-include~32919085")]).then(n.bind(null,"6aCe")),loading:s.a});n.d(t,"a",(function(){return u}));class u extends a.Component{render(){var e,t;const{contentId:n,node:a,mode:c,showTemplateVariablesInPreview:s,showTemplateInputInPreview:u}=this.props,d={mode:c,contentId:n,macroNode:a,shouldPanelBeDisplayed:"true"!==(null!=(t=a)&&null!=(t=t.parameters)&&null!=(t=t.macroParams)&&null!=(t=t.nopanel)?t.value:t),targetContentTitle:null!=(e=a)&&null!=(e=e.parameters)&&null!=(e=e.macroParams)&&null!=(e=e[""])?e.value:e,macroId:Object(i.a)(this.props)};return s&&(d.showTemplateVariablesInPreview=s),u&&(d.showTemplateInputInPreview=u),o.a.createElement(l,Object(r.a)({},d))}}},"T+3T":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("GHF8");const a=new(n("Cvqa").b)({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5});function o(e,t){return Promise.resolve({cloudId:e,resourceClient:a,getActions:t})}function i(e,t,n,a){return Object(r.a)(e,t,n,a)}},TdpR:function(e,t,n){"use strict";var r=n("ERkP"),a=n.n(r),o=n("RfuI");const i=()=>null;n.d(t,"a",(function(){return c}));const c=Object(o.a)({id:"FdNSJ",name:"RedactedPlaceholderLoadable",loader:async()=>{const{RedactedPlaceholder:e}=await n.e("external-share-redacted-placeholder~b59ad437").then(n.bind(null,"hahF"));return e},loading:()=>a.a.createElement(i,null)})},Tl5U:function(e,t,n){"use strict";var r=n("Czhu"),a=n("ROYt"),o=n("8TdO"),i=n("KIs4"),c=n("dbjD"),s=n("2nhj"),l=n("3ldI"),u=n("Jygk"),d=n.n(u);async function p(e){const t={macroDefinition:{name:"jira"},contentId:e},n=await k(t);return e=>function(e,t){const n={source:e},r=d.a.require("confluence/jim/editor-plugins/jira-paste-link").pasteHandler(n,null,()=>{});if(!r||!r.params)return null;const a=JSON.parse(JSON.stringify(t));return a.attrs.parameters||(a.attrs.parameters={}),a.attrs.parameters.macroParams=Object(s.e)(r.params),a}(e,n)}const f=e=>{for(;-1!==e.indexOf("{}{}");)e=e.replace("{}{}","{}");return e="^"+(e=((e,t,n)=>n.replace(new RegExp(e,"g"),t))("{}","[^/]*?",e=e.replace(/[\-\[\]\/\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")))+"$"};async function m(e,t){const n=[],r=await e(),a=new Set;r.forEach(e=>{(e=>e.autoconvertData&&e.autoconvertData.urlParameter&&e.autoconvertData.patterns)(e)&&e.autoconvertData.patterns.forEach(t=>{if((e=>["http://","https://","http://{}","https://{}","http://{}.{}","https://{}.{}","http://{}.{}.{}","https://{}.{}.{}"].every(t=>t!==e))(t)){const r={macroName:e.macroName,urlParameter:e.autoconvertData.urlParameter,matcher:f(t)};a.add(r.macroName),n.push(r)}})});const o=await(async(e,t)=>(await Promise.all(Array.from(e).map(e=>k({macroDefinition:{name:e},contentId:t})))).reduce((e,t)=>(e[t.attrs.extensionKey]=t,e),{}))(a,t);return e=>((e,t,n)=>{const r=t.find(t=>!!e.match(t.matcher));if(r){const{macroName:t,urlParameter:a}=r,o={};o[a]=e;const i=n[t],c=JSON.parse(JSON.stringify(i));return c.attrs.text=`${a} = ${e}`,c.attrs.extensionKey=t,c.attrs.parameters||(c.attrs.parameters={}),c.attrs.parameters.macroParams=Object(s.e)(o),c}return null})(e,n,o)}const b=()=>null;var h=n("Z1IT");n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"h",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return I})),n.d(t,"e",(function(){return P})),n.d(t,"a",(function(){return k}));const g=Object(l.a)(),y=["toc","expand","jira","trello-board","status","jiraroadmap"],v={type:"extension",content:c.b},O=async()=>{const[e,{featureFlags:t}]=await Promise.all([g(),Object(i.b)(Object(o.getApolloClient)())]);return e.filter(e=>{if(e.hidden)return!1;let n={};return t["confluence.frontend.fabric.editor.bring-anchor-back"]||(n.anchor=!0),t["confluence.frontend.fabric.editor.native.expands.insert"]&&(n.expand=!0),0===Object.keys(n).length?!Object(h.b)(e):!Object(h.b)(e,n)})};function E(){return O().then(e=>e.filter(e=>y.includes(e.macroName)))}function x(e){return(async(e,t)=>{const{contentId:n}=t;if(!n)return b;const[r,a]=await Promise.all([p(n),m(e,n)]);return e=>r(e)||a(e)})(O,e)}function j(e,t){const n=e.macroName;return e.anyParameterRequired||"children"===n||"tasks-report-macro"===n?P(e,t):k({macroDefinition:{name:n,body:"",params:{}},contentId:t.contentId})}async function w(e,t,n,r,a){const c=await Object(h.a)(e);let s;return{autoClose:!1,onComplete:async l=>{s=!0,e.UI.showBrowserSpinner(!0);const u=n&&n.hasOwnProperty("content")?n:null,d=function(e,t,n){const{name:r,body:a,params:o,defaultParameterValue:i,schemaVersion:c}=e;return{macroDefinition:{name:r||"",body:a||"",params:o,defaultParameterValue:i||"",schemaVersion:c},contentId:t.contentId,selectedMacro:n}}(l,t,u);try{const t=await async function(e){if("jiraroadmap"===e.macroDefinition.name){let n=!1,r=!1;try{const[{featureFlags:e}]=await Promise.all([Object(i.b)(Object(o.getApolloClient)())]);n=Boolean(e["confluence.frontend.fabric.editor.smartcards.embed"]),r=String(e["confluence.frontend.fabric.editor.smartcards.macro-override"]).split(",").indexOf("jiraroadmap")>-1}catch(t){}if(n&&r)return function(e){return{type:"embedCard",attrs:{url:e.macroDefinition.params&&e.macroDefinition.params.url,layout:"wide"}}}(e)}}(d)||await k(d);r(t),e.close(),c()}catch(p){a(p)}},onCancel:()=>{c(),s||a({reason:"cancel"})}}}function C(e,t){return new Promise(async(n,a)=>{const o=await Object(l.b)();t&&(o.metadataList=o.metadataList.filter(t));const i=await w(o,e,null,n,a);try{o.open(Object(r.a)(Object(r.a)({},i),{},{selectedMacro:null}))}catch(c){a(c)}})}function I(e,t,n){return new Promise(async(a,o)=>{const i=await Object(s.b)(e||v),c=await Object(l.b)();n&&(c.metadataList=c.metadataList.filter(n));const u=await w(c,t,e,a,o);try{c.open(Object(r.a)(Object(r.a)({},u),{},{selectedMacro:i}))}catch(d){o(d)}})}function P(e,t,n){return new Promise(async(a,o)=>{const i=await Object(l.b)();n&&(i.metadataList=i.metadataList.filter(n));const c=await w(i,t,e,a,o);try{i.open(Object(r.a)(Object(r.a)({},c),{},{presetMacroMetadata:e}))}catch(s){o(s)}})}const k=async e=>{const{macroDefinition:t,contentId:n,selectedMacro:o}=e,i=await a.a.content.getMacroPlaceholderADF(t,n),l=Object(r.a)({},i);return l.type===c.a&&(o?l.content=o.content:l.content&&0!==l.content.length||(l.content=c.b)),Object(s.c)(l)}},UV1p:function(e,t,n){"use strict";var r,a,o,i=n("V+Bs")()&&"symbol"==typeof Symbol.toStringTag;if(i){r=Function.call.bind(RegExp.prototype.exec),a={};var c=function(){throw a};o={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=c)}var s=Object.prototype.toString;e.exports=i?function(e){if(!e||"object"!=typeof e)return!1;try{r(e,o)}catch(t){return t===a}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===s.call(e)}},"V+Bs":function(e,t,n){"use strict";(function(t){var r=t.Symbol,a=n("48gJ");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&a())))}}).call(this,n("fRV1"))},XaRy:function(e,t,n){var r=n("DSvr"),a=null;function o(e){e&&e.focus&&e!==document.activeElement&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}e.exports=function(e,t){var n=[],i=null,c=null,s=null,l=!1,u=!1,d=null,p="string"==typeof e?document.querySelector(e):e,f=t||{};f.returnFocusOnDeactivate=!t||void 0===t.returnFocusOnDeactivate||t.returnFocusOnDeactivate,f.escapeDeactivates=!t||void 0===t.escapeDeactivates||t.escapeDeactivates;var m={activate:function(e){if(l)return;var t={onActivate:e&&void 0!==e.onActivate?e.onActivate:f.onActivate};l=!0,u=!1,s=document.activeElement,t.onActivate&&t.onActivate();return h(),m},deactivate:b,pause:function(){if(u||!l)return;u=!0,g()},unpause:function(){if(!u||!l)return;u=!1,h()}};return m;function b(e){if(l){var t={returnFocus:e&&void 0!==e.returnFocus?e.returnFocus:f.returnFocusOnDeactivate,onDeactivate:e&&void 0!==e.onDeactivate?e.onDeactivate:f.onDeactivate};return g(),t.onDeactivate&&t.onDeactivate(),t.returnFocus&&setTimeout((function(){o(s)}),0),l=!1,u=!1,this}}function h(){if(l)return a&&a.pause(),a=m,j(),setTimeout((function(){o(function(){var e;e=null!==y("initialFocus")?y("initialFocus"):p.contains(document.activeElement)?document.activeElement:n[0]||y("fallbackFocus");if(!e)throw new Error("You can't have a focus-trap without at least one focusable element");return e}())}),0),document.addEventListener("focus",E,!0),document.addEventListener("click",O,!0),document.addEventListener("mousedown",v,!0),document.addEventListener("touchstart",v,!0),document.addEventListener("keydown",x,!0),m}function g(){if(l&&a===m)return document.removeEventListener("focus",E,!0),document.removeEventListener("click",O,!0),document.removeEventListener("mousedown",v,!0),document.removeEventListener("touchstart",v,!0),document.removeEventListener("keydown",x,!0),a=null,m}function y(e){var t=f[e],n=t;if(!t)return null;if("string"==typeof t&&!(n=document.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(n=t()))throw new Error("`"+e+"` did not return a node");return n}function v(e){f.clickOutsideDeactivates&&!p.contains(e.target)&&b({returnFocus:!1})}function O(e){f.clickOutsideDeactivates||p.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function E(e){p.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),"function"==typeof e.target.blur&&e.target.blur(),d&&function(e){if(e.shiftKey)return o(c);o(i)}(d))}function x(e){"Tab"!==e.key&&9!==e.keyCode||function(e){if(j(),e.target.hasAttribute("tabindex")&&Number(e.target.getAttribute("tabindex"))<0)return d=e;e.preventDefault();var t=n.indexOf(e.target);if(e.shiftKey)return e.target===i||-1===n.indexOf(e.target)?o(c):o(n[t-1]);if(e.target===c)return o(i);o(n[t+1])}(e),!1!==f.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&b()}function j(){n=r(p),i=n[0],c=n[n.length-1]}}},Xxvd:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("KsTJ");const a=r.default.div`
  overflow: scroll;
  height: calc(100vh - 100px);
`,o=r.default.div`
  max-width: 680px;
  display: flex;
  box-sizing: content-box;
  margin: 0 auto;
  justify-content: flex-end;
  transition: box-shadow 200ms ease 0s;
  height: 80px;
`,i=r.default.header`
  padding: 0 32px;
  max-width: 680px;
  display: block;
  box-sizing: content-box;
  margin: 0 auto;
`,c=r.default.div`
  height: calc(100vh - 24px);
  overflow: hidden;
`,s=r.default.div`
  overflow: scroll;
  height: calc(100vh - 100px);
`,l=r.default.div`
  transition: box-shadow 200ms ease 0s;
  box-shadow: ${e=>e.isBottomStyled?"inset rgb(235, 236, 240) 0px 2px 0px 0px":"inset rgb(255, 255, 255) 0px 2px 0px 0px"};
`,u=r.default.span`
  display: inline-block;
  max-width: 100%;
  white-space: initial;
`,d=r.default.span`
  display: inline-block;
  max-width: 100%;
  position: relative;
  vertical-align: top;
`,p=r.default.span`
  & span {
    position: unset;
  }
`},"YZE+":function(e,t,n){"use strict";var r=Object,a=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},Z1IT:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("8TdO"),a=n("KIs4");const o={align:!0,bgcolor:!0,center:!0,cheese:!0,clickable:!0,code:!0,colgroup:!0,column:!0,"content-by-user":!0,copyright:!0,"create-space-button":!0,div:!0,"fancy-bullets":!0,favpages:!0,"gadget-b7a6531b1c147f2e175f1209bed5c0ad":!0,"global-reports":!0,highlight:!0,htmlcomment:!0,im:!0,img:!0,info:!0,junitreport:!0,li:!0,loremipsum:!0,lozenge:!0,multimedia:!0,navmap:!0,network:!0,noformat:!0,note:!0,ol:!0,p:!0,panel:!0,pre:!0,"privacy-policy":!0,"privacy-mark":!0,"recently-used-labels":!0,"reg-tm":!0,rollover:!0,roundrect:!0,search:!0,section:!0,sm:!0,"space-attachments":!0,"space-details":!0,span:!0,status:!0,strike:!0,style:!0,table:!0,tbody:!0,td:!0,th:!0,thead:!0,tr:!0,tip:!0,tm:!0,ul:!0,warning:!0};function i(e,t={}){const n=e.alternateId||(e.id?e.id.replace("macro-",""):e.macroName);return t.hasOwnProperty(n)?t[n]:Boolean(o[n])}async function c(e){const t=[...e.metadataList],{featureFlags:n}=await Object(a.b)(Object(r.getApolloClient)()),o=e.metadataList.filter(e=>{let t={};return n["confluence.frontend.fabric.editor.bring-anchor-back"]||(t.anchor=!0),n["confluence.frontend.fabric.editor.native.expands.insert"]&&(t.expand=!0),0===Object.keys(t).length?!i(e):!i(e,t)});return e.metadataList=o,function(){e.metadataList=t}}},bNPp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+AdF");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},"bR0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d}));var r=n("KIs4"),a=n("8TdO"),o=n("frZf");const i=(e,t,n="")=>e?`${n}/people/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`:"",c=async(e,t)=>{if(!e)return"";let n="";try{const{featureFlags:e}=await Object(r.b)(Object(a.getApolloClient)());n=e["confluence.frontend.people.directory"]?o.a:""}catch(i){}return`${n}/people/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`},s=(e,t,n="")=>e?`${n}/people/team/${e}?ref=confluence${t?"&src="+encodeURIComponent(t):""}`:"",l=e=>e.getAttribute("data-account-id"),u=e=>{const t={class:"className"},n={};return(e=>Array.from(e.attributes).map(e=>e.name))(e).forEach(r=>{n[t[r]||r]=e.getAttribute(r)}),n.dangerouslySetInnerHTML={__html:e.innerHTML},n};function d(e){return e.filter(l).map(e=>{const t=u(e);t["data-user-hover-bound"]="true",t.href=i(t["data-account-id"],null);const n=window.document.createElement("span");return e.parentNode?(e.parentNode.replaceChild(n,e),{props:t,placeholder:n}):{}})}},cTt9:function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},"dai/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n("KsTJ"),a=n("3IV/"),o=n("BMbf"),i=n("ZgvQ"),c=n("WEdt");const s=r.default.div`
  margin-top: ${o.h}px;
`,l=r.default.label`
  ${Object(c.h200)()} display: inline-block;
  font-family: ${Object(o.e)()};
  margin-bottom: ${Object(i.multiply)(o.h,.5)}px;
  margin-top: 0;
`,u=r.default.span`
  color: ${a.R400};
  font-family: ${Object(o.e)()};
  padding-left: ${Object(i.multiply)(o.h,.25)}px;
`;t.c=s},dbjD:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s}));const r="extension",a="inlineExtension",o="bodiedExtension",i=[{content:[],type:"paragraph"}],c={TEMPLATE:"com.atlassian.confluence.template",MACRO_CORE:"com.atlassian.confluence.macro.core",MIGRATION:"com.atlassian.confluence.migration"},s={TEMPLATE:"variable",INLINE_EXTERNAL_IMAGE:"inline-external-image",INLINE_MEDIA_IMAGE:"inline-media-image",PRIVACY_MARK:"privacy-mark",ANCHOR:"anchor",PANEL:"panel",SECTION:"section",CHEESE:"cheese",COLUMN:"column",CONTENT_BY_USER:"content-by-user",CREATE_SPACE_BUTTON:"create-space-button",FAVORITE_PAGES:"favpages",GLOBAL_REPORTS:"global-reports",IM_PRESENCE:"im",LOREMIPSUM:"loremipsum",NAVIGATION_MAP:"navmap",RECENTLY_USED_LABELS:"recently-used-labels",SEARCH:"search",SPACE_DETAILS:"space-details",INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__"}},eYkv:function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},ey2t:function(e,t,n){"use strict";var r=Array.prototype.slice,a=n("cTt9"),o=Object.keys,i=o?function(e){return o(e)}:n("F3Ih"),c=Object.keys;i.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return a(e)?c(r.call(e)):c(e)}):Object.keys=i;return Object.keys||i},e.exports=i},hoKw:function(e,t,n){"use strict";var r=Date.prototype.getDay,a=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===a.call(e))}},i4Pk:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("Czhu"),a=n("HbGN"),o=n("ERkP"),i=n.n(o),c=n("1U1M"),s=n("82Bo"),l=n("Licu"),u=n("3VMZ"),d=n("hpu0"),p=n("KuFb"),f=n("adTp"),m=n("xkEZ"),b=n("X2PC"),h=n("KIs4");const g=Object(o.memo)(e=>{var t;let{appearance:n,contentId:m,contentType:b,getEventHandlers:g}=e,y=Object(a.a)(e,["appearance","contentId","contentType","getEventHandlers"]);const[v,O]=Object(o.useState)(null),{data:E,error:x}=Object(c.d)(l.a,{variables:{contentId:m,status:"inlineComment"!==b?["current"]:["current","draft"]},fetchPolicy:"cache-and-network",context:{single:!0}}),j=Object(o.useCallback)((e,t)=>{let n=u.a.VIEW_INLINE_COMMENT_TOP_LEVEL;"inlineReply"===e&&(n=u.a.VIEW_INLINE_COMMENT_REPLY),Object(d.b)().fail({name:n,error:t})},[]);if(!m)return null;if(x)throw j(b,x),x;let w=null,C=n;const I=null!=(t=E)&&null!=(t=t.content)&&null!=(t=t.nodes)?t[0]:t;try{var P;!C&&I&&(C=Object(p.a)(Object(f.d)(I).appearance));const e=null!=(P=E)&&null!=(P=P.content)&&null!=(P=P.nodes)&&null!=(P=P[0])&&null!=(P=P.body)&&null!=(P=P.atlas_doc_format)?P.value:P;w=e?JSON.parse(e):null}catch(k){throw j(b,k),k}return i.a.createElement("div",{ref:O,"data-test-appearance":C},i.a.createElement(h.a,null,({featureFlags:e})=>i.a.createElement(s.a,Object(r.a)({appearance:C,contentId:m,document:w,eventHandlers:g&&g(),featureFlags:e,portalRef:v},y))))}),y=Object(m.a)({attribution:b.a.BACKBONE})(g)},kVKD:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("TU9K");function c(e){function t(t){const n=Object(a.useContext)(i.a);return o.a.createElement(e,Object(r.a)(Object(r.a)({},n),t))}return t.displayName=`withExternalShareContext(${e.displayName||e.name})`,t}},liuE:function(e,t,n){"use strict";var r=n("ERkP"),a=n.n(r),o=n("Czhu"),i=n("3IV/"),c=n("8pvK");const s={default:{light:i.N40,dark:i.N40},inprogress:{light:i.B50,dark:i.B50},moved:{light:i.Y75,dark:i.Y75},new:{light:i.P50,dark:i.P50},removed:{light:i.R50,dark:i.R50},success:{light:i.G50,dark:i.G50}},l={default:{light:i.N500,dark:i.N500},inprogress:{light:i.B500,dark:i.B500},moved:{light:i.N800,dark:i.N800},new:{light:i.P500,dark:i.P500},removed:{light:i.R500,dark:i.R500},success:{light:i.G500,dark:i.G500}},u={default:{light:i.N500,dark:i.N500},inprogress:{light:i.B400,dark:i.B400},moved:{light:i.Y500,dark:i.Y500},new:{light:i.P400,dark:i.P400},removed:{light:i.R400,dark:i.R400},success:{light:i.G400,dark:i.G400}},d={default:{light:i.N0,dark:i.N0},inprogress:{light:i.N0,dark:i.N0},moved:{light:i.N800,dark:i.N800},new:{light:i.N0,dark:i.N0},removed:{light:i.N0,dark:i.N0},success:{light:i.N0,dark:i.N0}},p=Object(c.a)(({appearance:e,isBold:t,maxWidth:n})=>Object(o.a)(Object(o.a)({},"object"==typeof e?Object(o.a)({backgroundColor:(t?u:s).default.light,textColor:(t?d:l).default.light},e):{backgroundColor:(t?u[e]:s[e]).light,textColor:(t?d[e]:l[e]).light}),{},{maxWidth:n}));var f=n("l1C2"),m=n("BMbf");const b=Object(m.c)()+"px";var h=({backgroundColor:e,textColor:t,children:n,testId:r})=>Object(f.f)("span",{css:{backgroundColor:e,borderRadius:b,boxSizing:"border-box",color:t,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":r},n);const g=Object(m.h)()/2+"px";var y=({maxWidth:e,children:t})=>Object(f.f)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+g,maxWidth:"number"==typeof e?e+"px":e,width:"100%"}},t);n.d(t,"a",(function(){return v}));class v extends r.PureComponent{render(){const{theme:e,children:t,testId:n}=this.props;return a.a.createElement(p.Provider,{value:e},a.a.createElement(p.Consumer,Object.assign({},this.props),e=>a.a.createElement(h,Object.assign({testId:n},e),a.a.createElement(y,Object.assign({},e),t))))}}v.defaultProps={isBold:!1,appearance:"default",maxWidth:200}},m0CL:function(e){e.exports=JSON.parse('{"a":"@atlaskit/textarea","b":"3.0.2"}')},mAAb:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const r={EDIT:"edit",VIEW:"view"},a={REACT:"react",BACKBONE:"backbone"},o={INVALID_SELECTION:"Invalid text selection. Cannot create inline comments on macros (mentions, images, emojis, etc.)",FAILED_TO_INSERT_MARK:"Failed to insert highlight, invalid originalSelection, numMatches, or matchIndex",INVALID_ARGUMENT_CREATED_FROM:"Invalid createdFrom, please specify if created from editor or renderer",INVALID_ARGUMENT_MATCHES:"Invalid arguments provided for matchIndex and/or numMatches",STALE_SELECTION:"Selection was made against a stale version of the content",COMMENT_NOT_FOUND:"Content with id %d for comment container is not found. Please provide correct container id.",PARENT_NOT_FOUND:"Parent comment with id %d is not found. Please provide correct parent comment id.",INCOMPATIBLE_PARENT_TYPE:"Incompatible parent type. Please provide comment id.",DELETE_ERROR:"Exception occurred while deleting comment with id",NO_DELETE_PERMS:"Parent page view is restricted",NO_UPDATE_PERMS:"Could not update Content of type : class com.atlassian.confluence.pages.Comment with id %d"}},nChe:function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var o=0;o<a;o++){var i=n[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}},"otm+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("+6Tk"),a=n("MUQl"),o=n("Q//X");function i({attributes:e,children:t=null,contentId:n,extensionKey:i,mode:c,name:s,timeout:l}){const u=Object(r.a)(o.b);return Object(a.a)(()=>{var t;u&&Object(o.f)(c,n).start({attributes:e,name:s,timeout:l,id:(null!=(t=e)?t.macroId:t)||n})},[e,n,i,u,c,s,l]),t}},pA55:function(e,t,n){"use strict";var r=n("ERkP"),a=n.n(r),o=n("/mAS"),i=n("37G6"),c=n.n(i),s=n("wbjG"),l=n.n(s),u=n("2wFc"),d=n("B7n+"),p=n.n(d);const f={small:24,medium:32,large:48},m=()=>a.a.createElement("svg",{viewBox:"0 0 80 80",focusable:"false",role:"presentation"},a.a.createElement("image",{overflow:"visible",width:"80",height:"80",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAM1BMVEX///+ZmZn4+PiysrK4uLifn5/r6+ulpaXFxcWsrKzl5eXMzMzf39/Y2Ni/v7/S0tLy8vLZxmmsAAABUklEQVR4Xu3WzW7cMAyF0XtJ/cue5P2ftoCkMQZoprIdLlJEZ+HlB4IL0bhvWZZl96TfYWZjU2AlslEYCaR3zpMBNmobTskP2FDSAa59TcRnUO2C6pzaBR0HBxvBs/EBRqSSZBXYIUnghwWV/6A/IZjNJzxEDlGfksFzaPggBg6fMMLB+sXOsKJs9L8NruAKiktyNijJCWZ2Msu54GcmN8xUkjnMg+O61nP78mEWHD3quSCjTIKtdyro2eRJUCIbjxl2aRJEYncy6OY7dJeCfHyxhogXD3aYS70oeBIOOEifr+IM6QPl8P6MhthHlmt3uB4jDwldvXqnHbtcjolfllji0T9LIgctQOXhAyjKIcu1n+AhK19oJnnnB3nn1AaYFndctBv3gN3zLb/hhhD5Rg64RRK/lAR3FeVfNOA7yoOv/KPgu2RLykbTJrAigt9kWZY/Gz4IYbhxkp0AAAAASUVORK5CYII="}));t.a=function({macro:e,size:t="small"}){const{icon:n,macroName:r,title:i}=e;switch(r){case"toc":return a.a.createElement(c.a,{label:i,size:t});case"jira":return a.a.createElement(o.a,{label:i,size:t});case"anchor":return a.a.createElement(p.a,{label:i,size:t,glyph:m})}if(!n)return a.a.createElement(l.a,{label:i,size:t});const s=Object(u.f)(n.location,!0),d=(e=>f[e])(t);return a.a.createElement("img",{src:s,width:d,height:d,alt:i})}},pWz0:function(e,t,n){"use strict";var r=n("rhcL"),a=n("GBQy"),o=n("mAAb"),i=n("L21V");const c=Object(i.g)({invalidHighlight:{id:"inline-comments.error.invalid.highlight",defaultMessage:"You’ve highlighted text that appears elsewhere on this page. Try highlighting more text to make your selection different from other instances on the page.",description:"A message informing the use their highight is invalid due to the content being duplicated elsewhere on the page and how to remedy it"},staleContent:{id:"inline-comments.error.stale.content",defaultMessage:"Refresh the page to see the latest updates, and try adding your comment again.",description:"A message informing the user that the content is old and needs to be refreshed"},viewNotPermitted:{id:"inline-comments.error.view.not.permitted",defaultMessage:"Your permission settings don’t allow you to view the comment. Check with your administrator if you need this ability.",description:"A message informing the user they don't have permissions to view comments"},createNotPermitted:{id:"inline-comments.error.create.not.permitted",defaultMessage:"Your permission settings don’t allow you to create comments. Check with your administrator if you need this ability.",description:"A message informing the user they don't have permissions to create comments"},deleteNotPermitted:{id:"inline-comments.error.delete.not.permitted",defaultMessage:"Your permission settings don’t allow you to view the comment. Check with your administrator if you need this ability.",description:"A message informing the user they don't have permissions to delete comments"},resolveNotPermitted:{id:"inline-comments.error.resolve.not.permitted",defaultMessage:"Your permission settings don’t allow you to resolve the comment. Check with your administrator if you need this ability.",description:"A message informing the user they don't have permissions to resolve comments"},editNotPermitted:{id:"inline-comments.error.edit.not.permitted",defaultMessage:"Your permission settings don’t allow you to edit the comment. Check with your administrator if you need this ability.",description:"A message informing the user they don't have permissions to edit comments"},unableToMarkDOM:{id:"inline-comments.error.unable.to.mark.dom",defaultMessage:"Your comment has been successfully created. Refresh the page to see it.",description:"A message to tell the user their comment is created, but the mark could not be added to the DOM"},unexpectedError:{id:"inline-comments.error.unexpected",defaultMessage:"Something went wrong when saving this comment. Close the comment or refresh the page, and try adding your comment again.",description:"A message explaining an unexpected error occurred"}});n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"f",(function(){return O})),n.d(t,"n",(function(){return x})),n.d(t,"l",(function(){return j})),n.d(t,"d",(function(){return w}));const s="inline-create-comment-selection",l="inline-highlight",u="active-highlight",d=e=>{const{message:t}=e;let n,r;if(-1!==t.indexOf("GraphQL error:")){const o=t.lastIndexOf(":")+1;r=t.substr(o,t.length-o).trim(),n=Object(a.b)(e)}else r=t;return{errorId:n,message:r}},p=(e,t="")=>{let n;switch(e){case o.a.INVALID_SELECTION:case o.a.FAILED_TO_INSERT_MARK:n=c.invalidHighlight;break;case o.a.STALE_SELECTION:n=c.staleContent;break;case o.a.NO_UPDATE_PERMS.replace("%d",t):n=c.editNotPermitted;break;case o.a.NO_DELETE_PERMS:n=c.deleteNotPermitted;break;case o.a.INVALID_ARGUMENT_CREATED_FROM:case o.a.INVALID_ARGUMENT_MATCHES:case o.a.COMMENT_NOT_FOUND.replace("%d",t):case o.a.PARENT_NOT_FOUND.replace("%d",t):case o.a.INCOMPATIBLE_PARENT_TYPE:case o.a.DELETE_ERROR:default:n=c.unexpectedError}return n},f=(e,t)=>{const n=Array.from(document.querySelectorAll(m(t))).map(e=>e.getAttribute(Object(r.d)(t)));return[...new Set(n)].filter(t=>e.includes(t))},m=e=>e?'[data-mark-annotation-type="inlineComment"]':".inline-comment-marker",b=()=>{document.querySelectorAll("."+u).forEach(e=>{e.classList.remove(u)})},h=e=>{let t=e,n=t.nextSibling;for(;!n;)n=t.parentElement.nextSibling,n||(t=t.parentElement);for(;n&&n.nodeType!==Node.TEXT_NODE;)n=n.firstChild;return n},g=()=>{const e=window.getSelection();if(!e||"None"===e.type)return;(e=>{const t=[],{startContainer:n,startOffset:r,endContainer:a,endOffset:o}=e;if(n.isSameNode(a))t.push(e);else{const e=new Range;e.setStart(n,r),e.setEnd(n,n.length),t.push(e);let i=h(n);for(;i&&!i.isSameNode(a);){if(i.length){const e=new Range;e.selectNodeContents(i),t.push(e)}i=h(i)}const c=new Range;c.setStart(a,0),c.setEnd(a,o),t.push(c)}return t})(e.getRangeAt(0)).forEach(e=>{const t=document.createElement("span");t.classList.add(s),t.appendChild(e.extractContents()),e.insertNode(t)}),e.removeAllRanges()},y=e=>{for(;e.length;){const t=e.shift();if(!t)return;const{parentNode:n}=t;for(;t.firstChild;)null==n||n.insertBefore(t.firstChild,t);null==n||n.removeChild(t),null==n||n.normalize()}},v=()=>{const e=Array.from(document.querySelectorAll("."+s));y(e)},O=(e,t)=>{const n=document.querySelectorAll("."+s);n.length&&n.forEach(n=>{e?(n.setAttribute(r.a,t),n.setAttribute("data-mark-annotation-type","inlineComment")):(n.setAttribute(r.b,t),n.classList.add("inline-comment-marker")),n.classList.add(l,u),n.classList.remove(s)})},E=e=>{e.classList.contains(l)&&e.classList.add(u);const{children:t}=e;for(let n=0;n<t.length;++n)E(t[n])},x=(e,t)=>{(document.querySelectorAll(`[${Object(r.d)(t)}="${e}"]`)||[]).forEach(e=>E(e))},j=(e,t)=>{const n=Array.from(document.querySelectorAll(`[${Object(r.d)(t)}="${e}"]`));y(n),b()},w=e=>{if(e){const t=e.getBoundingClientRect(),n=document.querySelector(".fabric-editor-popup-scroll-parent");let r=0;return n&&(r=n.scrollTop-n.offsetTop),t.top+r+e.offsetHeight+4}return 300}},qnX1:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.prototype.toString,o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===a.call(e)},i=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==a.call(e)&&"[object Function]"===a.call(e.callee)},c=function(){return o(arguments)}();o.isLegacyArguments=i,e.exports=c?o:i},rDc3:function(e,t,n){"use strict";function r(e){var t;return null!=(t=e)&&null!=(t=t.node)&&null!=(t=t.parameters)&&null!=(t=t.macroMetadata)&&null!=(t=t.macroId)?t.value:t}n.d(t,"a",(function(){return r}))},tKrt:function(e,t,n){"use strict";var r=n("Ru70"),a=n("kC4U"),o=n("Czhu"),i=n("ERkP"),c=n.n(i),s=n("L21V"),l=n("KsTJ"),u=n("BMbf"),d=n("3IV/"),p=n("pA55");const f=l.default.div`
  display: flex;
  flex-direction: column;
  line-height: 1.4;
`,m=l.default.span`
  font-size: 11.67px;
  color: ${d.N200};
  margin-top: 4px;
`,b=l.default.div`
  background: #fff;
  border-radius: ${Object(u.c)()}px;
  display: flex;
  align-items: center;
  padding: ${e=>e.isEditor?24:0}px;
`,h=l.default.div`
  background: ${d.N20};
  display: inline-flex;
  align-items: center;
  padding: 1px 0.24em 2px 0.24em;
  border-radius: 3px;
  font-size: 16px;

  p {
    ${m} {
      margin-left: 8px;
    }
  }
`,g=l.default.div`
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  overflow: hidden;
  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */
  border-radius: ${Object(u.c)()}px;
  box-sizing: border-box;
  background: #fff;

  display: flex;
  justify-content: center;
  align-items: center;

  margin-right: ${e=>e.width>32?16:4}px;

  div {
    width: ${e=>e.width}px;
    height: ${e=>e.height}px;
  }
`,y=e=>c.a.createElement(p.a,{macro:e}),v=({macro:e,description:t})=>c.a.createElement(h,null,c.a.createElement(g,{width:16,height:16},c.a.createElement(p.a,{macro:e,size:"small"})),c.a.createElement(f,null,c.a.createElement("p",null,e.title,t&&c.a.createElement(m,null,t)))),O=({macro:e,description:t,isEditor:n})=>c.a.createElement(b,{isEditor:n},c.a.createElement(g,{width:40,height:40},c.a.createElement(p.a,{macro:e,size:"medium"})),c.a.createElement(f,null,c.a.createElement("h4",null,e.title),t&&c.a.createElement(m,null,t))),E=c.a.createElement(s.c,{id:"confluence-fabric-editor.extension.placeholder.missing-config",description:"Message shown when a macro is inserted but can't be rendered due to missing configuration",defaultMessage:"Edit to setup"});var x=n("Tl5U");const j=e=>e.alternateId||e.macroName,w=e=>{const{bodyType:t,outputType:n}=e.formDetails.body;return"NONE"!==t?"bodiedExtension":"INLINE"===n?"inlineExtension":"extension"},C=e=>({48:()=>Promise.resolve(()=>y(e))}),I=(e,t)=>Object(x.a)({macroDefinition:Object(o.a)({name,body:"",params:{}},e),contentId:t}),P=e=>{switch(e.macroName){case"jira":case"jirachart":case"jiraroadmap":case"portfolioforjiraplan":case"roadmap":case"gliffy":case"excerpt-include":return!0;default:return!1}};let k;!function(e){e.int="number",e.percentage="string",e.url="string",e.cql="dynamic-fieldset",e.relativedate="string",e.group="string",e.color="string"}(k||(k={}));const A={label:{type:"custom",label:"Label",isMultiple:!0,isRequired:!0,options:{resolver:{type:"label"}}},text:{type:"string",op:"~",label:"Including text"},contributor:{type:"custom",label:"Contributor",isMultiple:!0,options:{resolver:{type:"username"}}},creator:{type:"custom",label:"Creator",isMultiple:!0,options:{resolver:{type:"username"}}},mention:{type:"custom",label:"Mentioning",isMultiple:!0,options:{resolver:{type:"username"}}},parent:{type:"custom",label:"With parent",options:{resolver:{type:"confluence-content"}}},ancestor:{type:"custom",label:"With ancestor",isMultiple:!0,options:{resolver:{type:"confluence-content"}}},space:{type:"custom",label:"In space",isMultiple:!0,options:{resolver:{type:"spacekey"}}},created:{type:"string",op:">=",label:"Created after",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},lastmodified:{type:"string",op:"<=",label:"Last modified",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},title:{type:"string",op:"~",label:"With title"},type:{type:"enum",label:"Of type",isMultiple:!1,style:"select",items:[{value:"page",label:"Page"},{value:"blog",label:"Blog"},{value:"comment",label:"Comment"},{value:"attachment",label:"Attachment"}]}},S=(e,t,n,r,a)=>{const{pluginKey:o,macroName:i}=r;return e===[o,i,"param",n.name,a].join(".")?t:e},R=(e,t)=>{const n=$(e.type.name),r=((e,t)=>{const{displayName:n,name:r,description:a}=e;return{label:S(n,r,e,t,"label"),name:e.name||"defaultParameterValue",defaultValue:e.defaultValue,description:S(a,"",e,t,"desc"),isMultiple:!!e.multiple,isRequired:!!e.required,isHidden:!!e.hidden}})(e,t);if("custom"===n){return Object(o.a)(Object(o.a)({},r),{},{type:"custom",options:{resolver:{type:e.type.name}}})}if("cql"===e.type.name){let n=S(e.displayName,e.name,e,t,"label");"cql"===n&&(n="CQL");return{label:n,name:e.name||"defaultParameterValue",fields:Object.keys(A).map(e=>Object(o.a)({name:e},A[e])),type:"fieldset",options:{isDynamic:!0,transformer:{type:e.type.name}}}}if("enum"===n){return Object(o.a)(Object(o.a)({},r),{},{type:"enum",style:"select",items:(e.enumValues||[]).map(e=>({label:e,value:e}))})}return Object(o.a)(Object(o.a)({},r),{},{type:$(e.type.name)})},$=e=>(e=>e in k)(e)?k[e]:(e=>/^(enum|string|number|boolean|date)$/.test(e))(e)?e:"custom";var T=n("qtq1");const N=(e,t)=>()=>{const n=(e=>e.formDetails.parameters.filter(e=>e.defaultValue).reduce((e,t)=>(null!==t.defaultValue&&(e[t.name]=t.defaultValue),e),{}))(e);return I({name:e.macroName,params:n},t.contentId)},M=(e,t,n,r,a)=>{const o=e.formDetails.parameters.some(e=>e.required&&null===e.defaultValue);return!n||P(e)?((e,t,n)=>async()=>{if(!t)throw new Error("Macro Browser Config is missing");if(!n)throw new Error("editorActions is missing");const r=await Object(x.e)(e,t);n.replaceSelection(r)})(e,r,a):o||e.anyParameterRequired||e.alwaysShowConfig||(e=>{switch(e.macroName){case"children":case"tasks-report-macro":return!0;default:return!1}})(e)?((e,t,n)=>async()=>{if(!n)throw new Error("editorActions is missing");const r=N(e,t),a=await r();n.replaceSelection(a),Object(T.b)(n)})(e,t,a):N(e,t)};var D=n("8TdO"),F=n("H5qd"),L=n.n(F);const U=L.a`query AttachmentSearch($cql:String!){search(cql:$cql first:25){edges{node{content{id title}}}}}`;var _=async(e,t)=>{const n=[];return e&&n.push((async e=>{const t=Object(D.getApolloClient)();return(await t.query({query:U,variables:{cql:`type = attachment AND title ~ "${e}*"`}})).data.search.edges.map(e=>({label:e.node.content.title,value:e.node.content.title}))})(e)),t&&n.push(Promise.resolve((Array.isArray(t)?t:[t]).map(e=>({label:e,value:e})))),(await Promise.all(n)).flat()};const V=L.a`query SpaceSearch($cql:String!){search(cql:$cql first:25){edges{node{entityType title space{key icon{path}}}}}}`,z=async e=>{const t=Object(D.getApolloClient)();return(await t.query({query:V,variables:{cql:`type = space AND (space.title ~ "${e}*" OR space.key = "${e}")`}})).data.search.edges.map(e=>({label:e.node.title,value:e.node.space.key,icon:"/wiki"+e.node.space.icon.path}))};var B=async(e,t)=>{const n=[];return e&&n.push(z(e)),t&&(Array.isArray(t)?n.push(...t.map(e=>z(e))):n.push(z(t))),n.push(Promise.resolve([{label:"Current space",value:"currentSpace()"}])),(await Promise.all(n)).flat()};const K=L.a`query UserSearch($cql:String!){search(cql:$cql first:25){edges{node{user{displayName accountId profilePicture{path}}}}}}`,q=async(e,t)=>{const n=Object(D.getApolloClient)();return(await n.query({query:K,variables:{cql:t||`type = user AND (user.fullname ~ "${e}*" OR user = "${e}")`}})).data.search.edges.map(e=>({label:e.node.user.displayName,value:e.node.user.accountId,icon:e.node.user.profilePicture.path}))};var H=async(e,t)=>{const n=[];return e&&n.push(q(e)),t&&(Array.isArray(t)?n.push(q(void 0,"user IN "+t.join(","))):n.push(q(t))),(await Promise.all(n)).flat()};const W=L.a`query LabelSearch($searchTerm:String!){labelSearch(searchText:$searchTerm limit:25){otherLabels{label}}}`;var G=async(e,t)=>{const n=[];return e&&n.push((async e=>{const t=Object(D.getApolloClient)();return(await t.query({query:W,variables:{searchTerm:e}})).data.labelSearch.otherLabels.map(e=>({label:e.label,value:e.label}))})(e)),t&&(Array.isArray(t)?n.push(Promise.resolve(t.map(e=>({label:e,value:e})))):n.push(Promise.resolve([{label:t,value:t}]))),(await Promise.all(n)).flat()};const Q=L.a`query ContentSearch($cql:String!){search(cql:$cql first:25){edges{node{content{title id container{name icon{path}}}}}}}`,J=async e=>{const t=Object(D.getApolloClient)();return(await t.query({query:Q,variables:{cql:e}})).data.search.edges.map(e=>({label:e.node.content.title,value:e.node.content.id,icon:"/wiki"+e.node.content.container.icon.path,description:e.node.content.container.name}))};var Y=async(e,t)=>{const n=[];return e&&n.push(J(`type IN (page, blogpost) AND title ~ "${e}*"`)),t&&(Array.isArray(t)?n.push(J(`type IN (page, blogpost) AND id IN (${t.join(",")})`)):n.push(J("type IN (page, blogpost) AND id = "+t))),(await Promise.all(n)).flat()},X=n("EWug");const Z=e=>e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),ee=e=>{const t=[];return t.push(...Object.entries(e).filter(e=>e[1]).map(e=>{let[t,n]=e;const r=A[t];let a,o="=";return r&&r.op&&(o=r.op),Array.isArray(n)?(a=`(${n.map(e=>`"${Z(e)}"`).join(", ")})`,o="IN"):a="number"==typeof n?n.toString():`"${Z(n.toString())}"`,`${t} ${o} ${a}`})),t.join(" AND ")};const te=e=>{if(null==e)return{};const t=Object(X.parse)(e),n=Array.from(function*e(t){if(t.clause&&(yield*e(t.clause)),t.clauses){if("OR"===t.type.toUpperCase()&&1!==t.clauses.length)throw new SyntaxError("cannot handle multiple OR clauses");for(const n of t.clauses)yield*e(n)}"expr"===t.nodeType&&(yield t)}(t)),r={};return n.forEach(e=>{r[e.field]=e.value}),r};var ne=n("2nhj"),re=n("Z1IT"),ae=n("iB1A");const oe={attachments:e=>e.map(e=>"labels"!==e.name?e:Object(o.a)(Object(o.a)({},e),{},{isMultiple:!0,type:"custom",options:{resolver:{type:"label"}}})),pdf:e=>e.filter(e=>-1===["date","space"].indexOf(e.name))};n.d(t,"a",(function(){return ue})),n.d(t,"b",(function(){return de}));const ie=()=>Object(a.a)("/wiki/plugins/macrobrowser/browse-macros.action?detailed=true&origin=extension-provider",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),ce=(e,t,n,r,a,o)=>e.map(e=>le(e,t,n,r,a,o)),se=(e,t,n,r,a)=>e.hidden||Object(re.b)(e)?[]:[{key:j(e),title:e.title,description:e.description,keywords:e.aliases,categories:e.categories,icon:()=>Promise.resolve(()=>y(e)),action:M(e,t,n,r,a)}],le=(e,t,n,r,a,o)=>{const i=e.macroName,l=!!o,u={type:w(e),render:()=>{const t=n["com.atlassian.confluence.macro.core"];return Promise.resolve(n=>{const a=((e,t)=>e.formDetails.parameters.some(e=>e.required&&null===e.defaultValue&&!e.hidden&&!((e,t)=>!!(t&&t.parameters&&t.parameters.macroParams)&&e in t.parameters.macroParams)(e.name,t)))(e,n.node);return!r&&l||!a?r&&l&&!(e=>{switch(e.macroName){case"contributors":case"pagetreesearch":case"toc":case"pagetree":return!1;default:return!0}})(e)?((e,t)=>"inlineExtension"===t?c.a.createElement(v,{macro:e}):c.a.createElement(O,{isEditor:!0,macro:e,description:c.a.createElement(s.c,{id:"confluence-fabric-editor.extension.placeholder.can-not-render-in-editor",description:"Message shown when a macro is inserted but can't be rendered because it doesn't work in edit mode",defaultMessage:"The results of this element aren’t visible when editing. Preview the page or publish it to see how it will look."})}))(e,w(e)):"function"==typeof t?t(n.node,null):t.render(n.node,null):((e,t)=>"inlineExtension"===w(e)?c.a.createElement(v,{macro:e,description:c.a.createElement("span",null,"(",E,")")}):c.a.createElement(O,{isEditor:t,macro:e,description:E}))(e,l)})}};if((e=>e.formDetails&&(e.formDetails.parameters||[]).filter(e=>!e.hidden)||[])(e).length>0){const n=async(n,r)=>{const a=await I({name:e.macroName,params:Object(ne.d)(n)},t.contentId);return(await Object(x.g)(a,r)).attrs.parameters||{}};u.update=(o,i)=>{const c=e=>Object(ne.d)(e.macroParams),s=async n=>{const r=((e,t)=>("attachments"===e.macroName&&t.labels&&Array.isArray(t.labels)&&(t.labels=t.labels.join(",")),t))(e,n);Object.keys(r).forEach(t=>{const n=e.formDetails.parameters.find(e=>e.name===t);n&&("int"===n.type.name&&"string"==typeof r[t]&&(r[t].length?r[t]=Number(r[t]):delete r[t]),void 0===r[t]&&delete r[t])});const a=await I({name:e.macroName,params:r},t.contentId);return a.attrs.parameters&&(a.attrs.parameters.macroMetadata||(a.attrs.parameters.macroMetadata={}),a.attrs.parameters.macroMetadata.macroId||(a.attrs.parameters.macroMetadata.macroId={value:Object(ae.c)(a.attrs.parameters)})),a.attrs.parameters||{}};return!r||P(e)?n(o.macroParams,a):new Promise(()=>{i.editInContextPanel(c,s)})},u.getFieldsDefinition=()=>{const t=e.formDetails.parameters.map(t=>R(t,{pluginKey:e.pluginKey,macroName:j(e)}));return Promise.resolve(((e,t)=>oe[e.macroName]?oe[e.macroName](t):t)(e,t))}}return{type:"com.atlassian.confluence.macro.core",key:i,title:e.title,description:e.description,icons:C(e),modules:{quickInsert:o?se(e,t,r,a,o):[],nodes:{default:u},fields:{custom:{attachment:{resolver:_},spacekey:{resolver:B},username:{resolver:H},label:{resolver:G},"confluence-content":{resolver:Y}},fieldset:{cql:{serializer:ee,deserializer:te}}}}}},ue=async(e,t,n,a,o)=>{const[i,c]=await Promise.all([ie(),Object(x.b)(a)]),s=ce(i.macros,e,t,o,a,n);return new r.a(s,[e=>{const t=c(e);if(t)return t}])},de=async(e,t)=>{const n=await ie(),a=ce(n.macros,e,t);return new r.a(a)}},wbjG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("ERkP")),a=o(n("4KTy"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return r.default.createElement(a.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.691 14.932c-.184.546-.336.797-.719 1.011-.851.478-1.54.299-2.033-.532-.498-.837-.31-1.52.547-2 .388-.218.673-.217 1.251-.1.078.017.139.029.19.038l-1.434-2.414a.333.333 0 0 1 .123-.461L8.64 9.339a.333.333 0 0 1 .49.222c.023.113.065.22.127.325.439.737 1.006.885 1.769.457.757-.425.906-.962.47-1.694a1.075 1.075 0 0 0-.226-.271.333.333 0 0 1 .054-.544l2.023-1.135a.333.333 0 0 1 .45.12l1.447 2.437c.019-.05.04-.11.066-.187.184-.546.336-.797.719-1.012.851-.477 1.54-.298 2.033.533.498.837.31 1.52-.547 2-.26.146-.521.193-.816.169a3.345 3.345 0 0 1-.435-.07 7.373 7.373 0 0 0-.19-.037l1.434 2.413c.095.16.04.369-.124.46l-2.11 1.184a.333.333 0 0 1-.496-.28 1.03 1.03 0 0 0-.15-.51c-.438-.738-1.005-.886-1.768-.458-.758.425-.906.963-.471 1.694.1.168.225.29.384.386a.333.333 0 0 1-.009.576l-2.11 1.184a.333.333 0 0 1-.449-.12l-1.447-2.436c-.019.05-.04.11-.066.187z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};c.displayName="EditorAddonIcon";var s=c;t.default=s},xLJ5:function(e,t,n){"use strict";var r=n("Czhu"),a=n("nnRT"),o=n.n(a),i=n("ERkP"),c=n.n(i),s=n("RfuI"),l=n("0bsQ"),u=Object(s.a)({id:"x6PIK",name:"packages/confluence-fabric-editor/src/components/TemplateVariableDialog/TemplateVariablesDialogLoader.tsx",loader:()=>Promise.all([n.e("atlaskit~66e23772"),n.e("vendors~4134d62c"),n.e("fabric.template.variables.dialog~dc51bad7")]).then(n.bind(null,"9qrP")),loading:()=>c.a.createElement(l.a,{size:"medium"})}),d=n("dbjD"),p=n("8ghD");n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return v}));const f="text",m="textarea",b="select";function h(e="variable_name"){return{type:d.e,attrs:{extensionType:d.d.TEMPLATE,extensionKey:d.c.TEMPLATE,parameters:{type:f,name:e}}}}function g(e){return e.attrs&&e.attrs.extensionType===d.d.TEMPLATE}function y(e,t){return new Promise((n,a)=>{if(!e.attrs||!t.setActiveModal)return void a(new Error("Cannot open editing template variable dialog"));const o=e.attrs.parameters;t.setActiveModal(u,{defaultVariableType:o.type,defaultVariableName:o.name,defaultRows:o.params&&o.params.rows,defaultColumns:o.params&&o.params.columns,defaultListOptions:o.params&&o.params.options,onSave:t=>{const a=Object(p.b)(e,t);let o=d.f;a.type===d.a?o=d.a:a.type===d.e&&(o=d.e),n(Object(r.a)(Object(r.a)({},a),{},{type:o,attrs:a.attrs||{}}))},onClose:()=>{t.closeActiveModal&&t.closeActiveModal()}})})}function v(e){return Object(p.a)(e,d.e).filter(g).reduce((e,t)=>{const{name:n,type:r,params:a={}}=t.attrs.parameters;if(!e.groupedByName[n])return e.groupedByName[n]=t,e;const i=e.groupedByName[n].attrs.parameters;return(i.type!==r||!o()(i.params||{},a))&&(e.invalidNodes.push(t),e.invalidUniqueNames.includes(n)||e.invalidUniqueNames.push(n)),e},{groupedByName:{},invalidNodes:[],invalidUniqueNames:[]})}},xpeE:function(e,t,n){"use strict";var r=n("Czhu"),a=n("ERkP"),o=n.n(a),i=n("KIs4"),c=n("rDc3"),s=n("RfuI");var l=()=>null;var u=Object(s.a)({id:"0WkLC",name:"DetailsLoadable",loader:()=>n.e("extension-handler-details~2c7771c4").then(n.bind(null,"tcwv")),loading:l});class d extends a.Component{render(){const{contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,mode:a,node:i}=this.props,{content:s}=i,l={mode:a,node:i};return s&&(l.adf=s),e&&(l.contentId=e),l.macroId=Object(c.a)(this.props),this.props.node.parameters&&this.props.node.parameters.macroParams&&this.props.node.parameters.macroParams.hidden&&this.props.node.parameters.macroParams.hidden.value?l.hidden=!!this.props.node.parameters.macroParams.hidden.value:l.hidden=!1,t&&(l.showTemplateVariablesInPreview=t),n&&(l.showTemplateInputInPreview=n),o.a.createElement(u,Object(r.a)({},l))}}var p=d,f=n("Q//X"),m=n("2hMr"),b=n("0bsQ");var h=Object(s.a)({id:"uiHNj",name:"ExcerptLoadable",loader:()=>n.e("extension-handler-excerpt~b9cac009").then(n.bind(null,"7J+w")),loading:()=>o.a.createElement(b.a,{size:"medium",style:{minHeight:100}})});class g extends a.Component{render(){var e;const{contentId:t,node:n,showTemplateVariablesInPreview:a,showTemplateInputInPreview:i,mode:s}=this.props,{content:l,extensionKey:u}=n,d="true"===(null!=(e=n)&&null!=(e=e.parameters)&&null!=(e=e.macroParams)&&null!=(e=e.hidden)?e.value:e),p=Object(f.e)(n);if(d)return o.a.createElement(m.a,{name:Object(f.d)(s,n),contentId:t,extensionKey:u,mode:s,attributes:p});const b={contentId:t,adf:l,mode:s,node:n,macroId:Object(c.a)(this.props)};return a&&(b.showTemplateVariablesInPreview=a),i&&(b.showTemplateInputInPreview=i),o.a.createElement(h,Object(r.a)({},b))}}var y=g,v=n("K9i4"),O=n("S1px");var E=()=>o.a.createElement("div",{style:{padding:"8px 0 0 16px"}},o.a.createElement("span",{style:{display:"inline-block",borderRadius:3,backgroundColor:"#F4F5F7",width:16,height:16,margin:"2px 16px 2px 0"}}),o.a.createElement("span",{style:{display:"inline-block",borderRadius:3,backgroundColor:"#F4F5F7",width:120,height:20}}));var x=Object(s.a)({id:"egWQp",name:"ExpandLoadable",loader:()=>n.e("extension-handler-expand~9e850db9").then(n.bind(null,"w2pD")),loading:E});class j extends a.Component{render(){const{contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,node:a,mode:i}=this.props,{content:c,extensionKey:s}=a,{title:l}=this.props.node.parameters.macroParams,u={extensionKey:s,mode:i};return c&&(u.adf=c),l&&(u.title=l.value),e&&(u.contentId=e),t&&(u.showTemplateVariablesInPreview=t),n&&(u.showTemplateInputInPreview=n),o.a.createElement(x,Object(r.a)({},u))}}var w=j,C=n("MA4i"),I=n("TdpR"),P=n("A79P"),k=n("otm+"),A=n("znRE"),S=n("Nk3d"),R=n("dbjD"),$=n("u6In");const T=Object($.a)()(class extends a.Component{componentDidMount(){const{createAnalyticsEvent:e,extensionKey:t}=this.props;e&&e({type:"sendTrackEvent",data:{action:"viewed",actionSubject:"macro",actionSubjectId:t,source:"viewPageScreen"}}).fire()}render(){const{children:e}=this.props;return o.a.createElement(a.Fragment,null,e)}});var N=n("6v+B"),M=n("9jV5"),D=n("FCVA"),F=n("B/tD");const L=({contentId:e})=>Object(A.a)(t=>{if(!t)return null;const{extensionKey:n,parameters:i}=t,c=Object(f.e)(t),s={contentId:e,mode:f.c,extensionKey:n,attributes:c,node:t};let l;switch(n){case R.c.INVALID:const e=i;l=o.a.createElement(F.a,Object(r.a)(Object(r.a)({},e),s));break;case R.c.INLINE_EXTERNAL_IMAGE:const t=i;l=o.a.createElement(D.a,Object(r.a)(Object(r.a)({},t),s));break;case R.c.INLINE_MEDIA_IMAGE:const n=i,{link:a}=i;l=o.a.createElement(M.a,Object(r.a)(Object(r.a)(Object(r.a)({},n),s),{},{link:a}))}return o.a.createElement(a.Fragment,null,o.a.createElement(k.a,{name:Object(f.d)(f.c,t),mode:f.c,extensionKey:n,attributes:c,timeout:P.a.MACRO_LOAD,contentId:e}),l)});n.d(t,"a",(function(){return _}));const U={insertCss:e=>e._insertCss()},_=({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:a,isJposMacroEnabled:o,shouldIncludeMacroHandlers:i=!0})=>{const c=V,s=i?{[R.d.MACRO_CORE]:c({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:a,isJposMacroEnabled:o})}:{},l={[R.d.MIGRATION]:L({contentId:e})},u=n?N.b:N.a,d=t?{[R.d.TEMPLATE]:u}:{};return Object(r.a)(Object(r.a)(Object(r.a)({},s),l),d)},V=({contentId:e,showTemplateVariablesInPreview:t,showTemplateInputInPreview:n,spaceKey:c,isJposMacroEnabled:s})=>Object(A.a)(l=>{const{extensionKey:u}=l,d=Object(f.e)(l),b={node:l,contentId:e,showTemplateVariablesInPreview:t||!1,showTemplateInputInPreview:n||!1,spaceKey:c,mode:f.c,context:U,extensionKey:u,attributes:d};return o.a.createElement(a.Fragment,null,o.a.createElement(k.a,{contentId:e,name:Object(f.d)(f.c,l),mode:f.c,extensionKey:u,attributes:d,timeout:P.a.MACRO_LOAD}),o.a.createElement(T,{extensionKey:u},(()=>{switch(u){case"redactedMacroPlaceholder":return o.a.createElement(I.a,Object(r.a)({},b));case"details":return o.a.createElement(p,Object(r.a)({},b));case"detailssummary":return o.a.createElement(i.a,null,({featureFlags:e})=>e["confluence.frontend.fabric.editor.next.detailssummary"]?o.a.createElement(C.a,Object(r.a)({},b)):o.a.createElement(S.a,Object(r.a)({},b)));case"excerpt":return o.a.createElement(y,Object(r.a)({},b));case"include":return o.a.createElement(i.a,null,({featureFlags:e})=>e["confluence.frontend.fabric.editor.include-page"]?o.a.createElement(v.a,Object(r.a)({},b)):o.a.createElement(S.a,Object(r.a)({},b)));case"excerpt-include":return o.a.createElement(O.a,Object(r.a)({},b));case"expand":return o.a.createElement(w,Object(r.a)({},b));case"portfolioforjiraplan":if(!s){const{parameters:{macroParams:{url:{value:t}}}}=l;return o.a.createElement(a.Fragment,null,o.a.createElement("div",null,o.a.createElement("a",{href:t,target:"_blank"},t)),o.a.createElement(m.a,{name:Object(f.d)(f.c,l),contentId:e,extensionKey:u,mode:(void 0).props.mode,attributes:d}))}default:return o.a.createElement(S.a,Object(r.a)({},b))}})()))})},"y/nW":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));const r={display:"block",borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",borderColor:"rgb(193, 199, 208)",borderImage:"initial"},a={display:"block",backgroundColor:"rgb(244, 245, 247)",minWidth:"128px",padding:"10px"},o={display:"block",minWidth:"128px",borderWidth:"1px 0px 0px 0px",borderStyle:"solid",borderColor:"rgb(193, 199, 208)",padding:"10px"}},y4bl:function(e,t,n){var r=n("c72w"),a=n("xoyU"),o=n("pnw1"),i=n("tQYX"),c=n("Ypsa");e.exports=function(e,t,n,s){if(!i(e))return e;for(var l=-1,u=(t=a(t,e)).length,d=u-1,p=e;null!=p&&++l<u;){var f=c(t[l]),m=n;if(l!=d){var b=p[f];void 0===(m=s?s(b,f,p):void 0)&&(m=i(b)?b:o(t[l+1])?[]:{})}r(p,f,m),p=p[f]}return e}},yiKp:function(e,t,n){var r=n("KEM+");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"zT+L":function(e,t,n){"use strict";var r=n("ey2t"),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,i=Array.prototype.concat,c=Object.defineProperty,s=c&&function(){var e={};try{for(var t in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),l=function(e,t,n,r){var a;(!(t in e)||"function"==typeof(a=r)&&"[object Function]"===o.call(a)&&r())&&(s?c(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);a&&(o=i.call(o,Object.getOwnPropertySymbols(t)));for(var c=0;c<o.length;c+=1)l(e,o[c],t[o[c]],n[o[c]])};u.supportsDescriptors=!!s,e.exports=u},znRE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ERkP"),a=n.n(r),o=n("KIs4"),i=n("Vgb+"),c=n("gwLK"),s=n("8TdO");const l=e=>(t,...n)=>a.a.createElement(c.b,{client:Object(s.getApolloClient)()},a.a.createElement(o.a,null,r=>a.a.createElement(i.a.Provider,{value:r},e(t,n))))},ztP5:function(e,t,n){"use strict";const r=(e,t)=>{const n=e.getItems().catch(e=>{console.log(e)}),r=t.getItems().catch(e=>{console.log(e)}),a=Promise.all([n,r]).then(([e,t])=>{if(e||t){let n=[];return e&&(n=[...e]),t&&(n=[...n,...t]),n}throw new Error("Failed to get quick insert items.")});return{getItems:()=>a}};var a=n("Czhu"),o=n("ERkP"),i=n.n(o),c=n("u6In"),s=n("bjnC"),l=n("3EVl"),u=n("hu6Q"),d=n("bM1y");const p=e=>({children:t,params:n=[]})=>t(e(...n)),f={DEVELOPMENT:"Development",STAGING:"Staging",PRODUCTION:"Production"},m=(e,t)=>`${t&&t.name?`By ${t.name} · `:""}${e}`,b=(e,t="PRODUCTION")=>{if("PRODUCTION"!==t){const n=f[t];if(n)return`${e} (${n})`}return e},h=e=>{const{apolloClient:t,contextIds:n,createAnalyticsEvent:r,localIdGenerator:o}=e,{extensions:i}=Object(l.H)({client:t,contextIds:n,type:"xen:macro",expandAppOwner:!0}),c=i?i.map(((e,t=d.d)=>n=>{const r=b(n.properties.title,n.environmentType);return{title:r,description:m(n.properties.description,n.appOwner),priority:1/0,action:o=>{const i=t(),c=n.id;return e({eventType:u.e,data:{action:"inserted",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",attributes:Object(a.a)({localId:i},Object(d.e)(c))}}).fire(l.f),o({type:"extension",attrs:{extensionKey:"xen:macro",extensionType:"com.atlassian.ecosystem",parameters:{localId:i,extensionId:c,extensionTitle:r},text:r+" - Forge Extension"}})}}})(r,o)):[];return[{getItems:()=>Promise.resolve(c)}]};p(h);var g=n("l1C2"),y=n("3AlC"),v=n("lSUb"),O=n("Ru70"),E=n("lXfh"),x=n("BOb/");class j extends Error{constructor(e){super(e),Object.setPrototypeOf(this,j.prototype)}}const w=e=>e.reduce((e,{props:t})=>{if(t)for(const n of["defaultChecked","defaultSelected"])if(n in t)return[...e,t.value];return e},[]),C=e=>e.map(({props:e,type:t})=>{if(!e)throw new Error("Props are undefined on "+t);return{label:e.label,value:e.value}}),I={TextField:e=>({type:"string",name:e.name,label:e.label,description:e.description,defaultValue:e.defaultValue,isRequired:e.isRequired,isHidden:e.isHidden,placeholder:e.placeholder}),DatePicker:e=>({type:"date",name:e.name,label:e.label,description:e.description,defaultValue:e.defaultValue,isRequired:e.isRequired,placeholder:e.placeholder}),Select:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"select",isMultiple:e.isMulti,placeholder:e.placeholder,items:C(t),defaultValue:w(t)}),CheckboxGroup:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"checkbox",isMultiple:!0,items:C(t),defaultValue:w(t)}),RadioGroup:(e,t)=>({type:"enum",name:e.name,label:e.label,description:e.description,isRequired:e.isRequired,style:"radio",isMultiple:!1,items:C(t),defaultValue:w(t)[0]})},P=e=>{const t=e.map(({children:e,props:t,type:n})=>I[n]?I[n](t||{},e):n),n=t.filter(e=>"string"==typeof e);if(n.length>0)throw new j((e=>{const t=[...new Set(e)];return`${1===t.length?"":t.slice(0,-1).join(", ")+" or"} ${t.slice(-1)} components are not supported in macro config`})(n));return t};const{getForgeUIExtensionsAsync:k}=d.m,A={16:()=>n.e(101).then(n.bind(null,"y0A6")),24:()=>n.e(101).then(n.bind(null,"y0A6")),48:()=>n.e(101).then(n.bind(null,"y0A6"))},S=e=>$(e),R=async e=>({guestParams:e}),$=({config:e,guestParams:t})=>t||e;async function T({apolloClient:e,contextIds:t,extensionRefs:n,forgeUIAnalyticsContext:r,metalClientPromise:o,page:i,analyticsWebClient:c,renderFunction:s,startTimeMs:p,destroyMetalClient:f}){const{extensions:h,errors:g}=await k({client:e,contextIds:t,moduleType:"xen:macro",expandAppOwner:!0}),y=h||[],v=async({extensionId:e,localId:t},r)=>{if(y.find(({id:t,properties:n})=>t===e&&!!n.config&&!!n.config.function))return await r.editInContextPanel(S,R);const a=`${e}-${t}`,o=n.get(a);return o?await o.openConfig():void 0},w=async n=>{const{extensionId:s,localId:d}=n,p=$(n);try{const n=Object(l.t)({contextIds:t,extensionId:s,localId:d,functionId:"config"},{effects:[{type:"initialize"}],state:{},config:p,context:Object(a.a)(Object(a.a)({},r),{},{isConfig:!0})}),o=await e.mutate({mutation:l.x,variables:{input:n}}),i=Object(l.w)(o,e=>{throw new l.a(e)})[0];return function(e){for(const{type:t,props:n,children:r}of e.children){if("ErrorPanel"===t&&n){const{error:{errorMessage:e,errorDetails:t}}=n;throw new Error(""+(e||t||""))}if("ThreeLOPrompt"===t)throw new Error("For this app to display, you need to press the Allow Access button in the\nmacro to allow the app to access Atlassian products on your behalf.");if("MacroConfig"===t)return P(r)}throw new Error("<MacroConfig> must be used at the root")}("result"===i.type?i.forgeDoc:i.aux)}catch(f){const{name:e,message:t}=f;throw f instanceof j||(Promise.resolve(o).then(e=>{e.error.submit({component:"getForgeExtensionProvider",page:i,name:x.a.error.COMPONENT_API})}),c&&Object(l.G)(c)({eventType:u.e,action:"errored",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen",attributes:{errorName:e,errorMessage:t}})),new Error(t||"")}},C=y.filter(({id:e})=>void 0!==Object(E.parse)(e).resourceId).map(({id:e,properties:t,environmentType:n,appOwner:o})=>{const i=b(t.title||"Forge UI Macro",n),p=m(t.description||"",o),f=Object(E.parse)(e).resourceId;return{title:i,description:p,type:"com.atlassian.ecosystem",key:f,icons:A,modules:{quickInsert:[{key:"forge-macro",action:async()=>{const t=Object(d.d)(),n=e;return c&&Object(l.G)(c)(Object(a.a)(Object(a.a)({eventType:u.e,action:"inserted",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen"},r),{},{attributes:Object(a.a)({localId:t},Object(d.e)(n))})),{type:"extension",attrs:{extensionKey:f,extensionType:"com.atlassian.ecosystem",parameters:{localId:t,extensionId:n,extensionTitle:i},text:i}}}}],nodes:{default:{type:"extension",render:s,update:v,getFieldsDefinition:w}}}}}),I={title:"Forge UI Macro",description:"Supports existing Forge UI Macro nodes",type:"com.atlassian.ecosystem",key:"xen:macro",icons:A,modules:{nodes:{default:{type:"extension",render:s,update:v,getFieldsDefinition:w}}}},T=performance.now();return Promise.resolve(o).then(e=>{if(h&&e.metric.submit({component:"getForgeExtensionProvider",page:i,name:x.a.performance.COMPONENT_READY,value:T-p}),!h&&g){const t=g.find(e=>Object(l.z)(e)||Object(l.y)(e));e.error.submit({component:"getForgeExtensionProvider",page:i,name:t?Object(l.z)(t)?x.a.error.COMPONENT_API:x.a.error.COMPONENT_GRAPHQL:x.a.error.UNCAUGHT})}f()}),new O.a([I,...C])}var N=n("06eB"),M=n.n(N);const D=Object(v.a)(e=>({providerFactory:e})),F=({config:e,guestParams:t})=>t||e;var L=Object(v.a)((async function(e,t,n,r,a,o,c,s,u,d={}){const p=performance.now(),f=new Map,[m,b]=Object(l.u)(r,a),h=(e,t)=>{const n=`${t.parameters.extensionId}-${t.parameters.localId}`;e?f.set(n,e):f.delete(n)};return await T({apolloClient:e,contextIds:t,extensionRefs:f,forgeUIAnalyticsContext:d,metalClientPromise:m,page:o,analyticsWebClient:u,renderFunction:async()=>function(e,t,n,r,a,o,c,s,l){return Object(v.a)(({node:u})=>i.a.createElement(q,{apolloClient:e,contextIds:t,environment:o,extension:u,forgeContext:l,isEditing:n,product:c,productDataContext:r,page:s,setExtensionRef:a}),M.a)}(e,t,!!s,D(n),h,r,a,o,c),startTimeMs:p,destroyMetalClient:b})})),U=n("BMbf");const{ForgeUIExtensionProvider:_}=d.l,{ForgeUIExtension:V}=d.m,z=Object(U.h)();var B={name:"15q9084",styles:"background:transparent;cursor:not-allowed;left:0;position:absolute;height:100%;top:0;width:100%;z-index:1;"};const K=({environment:e,product:t,page:n,forgeContext:r,apolloClient:i,contextIds:c,productDataContext:s,extension:u,setExtensionRef:d,isEditing:p})=>{const{localId:f,extensionId:m,extensionTitle:b}=u.parameters,h=F(u.parameters),[{isConfigOpen:v,onConfigSubmit:O,onConfigClose:E,config:x},j]=Object(o.useState)({isConfigOpen:!1,onConfigSubmit:()=>{},onConfigClose:()=>{},config:h});Object(o.useEffect)(()=>(d({openConfig:()=>new Promise((e,t)=>{j({isConfigOpen:!0,onConfigSubmit:e,onConfigClose:t,config:x})}).then(e=>(j(t=>Object(a.a)(Object(a.a)({},t),{},{isConfigOpen:!1,config:e})),Object(a.a)(Object(a.a)({},u.parameters),{},{config:e}))).catch(()=>{j(e=>Object(a.a)(Object(a.a)({},e),{},{isConfigOpen:!1,config:x}))})},u),()=>d(void 0,u)),[x,u,d]),Object(o.useEffect)(()=>{j(e=>Object(a.a)(Object(a.a)({},e),{},{config:h}))},[h]);const w=Object(o.useMemo)(()=>Object(a.a)(Object(a.a)({},r),{},{isConfig:v}),[r,v]),C=Object(a.a)(Object(a.a)({},l.c),{},{ConfigForm:Object(y.b)(({dispatch:e,render:t,renderChildren:n,Components:r,children:a})=>Object(g.f)(l.b,{onConfigSubmit:O,onConfigClose:E},n({render:t,Components:r,children:a,dispatch:e})),[O,E])}),I={id:m,properties:{title:b}};return Object(g.f)("div",{"data-testid":"ForgeExtensionContainer",css:Object(g.e)("background:",p?"white":"transparent",";padding:",p?z+"px":0,";position:relative;")},Object(g.f)(_,{value:{environment:e,product:t,page:n,forgeContext:w,client:i,contextIds:c,allowedUIComponents:C,productData:s,id:f||u.extensionKey}},Object(g.f)(V,{extension:I,localId:f,config:x}),p&&Object(g.f)("div",{"data-testid":"GlassPane",css:B})))};var q=e=>{const{extension:t}=e,n=t.parameters&&t.parameters.localId;return Object(g.f)(o.Suspense,{fallback:null},Object(g.f)(s.a,{data:{forgeUIAttributes:Object(a.a)({localId:n},Object(d.e)(t.parameters&&t.parameters.extensionId))}},Object(g.f)(l.m,{value:{environment:e.environment,product:e.product,page:e.page,id:n||""}},Object(g.f)(l.g,null,Object(g.f)(K,Object.assign({},e))))))};const H=({apolloClient:e,contextIds:t,isEditing:n,forgeContext:r,productDataContext:a,product:i,page:c,environment:s})=>{const l=Object(o.useRef)(new Map);return[{"com.atlassian.ecosystem":{render:o=>Object(g.f)(q,{environment:s,product:i,page:c,forgeContext:r,apolloClient:e,contextIds:t,productDataContext:a,extension:o,isEditing:n,setExtensionRef:e=>{const t=`${o.parameters.extensionId}-${o.parameters.localId}`,n=l.current.get(t)||[];if(e)l.current.set(t,[...n,e]);else{const[,...e]=n;e.length?l.current.set(t,e):l.current.delete(t)}}}),update:e=>{const t=`${e.extensionId}-${e.localId}`,n=l.current.get(t)||[],r=n[n.length-1];return r?r.openConfig():Promise.resolve()}}}]},W=(p(H),Object(c.a)()(e=>{const{apolloClient:t,contextIds:n,children:r,localIdGenerator:a,forgeContext:i,createAnalyticsEvent:c,mentionProvider:s,environment:l,page:u,product:d}=e,p=Object(o.useMemo)(()=>({mentionProvider:s}),[s]),[f]=h({contextIds:n,apolloClient:t,localIdGenerator:a,createAnalyticsEvent:c}),[m]=H({apolloClient:t,contextIds:n,isEditing:!0,forgeContext:i,productDataContext:p,environment:l,product:d,page:u});return r({extensionHandlers:m,quickInsertProvider:f})}));function G(e){const{analyticsWebClient:t,forgeUIAnalyticsContext:n={},page:r}=e;return i.a.createElement(l.m,{value:{environment:e.environment,product:e.product,page:e.page}},i.a.createElement(l.h,{client:t},i.a.createElement(s.a,{data:{forgeUIAnalyticsContext:Object(a.a)({source:r},n)}},i.a.createElement(W,Object.assign({},e)))))}n("fvFX");const Q=Object(U.h)();var J={name:"15q9084",styles:"background:transparent;cursor:not-allowed;left:0;position:absolute;height:100%;top:0;width:100%;z-index:1;"};const Y=({apolloClient:e,contextIds:t,cloudId:n,extensionData:r,accountId:i,productDataContext:c,extension:s,setExtensionRef:u,isEditing:p})=>{const{localId:f,extensionId:m,extensionTitle:b}=s.parameters,h=F(s.parameters),[{isConfigOpen:y,config:v,onConfigSubmit:O,onConfigClose:E},x]=Object(o.useState)({isConfigOpen:!1,onConfigSubmit:()=>{},onConfigClose:()=>{},config:h});Object(o.useEffect)(()=>(u({openConfig:()=>new Promise((e,t)=>{x({isConfigOpen:!0,onConfigSubmit:e,onConfigClose:t,config:v})}).then(e=>(x(t=>Object(a.a)(Object(a.a)({},t),{},{isConfigOpen:!1,config:e})),Object(a.a)(Object(a.a)({},s.parameters),{},{config:e}))).catch(()=>{x(e=>Object(a.a)(Object(a.a)({},e),{},{isConfigOpen:!1,config:v}))})},s),()=>u(void 0,s)),[v,s,u]),Object(o.useEffect)(()=>{x(e=>Object(a.a)(Object(a.a)({},e),{},{config:h}))},[h]);const[j,{forgeDoc:w,error:C,loading:I}]=Object(l.J)({apolloClient:e,contextIds:t,extensionId:m,coreData:{localId:f,cloudId:n}}),P=function(e){const t=Object(o.useRef)(e);return M()(t.current,e)||(t.current=e),t.current}(r);Object(o.useEffect)(()=>{j({type:"render",extensionData:Object(a.a)(Object(a.a)({},P),{},{isConfig:y,config:v})})},[j,v,y,P]);return Object(g.f)("div",{"data-testid":"ForgeExtensionContainer",css:Object(g.e)("background:",p?"white":"transparent",";padding:",p?Q+"px":0,";position:relative;")},Object(g.f)(l.p,{forgeDoc:w,loading:I,error:C,dispatch:e=>j(Object(a.a)(Object(a.a)({},e),{},{extensionData:Object(a.a)(Object(a.a)({},r),{},{isConfig:y,config:v})})),components:t=>Object(a.a)(Object(a.a)({},t),{},{Avatar:Object(l.A)({client:e}),AvatarStack:Object(l.B)({client:e}),ThreeLOPrompt:Object(d.j)({appName:b}),ConfigForm:({forgeDoc:e,render:t})=>Object(g.f)(l.b,{onConfigSubmit:O,onConfigClose:E},e.children.map(t)),UserPicker:Object(l.F)({client:e,mentionProvider:c.mentionProvider,accountId:i,cloudId:n,productKey:"confluence"})})}),p&&Object(g.f)("div",{"data-testid":"GlassPane",css:J}))};var X=e=>{const{extension:t}=e,n=t.parameters&&t.parameters.localId;return Object(g.f)(o.Suspense,{fallback:null},Object(g.f)(s.a,{data:{forgeUIAttributes:Object(a.a)({localId:n},Object(d.e)(t.parameters&&t.parameters.extensionId))}},Object(g.f)(l.m,{value:{environment:e.environment,product:e.product,page:e.page}},Object(g.f)(l.g,null,Object(g.f)(Y,Object.assign({},e))))))};const Z=({accountId:e,apolloClient:t,cloudId:n,contextIds:r,extensionData:a,isEditing:i,productDataContext:c,product:s,page:l,environment:u})=>{const d=Object(o.useRef)(new Map);return[{"com.atlassian.ecosystem":{render:o=>Object(g.f)(X,{environment:u,product:s,page:l,cloudId:n,accountId:e||"",extensionData:a,apolloClient:t,contextIds:r,productDataContext:c,extension:o,isEditing:i,setExtensionRef:e=>{const t=`${o.parameters.extensionId}-${o.parameters.localId}`,n=d.current.get(t)||[];if(e)d.current.set(t,[...n,e]);else{const[,...e]=n;e.length?d.current.set(t,e):d.current.delete(t)}}}),update:async e=>{const t=`${e.extensionId}-${e.localId}`,n=d.current.get(t)||[],r=n[n.length-1];if(r)return r.openConfig()}}}]};Object(c.a)()(e=>{const{accountId:t,cloudId:n,apolloClient:r,contextIds:a,children:i,localIdGenerator:c,extensionData:s,createAnalyticsEvent:l,mentionProvider:u,environment:d,page:p,product:f}=e,m=Object(o.useMemo)(()=>({mentionProvider:u}),[u]),[b]=h({contextIds:a,apolloClient:r,localIdGenerator:c,createAnalyticsEvent:l}),[g]=Z({accountId:t,cloudId:n,apolloClient:r,contextIds:a,extensionData:s,isEditing:!0,productDataContext:m,environment:d,product:f,page:p});return i({extensionHandlers:g,quickInsertProvider:b})});function ee(e){const{analyticsWebClient:t,apolloClient:n,contextIds:r,children:c,dataProviders:u,forgeContext:d,forgeUIAnalyticsContext:p={},environment:f,product:m,page:b}=e,h=Object(o.useMemo)(()=>({providerFactory:u}),[u]),[g]=H({apolloClient:n,contextIds:r,isEditing:!1,forgeContext:d,product:m,page:b,environment:f,productDataContext:h});return i.a.createElement(l.h,{client:t},i.a.createElement(s.a,{data:{forgeUIAnalyticsContext:Object(a.a)({source:b},p)}},c({extensionHandlers:g})))}const te=Object(v.a)(e=>({providerFactory:e}));Object(v.a)((async function({accountId:e,cloudId:t,apolloClient:n,contextIds:r,dataProviders:a,environment:o,product:c,page:s,isEditing:u,analyticsWebClient:d,forgeUIAnalyticsContext:p={},extensionData:f}){const m=performance.now(),b=new Map,[h,g]=Object(l.u)(o,c),y=(e,t)=>{const n=`${t.parameters.extensionId}-${t.parameters.localId}`;e?b.set(n,e):b.delete(n)};return await T({apolloClient:n,contextIds:r,extensionRefs:b,forgeUIAnalyticsContext:p,metalClientPromise:h,page:s,analyticsWebClient:d,renderFunction:async()=>(({accountId:e,apolloClient:t,cloudId:n,contextIds:r,isEditing:a,productDataContext:o,setExtensionRef:c,environment:s,product:l,page:u,extensionData:d})=>Object(v.a)(({node:p})=>i.a.createElement(X,{accountId:e||"",apolloClient:t,cloudId:n,contextIds:r,environment:s,extension:p,extensionData:d,isEditing:a,product:l,productDataContext:o,page:u,setExtensionRef:c}),M.a))({accountId:e,cloudId:t,extensionData:f,apolloClient:n,contextIds:r,isEditing:Boolean(u),productDataContext:te(a),setExtensionRef:y,environment:o,product:c,page:s}),startTimeMs:m,destroyMetalClient:g})}));var ne=n("jyMV");n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return ee})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return ne.c}))}}]);
//# sourceMappingURL=80.BcdtmAbq1B.js.map