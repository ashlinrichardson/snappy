(window.webpackJsonp=window.webpackJsonp||[]).push([["resolved-inline-comments-dialog~b59ad437"],{"3oRx":function(e,t,n){"use strict";var a=n("Czhu"),r=n("ERkP"),l=n.n(r),o=n("Q//X"),i=n("+GtZ"),c=n("Iy7w"),s=n("1U1M"),d=n("L21V"),u=n("EFtY"),m=n.n(u),p=n("kbI0"),f=n("3IV/"),g=n("MqVv"),y=n("7OEs"),b=n("hATe"),v=n("EcEE"),h=n("S2j0");const E=Object(c.a)("div",{target:"e1s8o7tt0"})({name:"60afig",styles:"display:flex;padding-top:16px;"}),I=Object(c.a)("div",{target:"e1s8o7tt1"})({name:"qnh8h2",styles:"display:flex;flex-direction:column;padding-left:8px;> span{padding-top:4px;}"}),x=({onClose:e,content:t,user:n,webResources:a})=>{const[o,i]=Object(r.useState)(null);Object(r.useEffect)(()=>{Object(h.a)(a,()=>{},()=>{})},[]),Object(r.useEffect)(()=>{o&&Object(y.a)(o)},[o]);return l.a.createElement(g.a,{actions:[{text:"Close",onClick:()=>{e(!1)}}],width:"large"},l.a.createElement(E,null,l.a.createElement(b.a,{userId:n.userId,src:n.avatarUrl}),l.a.createElement(I,{onClick:t=>{t.target instanceof HTMLImageElement&&e(!1)}},l.a.createElement(v.a,{userId:n.userId,fullName:n.displayName}),l.a.createElement("span",{ref:e=>{i(e)},dangerouslySetInnerHTML:{__html:t}}))))};var C=n("H5qd");const O=n.n(C).a`query LegacyContentQuery($contentId:ID!){content(id:$contentId){nodes{id body{view{value webresource{keys}}}history{createdBy{...on KnownUser{accountId}...on User{accountId}profilePicture{path}displayName}}type}}}`,k=Object(c.a)("span",{target:"e1e3cud20"})({name:"wydwhr",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}"}),w=Object(c.a)("div",{target:"e1e3cud21"})({name:"suayju",styles:"margin:0 auto;width:100%;"}),j=Object(c.a)("div",{target:"e1e3cud22"})({name:"13tntgw",styles:"display:flex;padding:12px 0 16px 0;span{padding-right:8px;}"}),M=Object(c.a)("div",{target:"e1e3cud23"})("background-color:",f.N60,";border-radius:3px;height:12px;margin-bottom:8px;width:",e=>e.width,"%;"),R=({contentId:e})=>{var t,n;const[a,o]=Object(r.useState)(!1),{data:i,loading:c}=Object(s.d)(O,{variables:{contentId:e}}),u=Object(r.useCallback)(()=>{o(!0)},[e]),f=(e=>{var t,n,a;return{userId:null!=(a=e)&&null!=(a=a.content)&&null!=(a=a.nodes)&&null!=(a=a[0])&&null!=(a=a.history)&&null!=(a=a.createdBy)?a.accountId:a,avatarUrl:null!=(n=e)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.history)&&null!=(n=n.createdBy)&&null!=(n=n.profilePicture)?n.path:n,displayName:null!=(t=e)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.history)&&null!=(t=t.createdBy)?t.displayName:t}})(i),g=(null!=(n=i)&&null!=(n=n.content)&&null!=(n=n.nodes)&&null!=(n=n[0])&&null!=(n=n.body)&&null!=(n=n.view)?n.value:n)||"",y=(null!=(t=i)&&null!=(t=t.content)&&null!=(t=t.nodes)&&null!=(t=t[0])&&null!=(t=t.body)&&null!=(t=t.view)&&null!=(t=t.webresource)?t.keys:t)||[];return c?l.a.createElement(j,null,l.a.createElement(m.a,{label:"legacy-modal-shortcut"}),l.a.createElement(w,null,l.a.createElement(M,{width:100}),l.a.createElement(M,{width:100}),l.a.createElement(M,{width:75}))):l.a.createElement(r.Fragment,null,l.a.createElement(k,null,l.a.createElement(m.a,{label:"legacy-modal-shortcut"}),l.a.createElement("span",null,l.a.createElement("a",{href:"#",onClick:u},l.a.createElement(d.c,{id:"fabric-extension-handlers.fallback.action",defaultMessage:"Click to view content",description:"clickable link to display more content"}))," ",l.a.createElement(d.c,{id:"fabric-extension-handlers.fallback.reason",defaultMessage:"that can't display inline as it was created in a legacy version of Confluence.",description:"reason for why we cannot display the fallback content"}))),l.a.createElement(p.b,null,a&&l.a.createElement(x,{onClose:o,content:g,webResources:y,user:f})))};var N=n("1whV"),P=n.n(N);const T=Object(c.a)("span",{target:"e1ldg4e90"})({name:"wydwhr",styles:"display:flex;padding:12px 0;> span:first-of-type{padding-right:8px;}"}),z=()=>l.a.createElement(T,null,l.a.createElement(P.a,{label:"unsupported-legacy-error"}),l.a.createElement(d.c,{id:"fabric-extension-handlers.unsupported.fallback",defaultMessage:"This content cannot be displayed as it was created in a legacy version of Confluence and is unsupported.",description:"Reason for why we cannot display the unsupported fallback content"}));var L=n("Nk3d");n.d(t,"a",(function(){return A}));const V=["jira","attachments","bgcolor","blog-posts","center","chart","column","contentbylabel","content-by-user","rw-ui-layout-macro","content-report-table","profile-picture","contributors-summary","copyright","excerpt","excerpt-include","fancy-bullets","favpages","gallery","global-reports","map","highlight","listlabels","mathblock","mathinline","loremipsum","navmap","network","index","details","detailssummary","panel","popular-labels","privacy-mark","privacy-policy","recently-updated","recently-used-labels","reg-tm","section","sm","space-details","strike","tasks-report-macro","tm","rw-ui-textbox-macro","userlister","profile","jirachart","jiraroadmap","gadget","contributors"],_={insertCss:e=>e._insertCss()},A=(e,t,n,r)=>{const l={[i.c.MACRO_CORE]:D(e,t,n,r)},o={[i.c.MIGRATION]:S(e,t)};return Object(a.a)(Object(a.a)({},l),o)},D=(e,t,n,r)=>i=>{const{extensionKey:c}=i;if(e&&e(c),V.includes(c)){const e=Object(o.e)(i),s={node:i,contentId:t||"",mode:r||o.c,spaceKey:n||"",context:_,extensionKey:c,attributes:e};return l.a.createElement(L.a,Object(a.a)({},s))}return l.a.createElement(z,null)},S=(e,t)=>n=>{const{extensionKey:a}=n;return a===i.e.INVALID?(e&&e(),l.a.createElement(z,null)):a===i.b.INLINE_EXTERNAL_IMAGE||a===i.b.INLINE_MEDIA_IMAGE?(e&&e(a),t?l.a.createElement(R,{contentId:t}):null):null}},"6qVS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n("ERkP")),r=l(n("4KTy"));function l(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12z" fill="currentColor"/><rect fill="inherit" x="11" y="10" width="2" height="7" rx="1"/><circle fill="inherit" cx="12" cy="8" r="1"/></g></svg>'},e))};i.displayName="InfoIcon";var c=i;t.default=c},"8lDt":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("r2q8");class r extends a.EventEmitter{on(e,t){return super.on(e,t)}emit(e,t){return super.emit(e,t)}}},"9oDW":function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),r=n.n(a),l=n("1U1M"),o=n("L21V"),i=n("MqVv"),c=n("RjSO"),s=n("xsIe"),d=n("UIW9"),u=n("XVWa"),m=n("FdGg"),p=n("X2PC"),f=n("dIe6"),g=n("Czhu"),y=n("EfWO"),b=n.n(y),v=n("u1N3"),h=n("zJ/j"),E=n("6z9Z"),I=n("3VMZ"),x=n("hATe"),C=n("EcEE"),O=n("Ua4J"),k=n("0Dc1"),w=n("i4Pk"),j=n("3oRx"),M=n("v1Ui"),R=n("zft+"),N=n("LEcB"),P=n("Iy7w"),T=n("3IV/");const z=Object(P.a)("div",{target:"es0zzhd0"})({name:"1clngcy",styles:"display:flex;align-items:center;div:first-of-type{padding-right:4px;}"}),L=Object(P.a)("div",{target:"es0zzhd1"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),V=Object(P.a)("div",{target:"es0zzhd2"})(e=>({margin:0,padding:16,borderBottom:"1px solid "+T.N30,borderLeft:e.focused?"5px solid "+T.B400:"none","&:last-of-type":{borderBottom:"none"}})),_=Object(P.a)("div",{target:"es0zzhd3"})({padding:"10px 22px",borderLeft:"2px solid "+T.N20,marginTop:12,span:{background:""+T.Y50,borderBottom:"2px solid "+T.Y100}}),A=Object(P.a)("div",{target:"es0zzhd4"})({name:"2lrkjy",styles:"padding:15px 0;font-size:14px;"}),D=Object(P.a)("div",{target:"es0zzhd5"})({name:"1ljqarn",styles:"display:flex;align-items:center;font-size:12px;margin-bottom:10px;div:last-of-type{padding:0;}"}),S=Object(P.a)("div",{target:"es0zzhd6"})({name:"xzvvbj",styles:'&:after{content:"â€¢";padding-left:5px;padding-right:5px;}&:last-of-type:after{content:" ";margin-right:10px;}'}),U=Object(P.a)("div",{target:"es0zzhd7"})({color:""+T.B400,display:"flex",lineHeight:"27px"}),$=Object(P.a)("div",{target:"es0zzhd8"})({name:"ktb2h4",styles:"@keyframes show{0%{opacity:0;}100%{opacity:1;}}animation:show 0.25s ease-in-out;"}),B=Object(P.a)("span",{target:"es0zzhd9"})({color:""+T.N300}),H=Object(P.a)("div",{target:"es0zzhd10"})(({focused:e})=>({padding:"8px 16px",backgroundColor:e?""+T.B50:""+T.N20}));function F({show:e,replies:t,focusedReplyId:n,focusPointRef:a}){return e?r.a.createElement($,null,t.map(e=>{var t,l,o,i;const c=(null!=(i=e)&&null!=(i=i.author)&&null!=(i=i.profilePicture)?i.path:i)||void 0,s=(null!=(o=e)&&null!=(o=o.author)?o.accountId:o)||void 0,d=(null!=(l=e)&&null!=(l=l.author)?l.displayName:l)||"",u=null!=(t=e)&&null!=(t=t.version)?t.friendlyWhen:t;return r.a.createElement(H,{key:e.id,focused:n===e.id,ref:n===e.id?a:()=>null},r.a.createElement(z,null,r.a.createElement(x.a,{src:c,userId:s}),r.a.createElement(C.a,{userId:s,fullName:d,isAnonymous:!s,canViewProfile:!1})),r.a.createElement(A,null,r.a.createElement(w.a,{contentId:e.id,appearance:"comment",getExtensionHandlers:j.a,allowDynamicTextSizing:!1,contentType:"inlineComment"})),r.a.createElement(D,null,r.a.createElement(B,null,u)))})):null}var q=n("XFpn"),K=n.n(q),G=n("M/rd"),W=n("ewfN");const J=Object(o.g)({resolved:{id:"resolved-inline-comments-dialog.resolved",defaultMessage:"resolved",description:"Label of a tick icon."}}),Z=Object(P.a)("span",{target:"esf0pso0"})({color:""+T.N300,display:"flex",alignItems:"center",lineHeight:"27px","span:first-of-type":{marginRight:4},"> a":{color:""+T.N300,marginLeft:5,":visited":{color:""+T.N300}}}),X=({commentId:e,intl:t,spaceKey:n,contentId:a,resolveProperties:l,onClick:i})=>{if(!l)return null;const{resolvedByDangling:c,resolvedUser:s,resolvedFriendlyDate:d}=l;return r.a.createElement(Z,null,r.a.createElement(K.a,{label:t.formatMessage(J.resolved),primaryColor:T.G300})," ",c?r.a.createElement(o.c,{id:"resolved-inline-comments-dialog.resolved.by.dangling",defaultMessage:"Resolved because the text was deleted by {resolvedUser}",description:"Example of this would be 'Resolved because the text was deleted by John'",values:{resolvedUser:s}}):r.a.createElement(o.c,{id:"resolved-inline-comments-dialog.resolved.by",defaultMessage:"Resolved by {resolvedUser}",description:"Example of this would be 'Resolved by John'",values:{resolvedUser:s}}),r.a.createElement(G.a,{name:W.VIEW_PAGE.name,params:{spaceKey:n,contentId:a,query:{focusedCommentId:e},hash:"comment-"+e},onClick:i},d))};var Y=n("H5qd"),Q=n.n(Y);const ee=Q.a`mutation ReopenInlineCommentMutation($commentId:ID!)@experimental{experimentalReopenInlineComment(commentId:$commentId){result}}`,te=Object(P.a)("div",{target:"erhpave0"})({name:"xhyitk",styles:"display:flex;min-height:100px;"}),ne=()=>r.a.createElement(te,{"data-test-id":"resolved-inline-comments-empty"},r.a.createElement(o.c,{tagName:"p",id:"resolved-inline-comments-dialog.no.comments",defaultMessage:"There are no resolved comments on this page.",description:"Shows when there is nothing to show in the dialog"}),r.a.createElement(k.a,{subject:u.a.resolvedInlineCommentsDialog}));var ae=n("liuE"),re=n("RKN0");const le=Object(P.a)("div",{target:"e1rw3ybx0"})({name:"1b4traf",styles:"margin-left:20px;:hover{cursor:pointer;}"}),oe=Object(P.a)("section",{target:"e1rw3ybx1"})({name:"l3kgjp",styles:"background-color:black;color:white;padding:8px;border-radius:3px;max-width:200px;"}),ie=()=>{const[e,t]=Object(a.useState)(!1);return r.a.createElement(re.a,{content:r.a.createElement(oe,null,r.a.createElement(o.c,{id:"resolved-inline-comments-dialog.inline.message",defaultMessage:"Inline comments resolved when editing are only visible to people who can edit pages",description:"Informs the user about a type of resolved comments only visible to page editors"})),isOpen:e,placement:"top"},r.a.createElement(le,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},r.a.createElement(ae.a,{appearance:"default"},"VISIBLE TO EDITORS ONLY")))};function ce(e){return!(!e.location||!e.permissions)&&(e.permissions.isResolvable&&function(e){const t=`.inline-comment-marker[data-ref="${e}"]`,n=`span[data-mark-annotation-type="inlineComment"][data-id="${e}"]`,a=`[id="${e}"], [annotationtype="inlineComment"]`;return Boolean(document.querySelector(`${t}, ${n}, ${a}`))}(e.location.inlineMarkerRef))}const se=r.a.memo(Object(o.h)(({focusedCommentData:e,comments:t,intl:n,spaceKey:i,contentId:c,onClose:s,context:d})=>{const{location:m,replace:p}=Object(a.useContext)(O.a),f=Object(a.useContext)(E.a),[y,P]=Object(a.useState)(e&&e.parentCommentId?{[e.parentCommentId]:!0}:{}),[T,$]=Object(a.useState)(!1),B=r.a.createRef(),H=r.a.createRef(),{cohort:q}=Object(N.a)("confluence.frontend.react.inline.comments",["react","not-enrolled","backbone"],"not-enrolled",!1);Object(a.useEffect)(()=>{if(B.current&&H.current){const e=B.current.parentElement;e&&e.scrollTo&&e.scrollTo(0,H.current.offsetTop-75)}},[B,H]);const[K]=Object(l.c)(ee,{onCompleted:()=>{f.succeed({name:I.a.UNRESOLVE_INLINE_COMMENT});const{pathname:e,search:t,hash:n}=m,{query:a}=b.a.parse(t,!0);delete a.focusedCommentId,"editor"!==d&&("react"!==q?p(b.a.format({pathname:e,query:a,hash:n}),!0):s&&s(),$(!1))},refetchQueries:"react"===q&&"editor"!==d?[{query:M.a,variables:{pageId:c}}]:[]}),G=(e,t,n)=>()=>{n(Object(g.a)(Object(g.a)({},t),{},{[e]:!t[e]}))},W=(e,t)=>()=>{$(!0),f.start({name:I.a.UNRESOLVE_INLINE_COMMENT,id:e,attributes:{mode:"editor"===d?"edit":"view"}}),K({variables:{commentId:e},update:()=>{if("editor"===d){Object(R.b)().emit("unresolve",t),s&&s()}}})};return t.length?r.a.createElement(L,{ref:B,"data-test-id":"resolved-inline-comments"},t.map(t=>{var a,l,d,u,m;if(!t.location||t.parentId)return null;const p=t.replies||[],f=(null!=(m=t)&&null!=(m=m.author)&&null!=(m=m.profilePicture)?m.path:m)||void 0,g=(null!=(u=t)&&null!=(u=u.author)?u.accountId:u)||void 0,b=(null!=(d=t)&&null!=(d=d.author)?d.displayName:d)||"",E=Boolean(e&&e.id===t.id),I=null!=(l=t)?l.contentStatus:l,O=null!=(a=t)&&null!=(a=a.location)?a.inlineMarkerRef:a;return r.a.createElement(V,{key:t.id,focused:E,"data-test-id":"resolved-inline-comment-"+t.id,ref:E?H:()=>null},r.a.createElement(z,null,r.a.createElement(x.a,{src:f,userId:g,trigger:"click"}),r.a.createElement(C.a,{userId:g,fullName:b,isAnonymous:!g,canViewProfile:!1})),r.a.createElement(_,null,r.a.createElement("span",null,v.a.sanitize(t.location.inlineText))),r.a.createElement(A,null,r.a.createElement(w.a,{contentId:t.id,appearance:"comment",getExtensionHandlers:j.a,allowDynamicTextSizing:!1,contentType:"inlineComment"})),r.a.createElement(D,null,r.a.createElement(U,null,ce(t)&&r.a.createElement(S,null,r.a.createElement(h.a,{appearance:"link",spacing:"none",isDisabled:T,onClick:W(t.id,O)},r.a.createElement(o.c,{id:"resolved-inline-comments-dialog.reopen",defaultMessage:"Reopen",description:"Put a comment status from 'resolved' back to 'open'"}))),p.length?r.a.createElement(S,null,r.a.createElement(h.a,{appearance:"link",spacing:"none",onClick:G(t.id,y,P)},r.a.createElement(o.c,{id:"resolved-inline-comments-dialog.reply",defaultMessage:"{repliesCount, plural, one {# reply} other {# replies}}",description:"Please translate '# reply' and '# replies'. # will be replaced with the number. The end result is '1 reply' or '2 replies'",values:{repliesCount:p.length}}))):null),r.a.createElement(X,{intl:n,spaceKey:i,contentId:c,onClick:s,commentId:t.id,resolveProperties:t.location.inlineResolveProperties}),"draft"===I&&r.a.createElement(ie,null)),r.a.createElement(F,{show:y[t.id],replies:p,focusedReplyId:e&&e.parentCommentId?e.id:null,focusPointRef:H}))}),r.a.createElement(k.a,{subject:u.a.resolvedInlineCommentsDialog})):r.a.createElement(ne,null)}));var de=n("lRcl");const ue=Object(P.a)("div",{target:"ed0yteo0"})({name:"2s2dct",styles:"display:flex;align-items:center;justify-content:center;min-height:200px;"}),me=()=>r.a.createElement(ue,null,r.a.createElement(de.a,{size:"large"})),pe=Q.a`fragment AuthorFragment on Comment{author{displayName ...on KnownUser{accountId}...on User{accountId}profilePicture{path}}}`,fe=Q.a`query ResolvedInlineCommentsQuery($pageId:ID){comments(pageId:$pageId){nodes{id parentId contentStatus ...AuthorFragment body(representation:HTML){value}version{friendlyWhen}location{type ...on InlineComment{inlineText inlineMarkerRef inlineResolveProperties{resolvedUser resolvedByDangling resolvedFriendlyDate resolved}}}permissions{isResolvable}replies{id ...AuthorFragment body(representation:HTML){value}version{friendlyWhen}}}}}${pe}`;n.d(t,"ResolvedInlineCommentsDialog",(function(){return ye}));const ge=Object(o.g)({title:{id:"resolved-inline-comments-dialog.title",defaultMessage:"Resolved comments",description:"Title of the resolved inline comments dialog"},error:{id:"resolved-inline-comments-dialog.error",defaultMessage:"An error occurred. Please try again later.",description:"Dialog content body when error happens in inline comments dialog"},close:{id:"resolved-inline-comments-dialog.close",defaultMessage:"Close",description:"Close button for the dialog"}}),ye=Object(o.h)(({intl:e,spaceKey:t,contentId:n,focusedCommentData:o,onClose:g,context:y})=>{var b;const{createAnalyticsEvent:v}=Object(c.a)(),{data:h,loading:E,error:I}=Object(l.d)(fe,{variables:{pageId:n},fetchPolicy:"cache-and-network",onError:e=>{v({type:"sendTrackEvent",data:{action:"error",actionSubject:"query",attributes:{componentVersion:"v2",errorMessage:e.message},source:"ResolvedInlineCommentsDialog"}}).fire()}});Object(a.useEffect)(()=>{v({type:"sendTrackEvent",data:{action:"opened",actionSubject:"dialog",attributes:{componentVersion:"v2"},source:"ResolvedInlineCommentsDialog"}}).fire(),"editor"===y&&v({type:"sendScreenEvent",data:{name:"resolvedInlineCommentsModal",objectType:"page",objectId:n}}).fire()},[n]);const x=((null!=(b=h)&&null!=(b=b.comments)?b.nodes:b)||[]).filter(e=>{var t;return!0===(null!=(t=e)&&null!=(t=t.location)&&null!=(t=t.inlineResolveProperties)?t.resolved:t)});return r.a.createElement(a.Fragment,null,r.a.createElement(d.a,{subject:u.a.resolvedInlineCommentsDialog,markBeforeMount:!0}),r.a.createElement(i.a,{heading:e.formatMessage(ge.title),width:"large",actions:[{text:e.formatMessage(ge.close),onClick:g}]},r.a.createElement(m.a,{attribution:p.a.COLLABORATION},E||I?I?r.a.createElement(f.a,{error:I},r.a.createElement(s.a,{appearance:"error"},r.a.createElement("p",null,e.formatMessage(ge.error)))):r.a.createElement(me,null):r.a.createElement(se,{spaceKey:t,contentId:n,focusedCommentData:o,comments:x,onClose:g,context:y}))))})},EFtY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n("ERkP")),r=l(n("4KTy"));function l(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0 1 19.005 21H4.995A1.996 1.996 0 0 1 3 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 0 0 2 0V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 1 0-1.414-1.414l-8 8a1 1 0 0 0 1.414 1.414z"/></g></svg>'},e))};i.displayName="ShortcutIcon";var c=i;t.default=c},EcEE:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n.n(a),l=n("L21V"),o=n("WA38"),i=n("Cwwk"),c=n("KsTJ"),s=n("TVRZ"),d=n("bR0+");const u=c.default.div`
  display: inline-block;
`,m=({userId:e,fullName:t,isAnonymous:n=!1,onUserLinkClick:a=(()=>{}),canViewProfile:c=!0,referralSource:m})=>{const p=Object(i.a)();return n||!e||""===e?r.a.createElement(l.c,{id:"profile.anonymous.name",defaultMessage:"Anonymous",description:"Text for Anonymous user profile link."}):r.a.createElement(s.a,{isAnonymous:n,canViewProfile:c,userId:e},p?r.a.createElement(o.a,{target:"_blank",onClick:a,href:Object(d.a)(e,m)},t):r.a.createElement(u,null,t))}},KuFb:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("7+Q0");const r={[a.b.DEFAULT]:"full-page",[a.b.FULL_WIDTH]:"full-width"},l=e=>{const t=r[e];return t||o()},o=()=>r[a.b.DEFAULT]},Licu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd"),r=n.n(a),l=n("j+hl");const o=r.a`query ContentRendererQuery($contentId:ID$status:[String]){content(id:$contentId status:$status){nodes{id body{atlas_doc_format{value}}space{id key}type ...contentAppearancePublishedFragment}}}${l.b}`},XFpn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n("ERkP")),r=l(n("4KTy"));function l(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};i.displayName="CheckCircleIcon";var c=i;t.default=c},hATe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n.n(a),l=n("KsTJ"),o=n("Oqsm"),i=n("frZf"),c=n("Cwwk"),s=n("TVRZ");const d=l.default.div`
  ${({canViewProfile:e})=>e&&"\n    cursor: pointer;\n  "}
`,u=({userId:e,canViewProfile:t=!0,isAnonymous:n=!1,size:a="medium",src:l,trigger:u})=>{const m=!n&&t&&l?l:i.a+"/images/icons/profilepics/anonymous.png",p=Object(c.a)();return r.a.createElement(s.a,{userId:e,canViewProfile:t,isAnonymous:n,trigger:u},r.a.createElement(d,{canViewProfile:t&&p},r.a.createElement(o.a,{src:m,size:a,target:"_blank"})))}},i4Pk:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("Czhu"),r=n("HbGN"),l=n("ERkP"),o=n.n(l),i=n("1U1M"),c=n("82Bo"),s=n("Licu"),d=n("3VMZ"),u=n("hpu0"),m=n("KuFb"),p=n("adTp"),f=n("xkEZ"),g=n("X2PC"),y=n("KIs4");const b=Object(l.memo)(e=>{var t;let{appearance:n,contentId:f,contentType:g,getEventHandlers:b}=e,v=Object(r.a)(e,["appearance","contentId","contentType","getEventHandlers"]);const[h,E]=Object(l.useState)(null),{data:I,error:x}=Object(i.d)(s.a,{variables:{contentId:f,status:"inlineComment"!==g?["current"]:["current","draft"]},fetchPolicy:"cache-and-network",context:{single:!0}}),C=Object(l.useCallback)((e,t)=>{let n=d.a.VIEW_INLINE_COMMENT_TOP_LEVEL;"inlineReply"===e&&(n=d.a.VIEW_INLINE_COMMENT_REPLY),Object(u.b)().fail({name:n,error:t})},[]);if(!f)return null;if(x)throw C(g,x),x;let O=null,k=n;const w=null!=(t=I)&&null!=(t=t.content)&&null!=(t=t.nodes)?t[0]:t;try{var j;!k&&w&&(k=Object(m.a)(Object(p.d)(w).appearance));const e=null!=(j=I)&&null!=(j=j.content)&&null!=(j=j.nodes)&&null!=(j=j[0])&&null!=(j=j.body)&&null!=(j=j.atlas_doc_format)?j.value:j;O=e?JSON.parse(e):null}catch(M){throw C(g,M),M}return o.a.createElement("div",{ref:E,"data-test-appearance":k},o.a.createElement(y.a,null,({featureFlags:e})=>o.a.createElement(c.a,Object(a.a)({appearance:k,contentId:f,document:O,eventHandlers:b&&b(),featureFlags:e,portalRef:h},v))))}),v=Object(f.a)({attribution:g.a.BACKBONE})(b)},v1Ui:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("H5qd"),r=n.n(a),l=n("wHM1");const o=r.a`query InlineCommentsQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ROOT){nodes{...inlineCommentFragment replies{...inlineCommentFragment}}}}${l.a}`},wHM1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("H5qd");const r=n.n(a).a`fragment inlineCommentFragment on Comment{id author{displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}}body(representation:ATLAS_DOC_FORMAT){value}contentStatus isLikedByCurrentUser likeCount links{webui}location{...on InlineComment{type inlineMarkerRef inlineResolveProperties{resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{when number}}`},xkEZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var a=n("Czhu"),r=n("ERkP"),l=n.n(r),o=n("FdGg"),i=n("fDrt");function c(e){return d(o.a,e)}function s(e){return d(i.a,e)}function d(e,t){return function(n){return r=>l.a.createElement(e,Object(a.a)({},t),l.a.createElement(n,Object(a.a)({},r)))}}},xsIe:function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),l=n("zJ/j"),o=n("XFpn"),i=n.n(o),c=n("1whV"),s=n.n(c),d=n("6qVS"),u=n.n(d),m=n("o0fs"),p=n.n(m),f=n("OOEx"),g=n.n(f),y=n("3IV/");const b={info:{backgroundColor:y.B50,Icon:u.a,primaryIconColor:y.B500},warning:{backgroundColor:y.Y50,Icon:g.a,primaryIconColor:y.Y500},error:{backgroundColor:y.R50,Icon:s.a,primaryIconColor:y.R500},confirmation:{backgroundColor:y.G50,Icon:i.a,primaryIconColor:y.G500},change:{backgroundColor:y.P50,Icon:p.a,primaryIconColor:y.P500}};var v=n("KsTJ"),h=n("BMbf"),E=n("WEdt");const I=v.default.section`
  display: flex;
  border-radius: ${h.c}px;
  background-color: ${({backgroundColor:e})=>e};
  padding: ${2*Object(h.h)()}px;
`,x=v.default.div`
  flex-grow: 1;
`,C=v.default.h1`
  margin: 0;
  ${E.h500};
`,O=v.default.div`
  * + & {
    margin-top: 8px;
  }
`,k=v.default.ul`
  display: flex;
  list-style: none;
  padding-left: 0;
  * + & {
    margin-top: 8px;
  }
`,w=v.default.li`
  align-items: center;
  display: flex;
  margin: 0;
  & + &::before {
    color: ${y.N500};
    content: 'Â·';
    display: inline-block;
    text-align: center;
    vertical-align: middle;
    width: ${2*Object(h.h)()}px;
  }
`,j=v.default.div`
  flex: 0 0 auto;
  width: ${5*Object(h.h)()}px;
  > span {
    margin: -2px 0;
    vertical-align: top;
  }
`;n.d(t,"a",(function(){return M}));class M extends r.a.Component{constructor(){super(...arguments),this.renderAction=(e,t)=>{const{href:n,key:a,onClick:o,text:i,testId:c}=e;return r.a.createElement(w,{key:a,"data-testid":c},o||n?r.a.createElement(l.a,{appearance:"link",spacing:"none",onClick:o,href:n,component:t},i):i)}}render(){const{children:e,title:t,actions:n,appearance:a,icon:l,linkComponent:o,testId:i}=this.props,c=b[a]||b.info,s=l||c.Icon;return r.a.createElement(I,{backgroundColor:c.backgroundColor,"data-testid":i},r.a.createElement(j,null,r.a.createElement(s,{primaryColor:c.primaryIconColor,secondaryColor:c.backgroundColor})),r.a.createElement(x,null,t?r.a.createElement(C,null,t):null,e?r.a.createElement(O,null,e):null,n&&n.length?r.a.createElement(k,null,n.map(e=>this.renderAction(e,o))):null))}}M.defaultProps={appearance:"info"}},"zft+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n("8lDt");let r;const l=()=>{r||(r=new a.a)},o=()=>r}}]);
//# sourceMappingURL=resolved-inline-comments-dialog~b59ad437.FqAjKoivFn.js.map